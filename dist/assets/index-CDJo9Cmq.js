(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function n(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=n(u);fetch(u.href,d)}})();function ay(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function vA(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function s(){var u=!1;try{u=this instanceof s}catch{}return u?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var u=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(n,s,u.get?u:{enumerable:!0,get:function(){return r[s]}})}),n}var Jm={exports:{}},Wh={};var I_;function yA(){if(I_)return Wh;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,u,d){var g=null;if(d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),"key"in u){d={};for(var E in u)E!=="key"&&(d[E]=u[E])}else d=u;return u=d.ref,{$$typeof:r,type:s,key:g,ref:u!==void 0?u:null,props:d}}return Wh.Fragment=e,Wh.jsx=n,Wh.jsxs=n,Wh}var N_;function _A(){return N_||(N_=1,Jm.exports=yA()),Jm.exports}var Ge=_A(),ev={exports:{}},Ot={};var L_;function EA(){if(L_)return Ot;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),F=Symbol.iterator;function Y(fe){return fe===null||typeof fe!="object"?null:(fe=F&&fe[F]||fe["@@iterator"],typeof fe=="function"?fe:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_e=Object.assign,te={};function Ee(fe,z,I){this.props=fe,this.context=z,this.refs=te,this.updater=I||Z}Ee.prototype.isReactComponent={},Ee.prototype.setState=function(fe,z){if(typeof fe!="object"&&typeof fe!="function"&&fe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,fe,z,"setState")},Ee.prototype.forceUpdate=function(fe){this.updater.enqueueForceUpdate(this,fe,"forceUpdate")};function X(){}X.prototype=Ee.prototype;function ne(fe,z,I){this.props=fe,this.context=z,this.refs=te,this.updater=I||Z}var oe=ne.prototype=new X;oe.constructor=ne,_e(oe,Ee.prototype),oe.isPureReactComponent=!0;var he=Array.isArray;function xe(){}var B={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function q(fe,z,I){var ge=I.ref;return{$$typeof:r,type:fe,key:z,ref:ge!==void 0?ge:null,props:I}}function ae(fe,z){return q(fe.type,z,fe.props)}function G(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===r}function ie(fe){var z={"=":"=0",":":"=2"};return"$"+fe.replace(/[=:]/g,function(I){return z[I]})}var K=/\/+/g;function st(fe,z){return typeof fe=="object"&&fe!==null&&fe.key!=null?ie(""+fe.key):z.toString(36)}function ce(fe){switch(fe.status){case"fulfilled":return fe.value;case"rejected":throw fe.reason;default:switch(typeof fe.status=="string"?fe.then(xe,xe):(fe.status="pending",fe.then(function(z){fe.status==="pending"&&(fe.status="fulfilled",fe.value=z)},function(z){fe.status==="pending"&&(fe.status="rejected",fe.reason=z)})),fe.status){case"fulfilled":return fe.value;case"rejected":throw fe.reason}}throw fe}function ue(fe,z,I,ge,Je){var $e=typeof fe;($e==="undefined"||$e==="boolean")&&(fe=null);var dt=!1;if(fe===null)dt=!0;else switch($e){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(fe.$$typeof){case r:case e:dt=!0;break;case x:return dt=fe._init,ue(dt(fe._payload),z,I,ge,Je)}}if(dt)return Je=Je(fe),dt=ge===""?"."+st(fe,0):ge,he(Je)?(I="",dt!=null&&(I=dt.replace(K,"$&/")+"/"),ue(Je,z,I,"",function(Kt){return Kt})):Je!=null&&(G(Je)&&(Je=ae(Je,I+(Je.key==null||fe&&fe.key===Je.key?"":(""+Je.key).replace(K,"$&/")+"/")+dt)),z.push(Je)),1;dt=0;var kt=ge===""?".":ge+":";if(he(fe))for(var Tt=0;Tt<fe.length;Tt++)ge=fe[Tt],$e=kt+st(ge,Tt),dt+=ue(ge,z,I,$e,Je);else if(Tt=Y(fe),typeof Tt=="function")for(fe=Tt.call(fe),Tt=0;!(ge=fe.next()).done;)ge=ge.value,$e=kt+st(ge,Tt++),dt+=ue(ge,z,I,$e,Je);else if($e==="object"){if(typeof fe.then=="function")return ue(ce(fe),z,I,ge,Je);throw z=String(fe),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(fe).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return dt}function we(fe,z,I){if(fe==null)return fe;var ge=[],Je=0;return ue(fe,ge,"","",function($e){return z.call(I,$e,Je++)}),ge}function Ve(fe){if(fe._status===-1){var z=fe._result;z=z(),z.then(function(I){(fe._status===0||fe._status===-1)&&(fe._status=1,fe._result=I)},function(I){(fe._status===0||fe._status===-1)&&(fe._status=2,fe._result=I)}),fe._status===-1&&(fe._status=0,fe._result=z)}if(fe._status===1)return fe._result.default;throw fe._result}var ot=typeof reportError=="function"?reportError:function(fe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof fe=="object"&&fe!==null&&typeof fe.message=="string"?String(fe.message):String(fe),error:fe});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",fe);return}console.error(fe)},St={map:we,forEach:function(fe,z,I){we(fe,function(){z.apply(this,arguments)},I)},count:function(fe){var z=0;return we(fe,function(){z++}),z},toArray:function(fe){return we(fe,function(z){return z})||[]},only:function(fe){if(!G(fe))throw Error("React.Children.only expected to receive a single React element child.");return fe}};return Ot.Activity=k,Ot.Children=St,Ot.Component=Ee,Ot.Fragment=n,Ot.Profiler=u,Ot.PureComponent=ne,Ot.StrictMode=s,Ot.Suspense=b,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(fe){return B.H.useMemoCache(fe)}},Ot.cache=function(fe){return function(){return fe.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(fe,z,I){if(fe==null)throw Error("The argument must be a React element, but you passed "+fe+".");var ge=_e({},fe.props),Je=fe.key;if(z!=null)for($e in z.key!==void 0&&(Je=""+z.key),z)!V.call(z,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&z.ref===void 0||(ge[$e]=z[$e]);var $e=arguments.length-2;if($e===1)ge.children=I;else if(1<$e){for(var dt=Array($e),kt=0;kt<$e;kt++)dt[kt]=arguments[kt+2];ge.children=dt}return q(fe.type,Je,ge)},Ot.createContext=function(fe){return fe={$$typeof:g,_currentValue:fe,_currentValue2:fe,_threadCount:0,Provider:null,Consumer:null},fe.Provider=fe,fe.Consumer={$$typeof:d,_context:fe},fe},Ot.createElement=function(fe,z,I){var ge,Je={},$e=null;if(z!=null)for(ge in z.key!==void 0&&($e=""+z.key),z)V.call(z,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Je[ge]=z[ge]);var dt=arguments.length-2;if(dt===1)Je.children=I;else if(1<dt){for(var kt=Array(dt),Tt=0;Tt<dt;Tt++)kt[Tt]=arguments[Tt+2];Je.children=kt}if(fe&&fe.defaultProps)for(ge in dt=fe.defaultProps,dt)Je[ge]===void 0&&(Je[ge]=dt[ge]);return q(fe,$e,Je)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(fe){return{$$typeof:E,render:fe}},Ot.isValidElement=G,Ot.lazy=function(fe){return{$$typeof:x,_payload:{_status:-1,_result:fe},_init:Ve}},Ot.memo=function(fe,z){return{$$typeof:T,type:fe,compare:z===void 0?null:z}},Ot.startTransition=function(fe){var z=B.T,I={};B.T=I;try{var ge=fe(),Je=B.S;Je!==null&&Je(I,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(xe,ot)}catch($e){ot($e)}finally{z!==null&&I.types!==null&&(z.types=I.types),B.T=z}},Ot.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ot.use=function(fe){return B.H.use(fe)},Ot.useActionState=function(fe,z,I){return B.H.useActionState(fe,z,I)},Ot.useCallback=function(fe,z){return B.H.useCallback(fe,z)},Ot.useContext=function(fe){return B.H.useContext(fe)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(fe,z){return B.H.useDeferredValue(fe,z)},Ot.useEffect=function(fe,z){return B.H.useEffect(fe,z)},Ot.useEffectEvent=function(fe){return B.H.useEffectEvent(fe)},Ot.useId=function(){return B.H.useId()},Ot.useImperativeHandle=function(fe,z,I){return B.H.useImperativeHandle(fe,z,I)},Ot.useInsertionEffect=function(fe,z){return B.H.useInsertionEffect(fe,z)},Ot.useLayoutEffect=function(fe,z){return B.H.useLayoutEffect(fe,z)},Ot.useMemo=function(fe,z){return B.H.useMemo(fe,z)},Ot.useOptimistic=function(fe,z){return B.H.useOptimistic(fe,z)},Ot.useReducer=function(fe,z,I){return B.H.useReducer(fe,z,I)},Ot.useRef=function(fe){return B.H.useRef(fe)},Ot.useState=function(fe){return B.H.useState(fe)},Ot.useSyncExternalStore=function(fe,z,I){return B.H.useSyncExternalStore(fe,z,I)},Ot.useTransition=function(){return B.H.useTransition()},Ot.version="19.2.3",Ot}var O_;function sy(){return O_||(O_=1,ev.exports=EA()),ev.exports}var De=sy();const ng=ay(De);var tv={exports:{}},Kh={},nv={exports:{}},iv={};var M_;function bA(){return M_||(M_=1,(function(r){function e(ue,we){var Ve=ue.length;ue.push(we);e:for(;0<Ve;){var ot=Ve-1>>>1,St=ue[ot];if(0<u(St,we))ue[ot]=we,ue[Ve]=St,Ve=ot;else break e}}function n(ue){return ue.length===0?null:ue[0]}function s(ue){if(ue.length===0)return null;var we=ue[0],Ve=ue.pop();if(Ve!==we){ue[0]=Ve;e:for(var ot=0,St=ue.length,fe=St>>>1;ot<fe;){var z=2*(ot+1)-1,I=ue[z],ge=z+1,Je=ue[ge];if(0>u(I,Ve))ge<St&&0>u(Je,I)?(ue[ot]=Je,ue[ge]=Ve,ot=ge):(ue[ot]=I,ue[z]=Ve,ot=z);else if(ge<St&&0>u(Je,Ve))ue[ot]=Je,ue[ge]=Ve,ot=ge;else break e}}return we}function u(ue,we){var Ve=ue.sortIndex-we.sortIndex;return Ve!==0?Ve:ue.id-we.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var g=Date,E=g.now();r.unstable_now=function(){return g.now()-E}}var b=[],T=[],x=1,k=null,F=3,Y=!1,Z=!1,_e=!1,te=!1,Ee=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function oe(ue){for(var we=n(T);we!==null;){if(we.callback===null)s(T);else if(we.startTime<=ue)s(T),we.sortIndex=we.expirationTime,e(b,we);else break;we=n(T)}}function he(ue){if(_e=!1,oe(ue),!Z)if(n(b)!==null)Z=!0,xe||(xe=!0,ie());else{var we=n(T);we!==null&&ce(he,we.startTime-ue)}}var xe=!1,B=-1,V=5,q=-1;function ae(){return te?!0:!(r.unstable_now()-q<V)}function G(){if(te=!1,xe){var ue=r.unstable_now();q=ue;var we=!0;try{e:{Z=!1,_e&&(_e=!1,X(B),B=-1),Y=!0;var Ve=F;try{t:{for(oe(ue),k=n(b);k!==null&&!(k.expirationTime>ue&&ae());){var ot=k.callback;if(typeof ot=="function"){k.callback=null,F=k.priorityLevel;var St=ot(k.expirationTime<=ue);if(ue=r.unstable_now(),typeof St=="function"){k.callback=St,oe(ue),we=!0;break t}k===n(b)&&s(b),oe(ue)}else s(b);k=n(b)}if(k!==null)we=!0;else{var fe=n(T);fe!==null&&ce(he,fe.startTime-ue),we=!1}}break e}finally{k=null,F=Ve,Y=!1}we=void 0}}finally{we?ie():xe=!1}}}var ie;if(typeof ne=="function")ie=function(){ne(G)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,st=K.port2;K.port1.onmessage=G,ie=function(){st.postMessage(null)}}else ie=function(){Ee(G,0)};function ce(ue,we){B=Ee(function(){ue(r.unstable_now())},we)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ue){ue.callback=null},r.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ue?Math.floor(1e3/ue):5},r.unstable_getCurrentPriorityLevel=function(){return F},r.unstable_next=function(ue){switch(F){case 1:case 2:case 3:var we=3;break;default:we=F}var Ve=F;F=we;try{return ue()}finally{F=Ve}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(ue,we){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Ve=F;F=ue;try{return we()}finally{F=Ve}},r.unstable_scheduleCallback=function(ue,we,Ve){var ot=r.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?ot+Ve:ot):Ve=ot,ue){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=Ve+St,ue={id:x++,callback:we,priorityLevel:ue,startTime:Ve,expirationTime:St,sortIndex:-1},Ve>ot?(ue.sortIndex=Ve,e(T,ue),n(b)===null&&ue===n(T)&&(_e?(X(B),B=-1):_e=!0,ce(he,Ve-ot))):(ue.sortIndex=St,e(b,ue),Z||Y||(Z=!0,xe||(xe=!0,ie()))),ue},r.unstable_shouldYield=ae,r.unstable_wrapCallback=function(ue){var we=F;return function(){var Ve=F;F=we;try{return ue.apply(this,arguments)}finally{F=Ve}}}})(iv)),iv}var P_;function TA(){return P_||(P_=1,nv.exports=bA()),nv.exports}var rv={exports:{}},dr={};var F_;function SA(){if(F_)return dr;F_=1;var r=sy();function e(b){var T="https://react.dev/errors/"+b;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)T+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+b+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(b,T,x){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:k==null?null:""+k,children:b,containerInfo:T,implementation:x}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(b,T){if(b==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dr.createPortal=function(b,T){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(e(299));return d(b,T,null,x)},dr.flushSync=function(b){var T=g.T,x=s.p;try{if(g.T=null,s.p=2,b)return b()}finally{g.T=T,s.p=x,s.d.f()}},dr.preconnect=function(b,T){typeof b=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,s.d.C(b,T))},dr.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},dr.preinit=function(b,T){if(typeof b=="string"&&T&&typeof T.as=="string"){var x=T.as,k=E(x,T.crossOrigin),F=typeof T.integrity=="string"?T.integrity:void 0,Y=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;x==="style"?s.d.S(b,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:k,integrity:F,fetchPriority:Y}):x==="script"&&s.d.X(b,{crossOrigin:k,integrity:F,fetchPriority:Y,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},dr.preinitModule=function(b,T){if(typeof b=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var x=E(T.as,T.crossOrigin);s.d.M(b,{crossOrigin:x,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&s.d.M(b)},dr.preload=function(b,T){if(typeof b=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var x=T.as,k=E(x,T.crossOrigin);s.d.L(b,x,{crossOrigin:k,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},dr.preloadModule=function(b,T){if(typeof b=="string")if(T){var x=E(T.as,T.crossOrigin);s.d.m(b,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:x,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else s.d.m(b)},dr.requestFormReset=function(b){s.d.r(b)},dr.unstable_batchedUpdates=function(b,T){return b(T)},dr.useFormState=function(b,T,x){return g.H.useFormState(b,T,x)},dr.useFormStatus=function(){return g.H.useHostTransitionStatus()},dr.version="19.2.3",dr}var B_;function wA(){if(B_)return rv.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rv.exports=SA(),rv.exports}var U_;function AA(){if(U_)return Kh;U_=1;var r=TA(),e=sy(),n=wA();function s(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var a=t,l=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(l=a.return),t=a.return;while(t)}return a.tag===3?l:null}function g(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function E(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function b(t){if(d(t)!==t)throw Error(s(188))}function T(t){var a=t.alternate;if(!a){if(a=d(t),a===null)throw Error(s(188));return a!==t?null:t}for(var l=t,h=a;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){l=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return b(v),t;if(_===h)return b(v),a;_=_.sibling}throw Error(s(188))}if(l.return!==h.return)l=v,h=_;else{for(var R=!1,U=v.child;U;){if(U===l){R=!0,l=v,h=_;break}if(U===h){R=!0,h=v,l=_;break}U=U.sibling}if(!R){for(U=_.child;U;){if(U===l){R=!0,l=_,h=v;break}if(U===h){R=!0,h=_,l=v;break}U=U.sibling}if(!R)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:a}function x(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=x(t),a!==null)return a;t=t.sibling}return null}var k=Object.assign,F=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),_e=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var K=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===K?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _e:return"Fragment";case Ee:return"Profiler";case te:return"StrictMode";case he:return"Suspense";case xe:return"SuspenseList";case q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case ne:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case oe:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return a=t.displayName||null,a!==null?a:st(t.type)||"Memo";case V:a=t._payload,t=t._init;try{return st(t(a))}catch{}}return null}var ce=Array.isArray,ue=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},ot=[],St=-1;function fe(t){return{current:t}}function z(t){0>St||(t.current=ot[St],ot[St]=null,St--)}function I(t,a){St++,ot[St]=t.current,t.current=a}var ge=fe(null),Je=fe(null),$e=fe(null),dt=fe(null);function kt(t,a){switch(I($e,a),I(Je,t),I(ge,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?e_(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=e_(a),t=t_(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(ge),I(ge,t)}function Tt(){z(ge),z(Je),z($e)}function Kt(t){t.memoizedState!==null&&I(dt,t);var a=ge.current,l=t_(a,t.type);a!==l&&(I(Je,t),I(ge,l))}function xt(t){Je.current===t&&(z(ge),z(Je)),dt.current===t&&(z(dt),Hh._currentValue=Ve)}var Ft,un;function sn(t){if(Ft===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ft=a&&a[1]||"",un=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+t+un}var ut=!1;function Fn(t,a){if(!t||ut)return"";ut=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Me){var Ne=Me}Reflect.construct(t,[],ze)}else{try{ze.call()}catch(Me){Ne=Me}t.call(ze.prototype)}}else{try{throw Error()}catch(Me){Ne=Me}(ze=t())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Me){if(Me&&Ne&&typeof Me.stack=="string")return[Me.stack,Ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),R=_[0],U=_[1];if(R&&U){var se=R.split(`
`),Ie=U.split(`
`);for(v=h=0;h<se.length&&!se[h].includes("DetermineComponentFrameRoot");)h++;for(;v<Ie.length&&!Ie[v].includes("DetermineComponentFrameRoot");)v++;if(h===se.length||v===Ie.length)for(h=se.length-1,v=Ie.length-1;1<=h&&0<=v&&se[h]!==Ie[v];)v--;for(;1<=h&&0<=v;h--,v--)if(se[h]!==Ie[v]){if(h!==1||v!==1)do if(h--,v--,0>v||se[h]!==Ie[v]){var Pe=`
`+se[h].replace(" at new "," at ");return t.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",t.displayName)),Pe}while(1<=h&&0<=v);break}}}finally{ut=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?sn(l):""}function li(t,a){switch(t.tag){case 26:case 27:case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return t.child!==a&&a!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return Fn(t.type,!1);case 11:return Fn(t.type.render,!1);case 1:return Fn(t.type,!0);case 31:return sn("Activity");default:return""}}function yn(t){try{var a="",l=null;do a+=li(t,l),l=t,t=t.return;while(t);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var tn=Object.prototype.hasOwnProperty,et=r.unstable_scheduleCallback,mn=r.unstable_cancelCallback,er=r.unstable_shouldYield,Kr=r.unstable_requestPaint,Se=r.unstable_now,Ce=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,P=r.unstable_UserBlockingPriority,M=r.unstable_NormalPriority,le=r.unstable_LowPriority,w=r.unstable_IdlePriority,L=r.log,W=r.unstable_setDisableYieldValue,$=null,ee=null;function ye(t){if(typeof L=="function"&&W(t),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode($,t)}catch{}}var re=Math.clz32?Math.clz32:me,J=Math.log,Te=Math.LN2;function me(t){return t>>>=0,t===0?32:31-(J(t)/Te|0)|0}var Qe=256,nt=262144,Xe=4194304;function We(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pt(t,a,l){var h=t.pendingLanes;if(h===0)return 0;var v=0,_=t.suspendedLanes,R=t.pingedLanes;t=t.warmLanes;var U=h&134217727;return U!==0?(h=U&~_,h!==0?v=We(h):(R&=U,R!==0?v=We(R):l||(l=U&~t,l!==0&&(v=We(l))))):(U=h&~_,U!==0?v=We(U):R!==0?v=We(R):l||(l=h&~t,l!==0&&(v=We(l)))),v===0?0:a!==0&&a!==v&&(a&_)===0&&(_=v&-v,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:v}function mt(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function At(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var t=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),t}function Bt(t){for(var a=[],l=0;31>l;l++)a.push(t);return a}function Yt(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bn(t,a,l,h,v,_){var R=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var U=t.entanglements,se=t.expirationTimes,Ie=t.hiddenUpdates;for(l=R&~l;0<l;){var Pe=31-re(l),ze=1<<Pe;U[Pe]=0,se[Pe]=-1;var Ne=Ie[Pe];if(Ne!==null)for(Ie[Pe]=null,Pe=0;Pe<Ne.length;Pe++){var Me=Ne[Pe];Me!==null&&(Me.lane&=-536870913)}l&=~ze}h!==0&&zn(t,h,0),_!==0&&v===0&&t.tag!==0&&(t.suspendedLanes|=_&~(R&~a))}function zn(t,a,l){t.pendingLanes|=a,t.suspendedLanes&=~a;var h=31-re(a);t.entangledLanes|=a,t.entanglements[h]=t.entanglements[h]|1073741824|l&261930}function Qn(t,a){var l=t.entangledLanes|=a;for(t=t.entanglements;l;){var h=31-re(l),v=1<<h;v&a|t[h]&a&&(t[h]|=a),l&=~v}}function ha(t,a){var l=a&-a;return l=(l&42)!==0?1:kr(l),(l&(t.suspendedLanes|a))!==0?0:l}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ir(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ys(){var t=we.p;return t!==0?t:(t=window.event,t===void 0?32:w_(t.type))}function Ui(t,a){var l=we.p;try{return we.p=t,a()}finally{we.p=l}}var Vi=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Vi,Ht="__reactProps$"+Vi,ui="__reactContainer$"+Vi,Li="__reactEvents$"+Vi,zi="__reactListeners$"+Vi,Ai="__reactHandles$"+Vi,da="__reactResources$"+Vi,yr="__reactMarker$"+Vi;function Yr(t){delete t[Hn],delete t[Ht],delete t[Li],delete t[zi],delete t[Ai]}function Hi(t){var a=t[Hn];if(a)return a;for(var l=t.parentNode;l;){if(a=l[ui]||l[Hn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(t=l_(t);t!==null;){if(l=t[Hn])return l;t=l_(t)}return a}t=l,l=t.parentNode}return null}function Ci(t){if(t=t[Hn]||t[ui]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function _r(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(s(33))}function Oi(t){var a=t[da];return a||(a=t[da]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qn(t){t[yr]=!0}var Go=new Set,kn={};function rt(t,a){Mi(t,a),Mi(t+"Capture",a)}function Mi(t,a){for(kn[t]=a,t=0;t<a.length;t++)Go.add(a[t])}var eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tr={},Qt={};function pa(t){return tn.call(Qt,t)?!0:tn.call(tr,t)?!1:eo.test(t)?Qt[t]=!0:(tr[t]=!0,!1)}function ga(t,a,l){if(pa(a))if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+l)}}function qi(t,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+l)}}function Fe(t,a,l,h){if(h===null)t.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(a,l,""+h)}}function ct(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ma(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function to(t,a,l){var h=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,_=h.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return v.call(this)},set:function(R){l=""+R,_.call(this,R)}}),Object.defineProperty(t,a,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(R){l=""+R},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function nn(t){if(!t._valueTracker){var a=ma(t)?"checked":"value";t._valueTracker=to(t,a,""+t[a])}}function va(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return t&&(h=ma(t)?t.checked?"true":"false":t.value),t=h,t!==l?(a.setValue(t),!0):!1}function Qr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _t=/[\n"\\]/g;function nr(t){return t.replace(_t,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function no(t,a,l,h,v,_,R,U){t.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.type=R:t.removeAttribute("type"),a!=null?R==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+ct(a)):t.value!==""+ct(a)&&(t.value=""+ct(a)):R!=="submit"&&R!=="reset"||t.removeAttribute("value"),a!=null?ir(t,R,ct(a)):l!=null?ir(t,R,ct(l)):h!=null&&t.removeAttribute("value"),v==null&&_!=null&&(t.defaultChecked=!!_),v!=null&&(t.checked=v&&typeof v!="function"&&typeof v!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?t.name=""+ct(U):t.removeAttribute("name")}function io(t,a,l,h,v,_,R,U){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){nn(t);return}l=l!=null?""+ct(l):"",a=a!=null?""+ct(a):l,U||a===t.value||(t.value=a),t.defaultValue=a}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,t.checked=U?t.checked:!!h,t.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(t.name=R),nn(t)}function ir(t,a,l){a==="number"&&Qr(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function za(t,a,l,h){if(t=t.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<t.length;l++)v=a.hasOwnProperty("$"+t[l].value),t[l].selected!==v&&(t[l].selected=v),v&&h&&(t[l].defaultSelected=!0)}else{for(l=""+ct(l),a=null,v=0;v<t.length;v++){if(t[v].value===l){t[v].selected=!0,h&&(t[v].defaultSelected=!0);return}a!==null||t[v].disabled||(a=t[v])}a!==null&&(a.selected=!0)}}function gu(t,a,l){if(a!=null&&(a=""+ct(a),a!==t.value&&(t.value=a),l==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=l!=null?""+ct(l):""}function Nr(t,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(s(92));if(ce(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=ct(a),t.defaultValue=l,h=t.textContent,h===l&&h!==""&&h!==null&&(t.value=h),nn(t)}function Pi(t,a){if(a){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=a;return}}t.textContent=a}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ro(t,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":h?t.setProperty(a,l):typeof l!="number"||l===0||mu.has(a)?a==="float"?t.cssFloat=l:t[a]=(""+l).trim():t[a]=l+"px"}function Wo(t,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(t=t.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?t.setProperty(h,""):h==="float"?t.cssFloat="":t[h]="");for(var v in a)h=a[v],a.hasOwnProperty(v)&&l[v]!==h&&ro(t,v,h)}else for(var _ in a)a.hasOwnProperty(_)&&ro(t,_,a[_])}function ao(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ha=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ko(t){return Ha.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xr(){}var Yo=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _s=null,ya=null;function _a(t){var a=Ci(t);if(a&&(t=a.stateNode)){var l=t[Ht]||null;e:switch(t=a.stateNode,a.type){case"input":if(no(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==t&&h.form===t.form){var v=h[Ht]||null;if(!v)throw Error(s(90));no(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===t.form&&va(h)}break e;case"textarea":gu(t,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&za(t,!!l.multiple,a,!1)}}}var Ea=!1;function Es(t,a,l){if(Ea)return t(a,l);Ea=!0;try{var h=t(a);return h}finally{if(Ea=!1,(_s!==null||ya!==null)&&(Sp(),_s&&(a=_s,t=ya,ya=_s=null,_a(a),t)))for(a=0;a<t.length;a++)_a(t[a])}}function $r(t,a){var l=t.stateNode;if(l===null)return null;var h=l[Ht]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(t=t.type,h=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!h;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=!1;if(Lr)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){so=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{so=!1}var Zr=null,yu=null,bs=null;function Qo(){if(bs)return bs;var t,a=yu,l=a.length,h,v="value"in Zr?Zr.value:Zr.textContent,_=v.length;for(t=0;t<l&&a[t]===v[t];t++);var R=l-t;for(h=1;h<=R&&a[l-h]===v[_-h];h++);return bs=v.slice(t,1<h?1-h:void 0)}function ba(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Or(){return!0}function Er(){return!1}function pi(t){function a(l,h,v,_,R){this._reactName=l,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var U in t)t.hasOwnProperty(U)&&(l=t[U],this[U]=l?l(_):_[U]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Or:Er,this.isPropagationStopped=Er,this}return k(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),a}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=pi(Ta),Ts=k({},Ta,{view:0,detail:0}),Xo=pi(Ts),gi,$o,Sa,Ss=k({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(gi=t.screenX-Sa.screenX,$o=t.screenY-Sa.screenY):$o=gi=0,Sa=t),gi)},movementY:function(t){return"movementY"in t?t.movementY:$o}}),Zo=pi(Ss),rr=k({},Ss,{dataTransfer:0}),Jo=pi(rr),Mr=k({},Ts,{relatedTarget:0}),wa=pi(Mr),oo=k({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=pi(oo),el=k({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pc=pi(el),gc=k({},Ta,{data:0}),Aa=pi(gc),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=mc[t])?!!a[t]:!1}function ws(){return vc}var ji=k({},Ts,{key:function(t){if(t.key){var a=_u[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=pi(ji),yc=k({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ca=pi(yc),m=k({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),A=pi(m),N=k({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=pi(N),Re=k({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=pi(Re),Ke=k({},Ta,{newState:0,oldState:0}),Lt=pi(Ke),jn=[9,13,27,32],qt=Lr&&"CompositionEvent"in window,On=null;Lr&&"documentMode"in document&&(On=document.documentMode);var Tr=Lr&&"TextEvent"in window&&!On,Da=Lr&&(!qt||On&&8<On&&11>=On),Sr=" ",Pr=!1;function lo(t,a){switch(t){case"keyup":return jn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function Bd(t,a){switch(t){case"compositionend":return tl(a);case"keypress":return a.which!==32?null:(Pr=!0,Sr);case"textInput":return t=a.data,t===Sr&&Pr?null:t;default:return null}}function lm(t,a){if(uo)return t==="compositionend"||!qt&&lo(t,a)?(t=Qo(),bs=yu=Zr=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Da&&a.locale!=="ko"?null:a.data;default:return null}}var Tu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xa(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Tu[t.type]:a==="textarea"}function Su(t,a,l,h){_s?ya?ya.push(h):ya=[h]:_s=h,a=kp(a,"onChange"),0<a.length&&(l=new br("onChange","change",null,l,h),t.push({event:l,listeners:a}))}var co=null,nl=null;function Ra(t){Y0(t,0)}function ka(t){var a=_r(t);if(va(a))return t}function _c(t,a){if(t==="change")return a}var Ud=!1;if(Lr){var Ec;if(Lr){var Hf="oninput"in document;if(!Hf){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Hf=typeof qf.oninput=="function"}Ec=Hf}else Ec=!1;Ud=Ec&&(!document.documentMode||9<document.documentMode)}function bc(){co&&(co.detachEvent("onpropertychange",fo),nl=co=null)}function fo(t){if(t.propertyName==="value"&&ka(nl)){var a=[];Su(a,nl,t,ti(t)),Es(Ra,a)}}function Ia(t,a,l){t==="focusin"?(bc(),co=a,nl=l,co.attachEvent("onpropertychange",fo)):t==="focusout"&&bc()}function Vd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ka(nl)}function zd(t,a){if(t==="click")return ka(a)}function um(t,a){if(t==="input"||t==="change")return ka(a)}function cm(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var wr=typeof Object.is=="function"?Object.is:cm;function il(t,a){if(wr(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var l=Object.keys(t),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var v=l[h];if(!tn.call(a,v)||!wr(t[v],a[v]))return!1}return!0}function jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rl(t,a){var l=jf(t);t=0;for(var h;l;){if(l.nodeType===3){if(h=t+l.textContent.length,t<=a&&h>=a)return{node:l,offset:a-t};t=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jf(l)}}function Gf(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Gf(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Wf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Qr(t.document);a instanceof t.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)t=a.contentWindow;else break;a=Qr(t.document)}return a}function wu(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Tc=Lr&&"documentMode"in document&&11>=document.documentMode,ho=null,al=null,Gi=null,Sc=!1;function wc(t,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sc||ho==null||ho!==Qr(h)||(h=ho,"selectionStart"in h&&wu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gi&&il(Gi,h)||(Gi=h,h=kp(al,"onSelect"),0<h.length&&(a=new br("onSelect","select",null,a,l),t.push({event:a,listeners:h}),a.target=ho)))}function ja(t,a){var l={};return l[t.toLowerCase()]=a.toLowerCase(),l["Webkit"+t]="webkit"+a,l["Moz"+t]="moz"+a,l}var po={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Ac={},Cc={};Lr&&(Cc=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function go(t){if(Ac[t])return Ac[t];if(!po[t])return t;var a=po[t],l;for(l in a)if(a.hasOwnProperty(l)&&l in Cc)return Ac[t]=a[l];return t}var Hd=go("animationend"),qd=go("animationiteration"),As=go("animationstart"),sl=go("transitionrun"),ol=go("transitionstart"),Kf=go("transitioncancel"),Dc=go("transitionend"),Yf=new Map,Au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Au.push("scrollEnd");function Di(t,a){Yf.set(t,a),rt(a,[t])}var Na=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Ar=0,La=0;function mo(){for(var t=Ar,a=La=Ar=0;a<t;){var l=Sn[a];Sn[a++]=null;var h=Sn[a];Sn[a++]=null;var v=Sn[a];Sn[a++]=null;var _=Sn[a];if(Sn[a++]=null,h!==null&&v!==null){var R=h.pending;R===null?v.next=v:(v.next=R.next,R.next=v),h.pending=v}_!==0&&Qf(l,v,_)}}function xc(t,a,l,h){Sn[Ar++]=t,Sn[Ar++]=a,Sn[Ar++]=l,Sn[Ar++]=h,La|=h,t.lanes|=h,t=t.alternate,t!==null&&(t.lanes|=h)}function Rc(t,a,l,h){return xc(t,a,l,h),ll(t)}function Jr(t,a){return xc(t,null,null,a),ll(t)}function Qf(t,a,l){t.lanes|=l;var h=t.alternate;h!==null&&(h.lanes|=l);for(var v=!1,_=t.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(t=_.stateNode,t===null||t._visibility&1||(v=!0)),t=_,_=_.return;return t.tag===3?(_=t.stateNode,v&&a!==null&&(v=31-re(l),t=_.hiddenUpdates,h=t[v],h===null?t[v]=[a]:h.push(a),a.lane=l|536870912),_):null}function ll(t){if(50<Mh)throw Mh=0,Sm=null,Error(s(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ga={};function fm(t,a,l,h){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(t,a,l,h){return new fm(t,a,l,h)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ea(t,a){var l=t.alternate;return l===null?(l=Wi(t.tag,a,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=a,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,a=t.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Ic(t,a){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,a=l.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Wa(t,a,l,h,v,_){var R=0;if(h=t,typeof t=="function")kc(t)&&(R=1);else if(typeof t=="string")R=aA(t,l,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case q:return t=Wi(31,l,a,v),t.elementType=q,t.lanes=_,t;case _e:return Oa(l.children,v,_,a);case te:R=8,v|=24;break;case Ee:return t=Wi(12,l,a,v|2),t.elementType=Ee,t.lanes=_,t;case he:return t=Wi(13,l,a,v),t.elementType=he,t.lanes=_,t;case xe:return t=Wi(19,l,a,v),t.elementType=xe,t.lanes=_,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:R=10;break e;case X:R=9;break e;case oe:R=11;break e;case B:R=14;break e;case V:R=16,h=null;break e}R=29,l=Error(s(130,t===null?"null":typeof t,"")),h=null}return a=Wi(R,l,a,v),a.elementType=t,a.type=h,a.lanes=_,a}function Oa(t,a,l,h){return t=Wi(7,t,h,a),t.lanes=l,t}function Nc(t,a,l){return t=Wi(6,t,null,a),t.lanes=l,t}function Cu(t){var a=Wi(18,null,null,0);return a.stateNode=t,a}function Xf(t,a,l){return a=Wi(4,t.children!==null?t.children:[],t.key,a),a.lanes=l,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var jd=new WeakMap;function Fr(t,a){if(typeof t=="object"&&t!==null){var l=jd.get(t);return l!==void 0?l:(a={value:t,source:a,stack:yn(a)},jd.set(t,a),a)}return{value:t,source:a,stack:yn(a)}}var Cs=[],Ds=0,Ka=null,Ya=0,Br=[],Ki=0,Qa=null,ar=1,ta="";function Yi(t,a){Cs[Ds++]=Ya,Cs[Ds++]=Ka,Ka=t,Ya=a}function ul(t,a,l){Br[Ki++]=ar,Br[Ki++]=ta,Br[Ki++]=Qa,Qa=t;var h=ar;t=ta;var v=32-re(h)-1;h&=~(1<<v),l+=1;var _=32-re(a)+v;if(30<_){var R=v-v%5;_=(h&(1<<R)-1).toString(32),h>>=R,v-=R,ar=1<<32-re(a)+v|l<<v|h,ta=_+t}else ar=1<<_|l<<v|h,ta=t}function Xa(t){t.return!==null&&(Yi(t,1),ul(t,1,0))}function vo(t){for(;t===Ka;)Ka=Cs[--Ds],Cs[Ds]=null,Ya=Cs[--Ds],Cs[Ds]=null;for(;t===Qa;)Qa=Br[--Ki],Br[Ki]=null,ta=Br[--Ki],Br[Ki]=null,ar=Br[--Ki],Br[Ki]=null}function yo(t,a){Br[Ki++]=ar,Br[Ki++]=ta,Br[Ki++]=Qa,ar=a.id,ta=a.overflow,Qa=t}var mi=null,wn=null,Vt=!1,xs=null,vi=!1,$a=Error(s(519));function Rs(t){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yi(Fr(a,t)),$a}function Gd(t){var a=t.stateNode,l=t.type,h=t.memoizedProps;switch(a[Hn]=t,a[Ht]=h,l){case"dialog":Wt("cancel",a),Wt("close",a);break;case"iframe":case"object":case"embed":Wt("load",a);break;case"video":case"audio":for(l=0;l<Fh.length;l++)Wt(Fh[l],a);break;case"source":Wt("error",a);break;case"img":case"image":case"link":Wt("error",a),Wt("load",a);break;case"details":Wt("toggle",a);break;case"input":Wt("invalid",a),io(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Wt("invalid",a);break;case"textarea":Wt("invalid",a),Nr(a,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||Z0(a.textContent,l)?(h.popover!=null&&(Wt("beforetoggle",a),Wt("toggle",a)),h.onScroll!=null&&Wt("scroll",a),h.onScrollEnd!=null&&Wt("scrollend",a),h.onClick!=null&&(a.onclick=Xr),a=!0):a=!1,a||Rs(t,!0)}function Wd(t){for(mi=t.return;mi;)switch(mi.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:mi=mi.return}}function cl(t){if(t!==mi)return!1;if(!Vt)return Wd(t),Vt=!0,!1;var a=t.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Bm(t.type,t.memoizedProps)),l=!l),l&&wn&&Rs(t),Wd(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wn=o_(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wn=o_(t)}else a===27?(a=wn,Ul(t.type)?(t=qm,qm=null,wn=t):wn=a):wn=mi?Fa(t.stateNode.nextSibling):null;return!0}function _o(){wn=mi=null,Vt=!1}function $f(){var t=xs;return t!==null&&(qr===null?qr=t:qr.push.apply(qr,t),xs=null),t}function yi(t){xs===null?xs=[t]:xs.push(t)}var Xn=fe(null),Gn=null,_n=null;function Ur(t,a,l){I(Xn,a._currentValue),a._currentValue=l}function Za(t){t._currentValue=Xn.current,z(Xn)}function fl(t,a,l){for(;t!==null;){var h=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),t===l)break;t=t.return}}function Zf(t,a,l,h){var v=t.child;for(v!==null&&(v.return=t);v!==null;){var _=v.dependencies;if(_!==null){var R=v.child;_=_.firstContext;e:for(;_!==null;){var U=_;_=v;for(var se=0;se<a.length;se++)if(U.context===a[se]){_.lanes|=l,U=_.alternate,U!==null&&(U.lanes|=l),fl(_.return,l,t),h||(R=null);break e}_=U.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(s(341));R.lanes|=l,_=R.alternate,_!==null&&(_.lanes|=l),fl(R,l,t),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===t){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function hl(t,a,l,h){t=null;for(var v=a,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(s(387));if(R=R.memoizedProps,R!==null){var U=v.type;wr(v.pendingProps.value,R.value)||(t!==null?t.push(U):t=[U])}}else if(v===dt.current){if(R=v.alternate,R===null)throw Error(s(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(t!==null?t.push(Hh):t=[Hh])}v=v.return}t!==null&&Zf(a,t,l,h),a.flags|=262144}function Lc(t){for(t=t.firstContext;t!==null;){if(!wr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ja(t){Gn=t,_n=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _i(t){return Kd(Gn,t)}function dl(t,a){return Gn===null&&Ja(t),Kd(t,a)}function Kd(t,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},_n===null){if(t===null)throw Error(s(308));_n=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else _n=_n.next=a;return l}var Jf=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(l,h){t.push(h)}};this.abort=function(){a.aborted=!0,t.forEach(function(l){return l()})}},eh=r.unstable_scheduleCallback,Yd=r.unstable_NormalPriority,$n={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Du(){return{controller:new Jf,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&eh(Yd,function(){t.controller.abort()})}var es=null,th=0,ts=0,sr=null;function Qd(t,a){if(es===null){var l=es=[];th=0,ts=Rm(),sr={status:"pending",value:void 0,then:function(h){l.push(h)}}}return th++,a.then(Xd,Xd),a}function Xd(){if(--th===0&&es!==null){sr!==null&&(sr.status="fulfilled");var t=es;es=null,ts=0,sr=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function $d(t,a){var l=[],h={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return t.then(function(){h.status="fulfilled",h.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(h.status="rejected",h.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),h}var or=ue.S;ue.S=function(t,a){T0=Se(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Qd(t,a),or!==null&&or(t,a)};var Ut=fe(null);function Cr(){var t=Ut.current;return t!==null?t:Ln.pooledCache}function na(t,a){a===null?I(Ut,Ut.current):I(Ut,a.pool)}function ns(){var t=Cr();return t===null?null:{parent:$n._currentValue,pool:t}}var Eo=Error(s(460)),xu=Error(s(474)),Ru=Error(s(542)),Oc={then:function(){}};function Mc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gl(t,a,l){switch(l=t[l],l===void 0?t.push(a):l!==a&&(a.then(Xr,Xr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,nh(t),t;default:if(typeof a.status=="string")a.then(Xr,Xr);else{if(t=Ln,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=a,t.status="pending",t.then(function(h){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=h}},function(h){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,nh(t),t}throw is=a,Eo}}function ks(t){try{var a=t._init;return a(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(is=l,Eo):l}}var is=null;function rs(){if(is===null)throw Error(s(459));var t=is;return is=null,t}function nh(t){if(t===Eo||t===Ru)throw Error(s(483))}var bo=null,ku=0;function To(t){var a=ku;return ku+=1,bo===null&&(bo=[]),gl(bo,t,a)}function So(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Iu(t,a){throw a.$$typeof===F?Error(s(525)):(t=Object.prototype.toString.call(a),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Zd(t){function a(Ae,ve){if(t){var ke=Ae.deletions;ke===null?(Ae.deletions=[ve],Ae.flags|=16):ke.push(ve)}}function l(Ae,ve){if(!t)return null;for(;ve!==null;)a(Ae,ve),ve=ve.sibling;return null}function h(Ae){for(var ve=new Map;Ae!==null;)Ae.key!==null?ve.set(Ae.key,Ae):ve.set(Ae.index,Ae),Ae=Ae.sibling;return ve}function v(Ae,ve){return Ae=ea(Ae,ve),Ae.index=0,Ae.sibling=null,Ae}function _(Ae,ve,ke){return Ae.index=ke,t?(ke=Ae.alternate,ke!==null?(ke=ke.index,ke<ve?(Ae.flags|=67108866,ve):ke):(Ae.flags|=67108866,ve)):(Ae.flags|=1048576,ve)}function R(Ae){return t&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function U(Ae,ve,ke,Ue){return ve===null||ve.tag!==6?(ve=Nc(ke,Ae.mode,Ue),ve.return=Ae,ve):(ve=v(ve,ke),ve.return=Ae,ve)}function se(Ae,ve,ke,Ue){var Et=ke.type;return Et===_e?Pe(Ae,ve,ke.props.children,Ue,ke.key):ve!==null&&(ve.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===V&&ks(Et)===ve.type)?(ve=v(ve,ke.props),So(ve,ke),ve.return=Ae,ve):(ve=Wa(ke.type,ke.key,ke.props,null,Ae.mode,Ue),So(ve,ke),ve.return=Ae,ve)}function Ie(Ae,ve,ke,Ue){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==ke.containerInfo||ve.stateNode.implementation!==ke.implementation?(ve=Xf(ke,Ae.mode,Ue),ve.return=Ae,ve):(ve=v(ve,ke.children||[]),ve.return=Ae,ve)}function Pe(Ae,ve,ke,Ue,Et){return ve===null||ve.tag!==7?(ve=Oa(ke,Ae.mode,Ue,Et),ve.return=Ae,ve):(ve=v(ve,ke),ve.return=Ae,ve)}function ze(Ae,ve,ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Nc(""+ve,Ae.mode,ke),ve.return=Ae,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Y:return ke=Wa(ve.type,ve.key,ve.props,null,Ae.mode,ke),So(ke,ve),ke.return=Ae,ke;case Z:return ve=Xf(ve,Ae.mode,ke),ve.return=Ae,ve;case V:return ve=ks(ve),ze(Ae,ve,ke)}if(ce(ve)||ie(ve))return ve=Oa(ve,Ae.mode,ke,null),ve.return=Ae,ve;if(typeof ve.then=="function")return ze(Ae,To(ve),ke);if(ve.$$typeof===ne)return ze(Ae,dl(Ae,ve),ke);Iu(Ae,ve)}return null}function Ne(Ae,ve,ke,Ue){var Et=ve!==null?ve.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Et!==null?null:U(Ae,ve,""+ke,Ue);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case Y:return ke.key===Et?se(Ae,ve,ke,Ue):null;case Z:return ke.key===Et?Ie(Ae,ve,ke,Ue):null;case V:return ke=ks(ke),Ne(Ae,ve,ke,Ue)}if(ce(ke)||ie(ke))return Et!==null?null:Pe(Ae,ve,ke,Ue,null);if(typeof ke.then=="function")return Ne(Ae,ve,To(ke),Ue);if(ke.$$typeof===ne)return Ne(Ae,ve,dl(Ae,ke),Ue);Iu(Ae,ke)}return null}function Me(Ae,ve,ke,Ue,Et){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ae=Ae.get(ke)||null,U(ve,Ae,""+Ue,Et);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case Y:return Ae=Ae.get(Ue.key===null?ke:Ue.key)||null,se(ve,Ae,Ue,Et);case Z:return Ae=Ae.get(Ue.key===null?ke:Ue.key)||null,Ie(ve,Ae,Ue,Et);case V:return Ue=ks(Ue),Me(Ae,ve,ke,Ue,Et)}if(ce(Ue)||ie(Ue))return Ae=Ae.get(ke)||null,Pe(ve,Ae,Ue,Et,null);if(typeof Ue.then=="function")return Me(Ae,ve,ke,To(Ue),Et);if(Ue.$$typeof===ne)return Me(Ae,ve,ke,dl(ve,Ue),Et);Iu(ve,Ue)}return null}function ft(Ae,ve,ke,Ue){for(var Et=null,hn=null,gt=ve,Pt=ve=0,$t=null;gt!==null&&Pt<ke.length;Pt++){gt.index>Pt?($t=gt,gt=null):$t=gt.sibling;var dn=Ne(Ae,gt,ke[Pt],Ue);if(dn===null){gt===null&&(gt=$t);break}t&&gt&&dn.alternate===null&&a(Ae,gt),ve=_(dn,ve,Pt),hn===null?Et=dn:hn.sibling=dn,hn=dn,gt=$t}if(Pt===ke.length)return l(Ae,gt),Vt&&Yi(Ae,Pt),Et;if(gt===null){for(;Pt<ke.length;Pt++)gt=ze(Ae,ke[Pt],Ue),gt!==null&&(ve=_(gt,ve,Pt),hn===null?Et=gt:hn.sibling=gt,hn=gt);return Vt&&Yi(Ae,Pt),Et}for(gt=h(gt);Pt<ke.length;Pt++)$t=Me(gt,Ae,Pt,ke[Pt],Ue),$t!==null&&(t&&$t.alternate!==null&&gt.delete($t.key===null?Pt:$t.key),ve=_($t,ve,Pt),hn===null?Et=$t:hn.sibling=$t,hn=$t);return t&&gt.forEach(function(jl){return a(Ae,jl)}),Vt&&Yi(Ae,Pt),Et}function wt(Ae,ve,ke,Ue){if(ke==null)throw Error(s(151));for(var Et=null,hn=null,gt=ve,Pt=ve=0,$t=null,dn=ke.next();gt!==null&&!dn.done;Pt++,dn=ke.next()){gt.index>Pt?($t=gt,gt=null):$t=gt.sibling;var jl=Ne(Ae,gt,dn.value,Ue);if(jl===null){gt===null&&(gt=$t);break}t&&gt&&jl.alternate===null&&a(Ae,gt),ve=_(jl,ve,Pt),hn===null?Et=jl:hn.sibling=jl,hn=jl,gt=$t}if(dn.done)return l(Ae,gt),Vt&&Yi(Ae,Pt),Et;if(gt===null){for(;!dn.done;Pt++,dn=ke.next())dn=ze(Ae,dn.value,Ue),dn!==null&&(ve=_(dn,ve,Pt),hn===null?Et=dn:hn.sibling=dn,hn=dn);return Vt&&Yi(Ae,Pt),Et}for(gt=h(gt);!dn.done;Pt++,dn=ke.next())dn=Me(gt,Ae,Pt,dn.value,Ue),dn!==null&&(t&&dn.alternate!==null&&gt.delete(dn.key===null?Pt:dn.key),ve=_(dn,ve,Pt),hn===null?Et=dn:hn.sibling=dn,hn=dn);return t&&gt.forEach(function(mA){return a(Ae,mA)}),Vt&&Yi(Ae,Pt),Et}function Rn(Ae,ve,ke,Ue){if(typeof ke=="object"&&ke!==null&&ke.type===_e&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case Y:e:{for(var Et=ke.key;ve!==null;){if(ve.key===Et){if(Et=ke.type,Et===_e){if(ve.tag===7){l(Ae,ve.sibling),Ue=v(ve,ke.props.children),Ue.return=Ae,Ae=Ue;break e}}else if(ve.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===V&&ks(Et)===ve.type){l(Ae,ve.sibling),Ue=v(ve,ke.props),So(Ue,ke),Ue.return=Ae,Ae=Ue;break e}l(Ae,ve);break}else a(Ae,ve);ve=ve.sibling}ke.type===_e?(Ue=Oa(ke.props.children,Ae.mode,Ue,ke.key),Ue.return=Ae,Ae=Ue):(Ue=Wa(ke.type,ke.key,ke.props,null,Ae.mode,Ue),So(Ue,ke),Ue.return=Ae,Ae=Ue)}return R(Ae);case Z:e:{for(Et=ke.key;ve!==null;){if(ve.key===Et)if(ve.tag===4&&ve.stateNode.containerInfo===ke.containerInfo&&ve.stateNode.implementation===ke.implementation){l(Ae,ve.sibling),Ue=v(ve,ke.children||[]),Ue.return=Ae,Ae=Ue;break e}else{l(Ae,ve);break}else a(Ae,ve);ve=ve.sibling}Ue=Xf(ke,Ae.mode,Ue),Ue.return=Ae,Ae=Ue}return R(Ae);case V:return ke=ks(ke),Rn(Ae,ve,ke,Ue)}if(ce(ke))return ft(Ae,ve,ke,Ue);if(ie(ke)){if(Et=ie(ke),typeof Et!="function")throw Error(s(150));return ke=Et.call(ke),wt(Ae,ve,ke,Ue)}if(typeof ke.then=="function")return Rn(Ae,ve,To(ke),Ue);if(ke.$$typeof===ne)return Rn(Ae,ve,dl(Ae,ke),Ue);Iu(Ae,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,ve!==null&&ve.tag===6?(l(Ae,ve.sibling),Ue=v(ve,ke),Ue.return=Ae,Ae=Ue):(l(Ae,ve),Ue=Nc(ke,Ae.mode,Ue),Ue.return=Ae,Ae=Ue),R(Ae)):l(Ae,ve)}return function(Ae,ve,ke,Ue){try{ku=0;var Et=Rn(Ae,ve,ke,Ue);return bo=null,Et}catch(gt){if(gt===Eo||gt===Ru)throw gt;var hn=Wi(29,gt,null,Ae.mode);return hn.lanes=Ue,hn.return=Ae,hn}}}var Is=Zd(!0),Jd=Zd(!1),Ns=!1;function ml(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pc(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,a,l){var h=t.updateQueue;if(h===null)return null;if(h=h.shared,(gn&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,a=ll(t),Qf(t,null,l),a}return xc(t,h,a,l),ll(t)}function vl(t,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=t.pendingLanes,l|=h,a.lanes=l,Qn(t,l)}}function Ms(t,a){var l=t.updateQueue,h=t.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=R:_=_.next=R,l=l.next}while(l!==null);_===null?v=_=a:_=_.next=a}else v=_=a;l={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=a:t.next=a,l.lastBaseUpdate=a}var Nu=!1;function Ps(){if(Nu){var t=sr;if(t!==null)throw t}}function yl(t,a,l,h){Nu=!1;var v=t.updateQueue;Ns=!1;var _=v.firstBaseUpdate,R=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var se=U,Ie=se.next;se.next=null,R===null?_=Ie:R.next=Ie,R=se;var Pe=t.alternate;Pe!==null&&(Pe=Pe.updateQueue,U=Pe.lastBaseUpdate,U!==R&&(U===null?Pe.firstBaseUpdate=Ie:U.next=Ie,Pe.lastBaseUpdate=se))}if(_!==null){var ze=v.baseState;R=0,Pe=Ie=se=null,U=_;do{var Ne=U.lane&-536870913,Me=Ne!==U.lane;if(Me?(Xt&Ne)===Ne:(h&Ne)===Ne){Ne!==0&&Ne===ts&&(Nu=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var ft=t,wt=U;Ne=a;var Rn=l;switch(wt.tag){case 1:if(ft=wt.payload,typeof ft=="function"){ze=ft.call(Rn,ze,Ne);break e}ze=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=wt.payload,Ne=typeof ft=="function"?ft.call(Rn,ze,Ne):ft,Ne==null)break e;ze=k({},ze,Ne);break e;case 2:Ns=!0}}Ne=U.callback,Ne!==null&&(t.flags|=64,Me&&(t.flags|=8192),Me=v.callbacks,Me===null?v.callbacks=[Ne]:Me.push(Ne))}else Me={lane:Ne,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Pe===null?(Ie=Pe=Me,se=ze):Pe=Pe.next=Me,R|=Ne;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;Me=U,U=Me.next,Me.next=null,v.lastBaseUpdate=Me,v.shared.pending=null}}while(!0);Pe===null&&(se=ze),v.baseState=se,v.firstBaseUpdate=Ie,v.lastBaseUpdate=Pe,_===null&&(v.shared.lanes=0),Ol|=R,t.lanes=R,t.memoizedState=ze}}function Fc(t,a){if(typeof t!="function")throw Error(s(191,t));t.call(a)}function ih(t,a){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Fc(l[t],a)}var _l=fe(null),Lu=fe(0);function Ei(t,a){t=No,I(Lu,t),I(_l,a),No=t|a.baseLanes}function El(){I(Lu,No),I(_l,_l.current)}function Bc(){No=Lu.current,z(_l),z(Lu)}var lr=fe(null),Dr=null;function xr(t){var a=t.alternate;I(An,An.current&1),I(lr,t),Dr===null&&(a===null||_l.current!==null||a.memoizedState!==null)&&(Dr=t)}function bl(t){I(An,An.current),I(lr,t),Dr===null&&(Dr=t)}function rh(t){t.tag===22?(I(An,An.current),I(lr,t),Dr===null&&(Dr=t)):as()}function as(){I(An,An.current),I(lr,lr.current)}function ur(t){z(lr),Dr===t&&(Dr=null),z(An)}var An=fe(0);function Ou(t){for(var a=t;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||zm(l)||Hm(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vr=0,It=null,rn=null,ni=null,ss=!1,wo=!1,Fs=!1,Mu=0,os=0,Ma=null,Pu=0;function Cn(){throw Error(s(321))}function Uc(t,a){if(a===null)return!1;for(var l=0;l<a.length&&l<t.length;l++)if(!wr(t[l],a[l]))return!1;return!0}function ah(t,a,l,h,v,_){return Vr=_,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ue.H=t===null||t.memoizedState===null?Th:Bs,Fs=!1,_=l(h,v),Fs=!1,wo&&(_=ls(a,l,h,v)),sh(t),_}function sh(t){ue.H=qu;var a=rn!==null&&rn.next!==null;if(Vr=0,ni=rn=It=null,ss=!1,os=0,Ma=null,a)throw Error(s(300));t===null||Jn||(t=t.dependencies,t!==null&&Lc(t)&&(Jn=!0))}function ls(t,a,l,h){It=t;var v=0;do{if(wo&&(Ma=null),os=0,wo=!1,25<=v)throw Error(s(301));if(v+=1,ni=rn=null,t.updateQueue!=null){var _=t.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ue.H=Sh,_=a(l,h)}while(wo);return _}function Tl(){var t=ue.H,a=t.useState()[0];return a=typeof a.then=="function"?ci(a):a,t=t.useState()[0],(rn!==null?rn.memoizedState:null)!==t&&(It.flags|=1024),a}function Ao(){var t=Mu!==0;return Mu=0,t}function oh(t,a,l){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~l}function Vc(t){if(ss){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}ss=!1}Vr=0,ni=rn=It=null,wo=!1,os=Mu=0,Ma=null}function Qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?It.memoizedState=ni=t:ni=ni.next=t,ni}function Zn(){if(rn===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var a=ni===null?It.memoizedState:ni.next;if(a!==null)ni=a,rn=t;else{if(t===null)throw It.alternate===null?Error(s(467)):Error(s(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},ni===null?It.memoizedState=ni=t:ni=ni.next=t}return ni}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ci(t){var a=os;return os+=1,Ma===null&&(Ma=[]),t=gl(Ma,t,a),a=It,(ni===null?a.memoizedState:ni.next)===null&&(a=a.alternate,ue.H=a===null||a.memoizedState===null?Th:Bs),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ci(t);if(t.$$typeof===ne)return _i(t)}throw Error(s(438,String(t)))}function lh(t){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=It.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=zc(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(t),h=0;h<t;h++)l[h]=ae;return a.index++,l}function us(t,a){return typeof a=="function"?a(t):a}function Hc(t){var a=Zn();return qc(a,rn,t)}function qc(t,a,l){var h=t.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var v=t.baseQueue,_=h.pending;if(_!==null){if(v!==null){var R=v.next;v.next=_.next,_.next=R}a.baseQueue=v=_,h.pending=null}if(_=t.baseState,v===null)t.memoizedState=_;else{a=v.next;var U=R=null,se=null,Ie=a,Pe=!1;do{var ze=Ie.lane&-536870913;if(ze!==Ie.lane?(Xt&ze)===ze:(Vr&ze)===ze){var Ne=Ie.revertLane;if(Ne===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),ze===ts&&(Pe=!0);else if((Vr&Ne)===Ne){Ie=Ie.next,Ne===ts&&(Pe=!0);continue}else ze={lane:0,revertLane:Ie.revertLane,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},se===null?(U=se=ze,R=_):se=se.next=ze,It.lanes|=Ne,Ol|=Ne;ze=Ie.action,Fs&&l(_,ze),_=Ie.hasEagerState?Ie.eagerState:l(_,ze)}else Ne={lane:ze,revertLane:Ie.revertLane,gesture:Ie.gesture,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},se===null?(U=se=Ne,R=_):se=se.next=Ne,It.lanes|=ze,Ol|=ze;Ie=Ie.next}while(Ie!==null&&Ie!==a);if(se===null?R=_:se.next=U,!wr(_,t.memoizedState)&&(Jn=!0,Pe&&(l=sr,l!==null)))throw l;t.memoizedState=_,t.baseState=R,t.baseQueue=se,h.lastRenderedState=_}return v===null&&(h.lanes=0),[t.memoizedState,h.dispatch]}function jc(t){var a=Zn(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var h=l.dispatch,v=l.pending,_=a.memoizedState;if(v!==null){l.pending=null;var R=v=v.next;do _=t(_,R.action),R=R.next;while(R!==v);wr(_,a.memoizedState)||(Jn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,h]}function uh(t,a,l){var h=It,v=Zn(),_=Vt;if(_){if(l===void 0)throw Error(s(407));l=l()}else l=a();var R=!wr((rn||v).memoizedState,l);if(R&&(v.memoizedState=l,Jn=!0),v=v.queue,xl(np.bind(null,h,v,t),[t]),v.getSnapshot!==a||R||ni!==null&&ni.memoizedState.tag&1){if(h.flags|=2048,Cl(9,{destroy:void 0},tp.bind(null,h,v,l,a),null),Ln===null)throw Error(s(349));_||(Vr&127)!==0||ep(h,a,l)}return l}function ep(t,a,l){t.flags|=16384,t={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=zc(),It.updateQueue=a,a.stores=[t]):(l=a.stores,l===null?a.stores=[t]:l.push(t))}function tp(t,a,l,h){a.value=l,a.getSnapshot=h,cs(a)&&Sl(t)}function np(t,a,l){return l(function(){cs(a)&&Sl(t)})}function cs(t){var a=t.getSnapshot;t=t.value;try{var l=a();return!wr(t,l)}catch{return!0}}function Sl(t){var a=Jr(t,2);a!==null&&jr(a,t,2)}function wl(t){var a=Qi();if(typeof t=="function"){var l=t;if(t=l(),Fs){ye(!0);try{l()}finally{ye(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},a}function Al(t,a,l,h){return t.baseState=l,qc(t,rn,typeof h=="function"?h:us)}function fs(t,a,l,h,v){if(Hu(t))throw Error(s(485));if(t=a.action,t!==null){var _={payload:v,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};ue.T!==null?l(!0):_.isTransition=!1,h(_),l=a.pending,l===null?(_.next=a.pending=_,ip(a,_)):(_.next=l.next,a.pending=l.next=_)}}function ip(t,a){var l=a.action,h=a.payload,v=t.state;if(a.isTransition){var _=ue.T,R={};ue.T=R;try{var U=l(v,h),se=ue.S;se!==null&&se(R,U),rp(t,a,U)}catch(Ie){Gc(t,a,Ie)}finally{_!==null&&R.types!==null&&(_.types=R.types),ue.T=_}}else try{_=l(v,h),rp(t,a,_)}catch(Ie){Gc(t,a,Ie)}}function rp(t,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Co(t,a,h)},function(h){return Gc(t,a,h)}):Co(t,a,l)}function Co(t,a,l){a.status="fulfilled",a.value=l,ch(a),t.state=l,a=t.pending,a!==null&&(l=a.next,l===a?t.pending=null:(l=l.next,a.next=l,ip(t,l)))}function Gc(t,a,l){var h=t.pending;if(t.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,ch(a),a=a.next;while(a!==h)}t.action=null}function ch(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function fh(t,a){return a}function Bu(t,a){if(Vt){var l=Ln.formState;if(l!==null){e:{var h=It;if(Vt){if(wn){t:{for(var v=wn,_=vi;v.nodeType!==8;){if(!_){v=null;break t}if(v=Fa(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){wn=Fa(v.nextSibling),h=v.data==="F!";break e}}Rs(h)}h=!1}h&&(a=l[0])}}return l=Qi(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:a},l.queue=h,l=_h.bind(null,It,h),h.dispatch=l,h=wl(!1),_=Eh.bind(null,It,!1,h.queue),h=Qi(),v={state:a,dispatch:null,action:t,pending:null},h.queue=v,l=fs.bind(null,It,v,_,l),v.dispatch=l,h.memoizedState=t,[a,l,!1]}function Do(t){var a=Zn();return Wc(a,rn,t)}function Wc(t,a,l){if(a=qc(t,a,fh)[0],t=Hc(us)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=ci(a)}catch(R){throw R===Eo?Ru:R}else h=a;a=Zn();var v=a.queue,_=v.dispatch;return l!==a.memoizedState&&(It.flags|=2048,Cl(9,{destroy:void 0},hh.bind(null,v,l),null)),[h,_,t]}function hh(t,a){t.action=a}function Kc(t){var a=Zn(),l=rn;if(l!==null)return Wc(a,l,t);Zn(),a=a.memoizedState,l=Zn();var h=l.queue.dispatch;return l.memoizedState=t,[a,h,!1]}function Cl(t,a,l,h){return t={tag:t,create:l,deps:h,inst:a,next:null},a=It.updateQueue,a===null&&(a=zc(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=t.next=t:(h=l.next,l.next=t,t.next=h,a.lastEffect=t),t}function Dl(){return Zn().memoizedState}function Uu(t,a,l,h){var v=Qi();It.flags|=t,v.memoizedState=Cl(1|a,{destroy:void 0},l,h===void 0?null:h)}function Yc(t,a,l,h){var v=Zn();h=h===void 0?null:h;var _=v.memoizedState.inst;rn!==null&&h!==null&&Uc(h,rn.memoizedState.deps)?v.memoizedState=Cl(a,_,l,h):(It.flags|=t,v.memoizedState=Cl(1|a,_,l,h))}function dh(t,a){Uu(8390656,8,t,a)}function xl(t,a){Yc(2048,8,t,a)}function hm(t){It.flags|=4;var a=It.updateQueue;if(a===null)a=zc(),It.updateQueue=a,a.events=[t];else{var l=a.events;l===null?a.events=[t]:l.push(t)}}function ap(t){var a=Zn().memoizedState;return hm({ref:a,nextImpl:t}),function(){if((gn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function Rl(t,a){return Yc(4,2,t,a)}function ph(t,a){return Yc(4,4,t,a)}function gh(t,a){if(typeof a=="function"){t=t();var l=a(t);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function sp(t,a,l){l=l!=null?l.concat([t]):null,Yc(4,4,gh.bind(null,a,t),l)}function Vu(){}function mh(t,a){var l=Zn();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Uc(a,h[1])?h[0]:(l.memoizedState=[t,a],t)}function op(t,a){var l=Zn();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Uc(a,h[1]))return h[0];if(h=t(),Fs){ye(!0);try{t()}finally{ye(!1)}}return l.memoizedState=[h,a],h}function Qc(t,a,l){return l===void 0||(Vr&1073741824)!==0&&(Xt&261930)===0?t.memoizedState=a:(t.memoizedState=l,t=w0(),It.lanes|=t,Ol|=t,l)}function vh(t,a,l,h){return wr(l,a)?l:_l.current!==null?(t=Qc(t,l,h),wr(t,a)||(Jn=!0),t):(Vr&42)===0||(Vr&1073741824)!==0&&(Xt&261930)===0?(Jn=!0,t.memoizedState=l):(t=w0(),It.lanes|=t,Ol|=t,a)}function lp(t,a,l,h,v){var _=we.p;we.p=_!==0&&8>_?_:8;var R=ue.T,U={};ue.T=U,Eh(t,!1,a,l);try{var se=v(),Ie=ue.S;if(Ie!==null&&Ie(U,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Pe=$d(se,h);zu(t,a,Pe,sa(t))}else zu(t,a,h,sa(t))}catch(ze){zu(t,a,{then:function(){},status:"rejected",reason:ze},sa())}finally{we.p=_,R!==null&&U.types!==null&&(R.types=U.types),ue.T=R}}function yh(){}function xo(t,a,l,h){if(t.tag!==5)throw Error(s(476));var v=kl(t).queue;lp(t,v,a,Ve,l===null?yh:function(){return up(t),l(h)})}function kl(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:Ve},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:l},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function up(t){var a=kl(t);a.next===null&&(a=t.alternate.memoizedState),zu(t,a.next.queue,{},sa())}function Xc(){return _i(Hh)}function cp(){return Zn().memoizedState}function fp(){return Zn().memoizedState}function dm(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var l=sa();t=Ls(l);var h=Os(a,t,l);h!==null&&(jr(h,a,l),vl(h,a,l)),a={cache:Du()},t.payload=a;return}a=a.return}}function pm(t,a,l){var h=sa();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)?$c(a,l):(l=Rc(t,a,l,h),l!==null&&(jr(l,t,h),bh(l,a,h)))}function _h(t,a,l){var h=sa();zu(t,a,l,h)}function zu(t,a,l,h){var v={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))$c(a,v);else{var _=t.alternate;if(t.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var R=a.lastRenderedState,U=_(R,l);if(v.hasEagerState=!0,v.eagerState=U,wr(U,R))return xc(t,a,v,0),Ln===null&&mo(),!1}catch{}if(l=Rc(t,a,v,h),l!==null)return jr(l,t,h),bh(l,a,h),!0}return!1}function Eh(t,a,l,h){if(h={lane:2,revertLane:Rm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(a)throw Error(s(479))}else a=Rc(t,l,h,2),a!==null&&jr(a,t,2)}function Hu(t){var a=t.alternate;return t===It||a!==null&&a===It}function $c(t,a){wo=ss=!0;var l=t.pending;l===null?a.next=a:(a.next=l.next,l.next=a),t.pending=a}function bh(t,a,l){if((l&4194048)!==0){var h=a.lanes;h&=t.pendingLanes,l|=h,a.lanes=l,Qn(t,l)}}var qu={readContext:_i,use:Fu,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn};qu.useEffectEvent=Cn;var Th={readContext:_i,use:Fu,useCallback:function(t,a){return Qi().memoizedState=[t,a===void 0?null:a],t},useContext:_i,useEffect:dh,useImperativeHandle:function(t,a,l){l=l!=null?l.concat([t]):null,Uu(4194308,4,gh.bind(null,a,t),l)},useLayoutEffect:function(t,a){return Uu(4194308,4,t,a)},useInsertionEffect:function(t,a){Uu(4,2,t,a)},useMemo:function(t,a){var l=Qi();a=a===void 0?null:a;var h=t();if(Fs){ye(!0);try{t()}finally{ye(!1)}}return l.memoizedState=[h,a],h},useReducer:function(t,a,l){var h=Qi();if(l!==void 0){var v=l(a);if(Fs){ye(!0);try{l(a)}finally{ye(!1)}}}else v=a;return h.memoizedState=h.baseState=v,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:v},h.queue=t,t=t.dispatch=pm.bind(null,It,t),[h.memoizedState,t]},useRef:function(t){var a=Qi();return t={current:t},a.memoizedState=t},useState:function(t){t=wl(t);var a=t.queue,l=_h.bind(null,It,a);return a.dispatch=l,[t.memoizedState,l]},useDebugValue:Vu,useDeferredValue:function(t,a){var l=Qi();return Qc(l,t,a)},useTransition:function(){var t=wl(!1);return t=lp.bind(null,It,t.queue,!0,!1),Qi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,l){var h=It,v=Qi();if(Vt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),Ln===null)throw Error(s(349));(Xt&127)!==0||ep(h,a,l)}v.memoizedState=l;var _={value:l,getSnapshot:a};return v.queue=_,dh(np.bind(null,h,_,t),[t]),h.flags|=2048,Cl(9,{destroy:void 0},tp.bind(null,h,_,l,a),null),l},useId:function(){var t=Qi(),a=Ln.identifierPrefix;if(Vt){var l=ta,h=ar;l=(h&~(1<<32-re(h)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Mu++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Pu++,a="_"+a+"r_"+l.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Xc,useFormState:Bu,useActionState:Bu,useOptimistic:function(t){var a=Qi();a.memoizedState=a.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Eh.bind(null,It,!0,l),l.dispatch=a,[t,a]},useMemoCache:lh,useCacheRefresh:function(){return Qi().memoizedState=dm.bind(null,It)},useEffectEvent:function(t){var a=Qi(),l={impl:t};return a.memoizedState=l,function(){if((gn&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Bs={readContext:_i,use:Fu,useCallback:mh,useContext:_i,useEffect:xl,useImperativeHandle:sp,useInsertionEffect:Rl,useLayoutEffect:ph,useMemo:op,useReducer:Hc,useRef:Dl,useState:function(){return Hc(us)},useDebugValue:Vu,useDeferredValue:function(t,a){var l=Zn();return vh(l,rn.memoizedState,t,a)},useTransition:function(){var t=Hc(us)[0],a=Zn().memoizedState;return[typeof t=="boolean"?t:ci(t),a]},useSyncExternalStore:uh,useId:cp,useHostTransitionStatus:Xc,useFormState:Do,useActionState:Do,useOptimistic:function(t,a){var l=Zn();return Al(l,rn,t,a)},useMemoCache:lh,useCacheRefresh:fp};Bs.useEffectEvent=ap;var Sh={readContext:_i,use:Fu,useCallback:mh,useContext:_i,useEffect:xl,useImperativeHandle:sp,useInsertionEffect:Rl,useLayoutEffect:ph,useMemo:op,useReducer:jc,useRef:Dl,useState:function(){return jc(us)},useDebugValue:Vu,useDeferredValue:function(t,a){var l=Zn();return rn===null?Qc(l,t,a):vh(l,rn.memoizedState,t,a)},useTransition:function(){var t=jc(us)[0],a=Zn().memoizedState;return[typeof t=="boolean"?t:ci(t),a]},useSyncExternalStore:uh,useId:cp,useHostTransitionStatus:Xc,useFormState:Kc,useActionState:Kc,useOptimistic:function(t,a){var l=Zn();return rn!==null?Al(l,rn,t,a):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:lh,useCacheRefresh:fp};Sh.useEffectEvent=ap;function Il(t,a,l,h){a=t.memoizedState,l=l(h,a),l=l==null?a:k({},a,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var wh={enqueueSetState:function(t,a,l){t=t._reactInternals;var h=sa(),v=Ls(h);v.payload=a,l!=null&&(v.callback=l),a=Os(t,v,h),a!==null&&(jr(a,t,h),vl(a,t,h))},enqueueReplaceState:function(t,a,l){t=t._reactInternals;var h=sa(),v=Ls(h);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=Os(t,v,h),a!==null&&(jr(a,t,h),vl(a,t,h))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var l=sa(),h=Ls(l);h.tag=2,a!=null&&(h.callback=a),a=Os(t,h,l),a!==null&&(jr(a,t,l),vl(a,t,l))}};function hp(t,a,l,h,v,_,R){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(h,_,R):a.prototype&&a.prototype.isPureReactComponent?!il(l,h)||!il(v,_):!0}function dp(t,a,l,h){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==t&&wh.enqueueReplaceState(a,a.state,null)}function on(t,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(t=t.defaultProps){l===a&&(l=k({},l));for(var v in t)l[v]===void 0&&(l[v]=t[v])}return l}function pp(t){Na(t)}function Zc(t){console.error(t)}function Nl(t){Na(t)}function cr(t,a){try{var l=t.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function ju(t,a,l){try{var h=t.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Gu(t,a,l){return l=Ls(l),l.tag=3,l.payload={element:null},l.callback=function(){cr(t,a)},l}function Ah(t){return t=Ls(t),t.tag=3,t}function Ch(t,a,l,h){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;t.payload=function(){return v(_)},t.callback=function(){ju(a,l,h)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(t.callback=function(){ju(a,l,h),typeof v!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function gp(t,a,l,h,v){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&hl(a,l,v,!0),l=lr.current,l!==null){switch(l.tag){case 31:case 13:return Dr===null?wp():l.alternate===null&&ri===0&&(ri=3),l.flags&=-257,l.flags|=65536,l.lanes=v,h===Oc?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),Cm(t,h,v)),!1;case 22:return l.flags|=65536,h===Oc?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),Cm(t,h,v)),!1}throw Error(s(435,l.tag))}return Cm(t,h,v),wp(),!1}if(Vt)return a=lr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,h!==$a&&(t=Error(s(422),{cause:h}),yi(Fr(t,l)))):(h!==$a&&(a=Error(s(423),{cause:h}),yi(Fr(a,l))),t=t.current.alternate,t.flags|=65536,v&=-v,t.lanes|=v,h=Fr(h,l),v=Gu(t.stateNode,h,v),Ms(t,v),ri!==4&&(ri=2)),!1;var _=Error(s(520),{cause:h});if(_=Fr(_,l),Oh===null?Oh=[_]:Oh.push(_),ri!==4&&(ri=2),a===null)return!0;h=Fr(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,t=v&-v,l.lanes|=t,t=Gu(l.stateNode,h,t),Ms(l,t),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ml===null||!Ml.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Ah(v),Ch(v,t,l,h),Ms(l,v),!1}l=l.return}while(l!==null);return!1}var Wu=Error(s(461)),Jn=!1;function xi(t,a,l,h){a.child=t===null?Jd(a,null,l,h):Is(a,t.child,l,h)}function Jc(t,a,l,h,v){l=l.render;var _=a.ref;if("ref"in h){var R={};for(var U in h)U!=="ref"&&(R[U]=h[U])}else R=h;return Ja(a),h=ah(t,a,l,R,_,v),U=Ao(),t!==null&&!Jn?(oh(t,a,v),j(t,a,v)):(Vt&&U&&Xa(a),a.flags|=1,xi(t,a,h,v),a.child)}function Dh(t,a,l,h,v){if(t===null){var _=l.type;return typeof _=="function"&&!kc(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,ln(t,a,_,h,v)):(t=Wa(l.type,null,h,a,a.mode,v),t.ref=a.ref,t.return=a,a.child=t)}if(_=t.child,!Q(t,v)){var R=_.memoizedProps;if(l=l.compare,l=l!==null?l:il,l(R,h)&&t.ref===a.ref)return j(t,a,v)}return a.flags|=1,t=ea(_,h),t.ref=a.ref,t.return=a,a.child=t}function ln(t,a,l,h,v){if(t!==null){var _=t.memoizedProps;if(il(_,h)&&t.ref===a.ref)if(Jn=!1,a.pendingProps=h=_,Q(t,v))(t.flags&131072)!==0&&(Jn=!0);else return a.lanes=t.lanes,j(t,a,v)}return Rh(t,a,l,h,v)}function xh(t,a,l,h){var v=h.children,_=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,t!==null){for(h=a.child=t.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~_}else h=0,a.child=null;return Ro(t,a,_,l,h)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&na(a,_!==null?_.cachePool:null),_!==null?Ei(a,_):El(),rh(a);else return h=a.lanes=536870912,Ro(t,a,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(na(a,_.cachePool),Ei(a,_),as(),a.memoizedState=null):(t!==null&&na(a,null),El(),as());return xi(t,a,v,l),a.child}function Ku(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ro(t,a,l,h,v){var _=Cr();return _=_===null?null:{parent:$n._currentValue,pool:_},a.memoizedState={baseLanes:l,cachePool:_},t!==null&&na(a,null),El(),rh(a),t!==null&&hl(t,a,h,!0),a.childLanes=v,null}function ef(t,a){return a=y({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Yu(t,a,l){return Is(a,t.child,null,l),t=ef(a,a.pendingProps),t.flags|=2,ur(a),a.memoizedState=null,t}function gm(t,a,l){var h=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Vt){if(h.mode==="hidden")return t=ef(a,h),a.lanes=536870912,Ku(null,t);if(bl(a),(t=wn)?(t=s_(t,vi),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Qa!==null?{id:ar,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=Cu(t),l.return=a,a.child=l,mi=a,wn=null)):t=null,t===null)throw Rs(a);return a.lanes=536870912,null}return ef(a,h)}var _=t.memoizedState;if(_!==null){var R=_.dehydrated;if(bl(a),v)if(a.flags&256)a.flags&=-257,a=Yu(t,a,l);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(s(558));else if(Jn||hl(t,a,l,!1),v=(l&t.childLanes)!==0,Jn||v){if(h=Ln,h!==null&&(R=ha(h,l),R!==0&&R!==_.retryLane))throw _.retryLane=R,Jr(t,R),jr(h,t,R),Wu;wp(),a=Yu(t,a,l)}else t=_.treeContext,wn=Fa(R.nextSibling),mi=a,Vt=!0,xs=null,vi=!1,t!==null&&yo(a,t),a=ef(a,h),a.flags|=4096;return a}return t=ea(t.child,{mode:h.mode,children:h.children}),t.ref=a.ref,a.child=t,t.return=a,t}function In(t,a){var l=a.ref;if(l===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(t===null||t.ref!==l)&&(a.flags|=4194816)}}function Rh(t,a,l,h,v){return Ja(a),l=ah(t,a,l,h,void 0,v),h=Ao(),t!==null&&!Jn?(oh(t,a,v),j(t,a,v)):(Vt&&h&&Xa(a),a.flags|=1,xi(t,a,l,v),a.child)}function mp(t,a,l,h,v,_){return Ja(a),a.updateQueue=null,l=ls(a,h,l,v),sh(t),h=Ao(),t!==null&&!Jn?(oh(t,a,_),j(t,a,_)):(Vt&&h&&Xa(a),a.flags|=1,xi(t,a,l,_),a.child)}function vp(t,a,l,h,v){if(Ja(a),a.stateNode===null){var _=Ga,R=l.contextType;typeof R=="object"&&R!==null&&(_=_i(R)),_=new l(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=wh,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},ml(a),R=l.contextType,_.context=typeof R=="object"&&R!==null?_i(R):Ga,_.state=a.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Il(a,l,R,h),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&wh.enqueueReplaceState(_,_.state,null),yl(a,h,_,v),Ps(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(t===null){_=a.stateNode;var U=a.memoizedProps,se=on(l,U);_.props=se;var Ie=_.context,Pe=l.contextType;R=Ga,typeof Pe=="object"&&Pe!==null&&(R=_i(Pe));var ze=l.getDerivedStateFromProps;Pe=typeof ze=="function"||typeof _.getSnapshotBeforeUpdate=="function",U=a.pendingProps!==U,Pe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(U||Ie!==R)&&dp(a,_,h,R),Ns=!1;var Ne=a.memoizedState;_.state=Ne,yl(a,h,_,v),Ps(),Ie=a.memoizedState,U||Ne!==Ie||Ns?(typeof ze=="function"&&(Il(a,l,ze,h),Ie=a.memoizedState),(se=Ns||hp(a,l,se,h,Ne,Ie,R))?(Pe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Ie),_.props=h,_.state=Ie,_.context=R,h=se):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,Pc(t,a),R=a.memoizedProps,Pe=on(l,R),_.props=Pe,ze=a.pendingProps,Ne=_.context,Ie=l.contextType,se=Ga,typeof Ie=="object"&&Ie!==null&&(se=_i(Ie)),U=l.getDerivedStateFromProps,(Ie=typeof U=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==ze||Ne!==se)&&dp(a,_,h,se),Ns=!1,Ne=a.memoizedState,_.state=Ne,yl(a,h,_,v),Ps();var Me=a.memoizedState;R!==ze||Ne!==Me||Ns||t!==null&&t.dependencies!==null&&Lc(t.dependencies)?(typeof U=="function"&&(Il(a,l,U,h),Me=a.memoizedState),(Pe=Ns||hp(a,l,Pe,h,Ne,Me,se)||t!==null&&t.dependencies!==null&&Lc(t.dependencies))?(Ie||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,Me,se),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,Me,se)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===t.memoizedProps&&Ne===t.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&Ne===t.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Me),_.props=h,_.state=Me,_.context=se,h=Pe):(typeof _.componentDidUpdate!="function"||R===t.memoizedProps&&Ne===t.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&Ne===t.memoizedState||(a.flags|=1024),h=!1)}return _=h,In(t,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,t!==null&&h?(a.child=Is(a,t.child,null,v),a.child=Is(a,null,l,v)):xi(t,a,l,v),a.memoizedState=_.state,t=a.child):t=j(t,a,v),t}function Qu(t,a,l,h){return _o(),a.flags|=256,xi(t,a,l,h),a.child}var i={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function o(t){return{baseLanes:t,cachePool:ns()}}function f(t,a,l){return t=t!==null?t.childLanes&~l:0,a&&(t|=aa),t}function c(t,a,l){var h=a.pendingProps,v=!1,_=(a.flags&128)!==0,R;if((R=_)||(R=t!==null&&t.memoizedState===null?!1:(An.current&2)!==0),R&&(v=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,t===null){if(Vt){if(v?xr(a):as(),(t=wn)?(t=s_(t,vi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Qa!==null?{id:ar,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=Cu(t),l.return=a,a.child=l,mi=a,wn=null)):t=null,t===null)throw Rs(a);return Hm(t)?a.lanes=32:a.lanes=536870912,null}var U=h.children;return h=h.fallback,v?(as(),v=a.mode,U=y({mode:"hidden",children:U},v),h=Oa(h,v,l,null),U.return=a,h.return=a,U.sibling=h,a.child=U,h=a.child,h.memoizedState=o(l),h.childLanes=f(t,R,l),a.memoizedState=i,Ku(null,h)):(xr(a),p(a,U))}var se=t.memoizedState;if(se!==null&&(U=se.dehydrated,U!==null)){if(_)a.flags&256?(xr(a),a.flags&=-257,a=S(t,a,l)):a.memoizedState!==null?(as(),a.child=t.child,a.flags|=128,a=null):(as(),U=h.fallback,v=a.mode,h=y({mode:"visible",children:h.children},v),U=Oa(U,v,l,null),U.flags|=2,h.return=a,U.return=a,h.sibling=U,a.child=h,Is(a,t.child,null,l),h=a.child,h.memoizedState=o(l),h.childLanes=f(t,R,l),a.memoizedState=i,a=Ku(null,h));else if(xr(a),Hm(U)){if(R=U.nextSibling&&U.nextSibling.dataset,R)var Ie=R.dgst;R=Ie,h=Error(s(419)),h.stack="",h.digest=R,yi({value:h,source:null,stack:null}),a=S(t,a,l)}else if(Jn||hl(t,a,l,!1),R=(l&t.childLanes)!==0,Jn||R){if(R=Ln,R!==null&&(h=ha(R,l),h!==0&&h!==se.retryLane))throw se.retryLane=h,Jr(t,h),jr(R,t,h),Wu;zm(U)||wp(),a=S(t,a,l)}else zm(U)?(a.flags|=192,a.child=t.child,a=null):(t=se.treeContext,wn=Fa(U.nextSibling),mi=a,Vt=!0,xs=null,vi=!1,t!==null&&yo(a,t),a=p(a,h.children),a.flags|=4096);return a}return v?(as(),U=h.fallback,v=a.mode,se=t.child,Ie=se.sibling,h=ea(se,{mode:"hidden",children:h.children}),h.subtreeFlags=se.subtreeFlags&65011712,Ie!==null?U=ea(Ie,U):(U=Oa(U,v,l,null),U.flags|=2),U.return=a,h.return=a,h.sibling=U,a.child=h,Ku(null,h),h=a.child,U=t.child.memoizedState,U===null?U=o(l):(v=U.cachePool,v!==null?(se=$n._currentValue,v=v.parent!==se?{parent:se,pool:se}:v):v=ns(),U={baseLanes:U.baseLanes|l,cachePool:v}),h.memoizedState=U,h.childLanes=f(t,R,l),a.memoizedState=i,Ku(t.child,h)):(xr(a),l=t.child,t=l.sibling,l=ea(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,t!==null&&(R=a.deletions,R===null?(a.deletions=[t],a.flags|=16):R.push(t)),a.child=l,a.memoizedState=null,l)}function p(t,a){return a=y({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function y(t,a){return t=Wi(22,t,null,a),t.lanes=0,t}function S(t,a,l){return Is(a,t.child,null,l),t=p(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function C(t,a,l){t.lanes|=a;var h=t.alternate;h!==null&&(h.lanes|=a),fl(t.return,a,l)}function D(t,a,l,h,v,_){var R=t.memoizedState;R===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:v,treeForkCount:_}:(R.isBackwards=a,R.rendering=null,R.renderingStartTime=0,R.last=h,R.tail=l,R.tailMode=v,R.treeForkCount=_)}function O(t,a,l){var h=a.pendingProps,v=h.revealOrder,_=h.tail;h=h.children;var R=An.current,U=(R&2)!==0;if(U?(R=R&1|2,a.flags|=128):R&=1,I(An,R),xi(t,a,h,l),h=Vt?Ya:0,!U&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C(t,l,a);else if(t.tag===19)C(t,l,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(v){case"forwards":for(l=a.child,v=null;l!==null;)t=l.alternate,t!==null&&Ou(t)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),D(a,!1,v,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(t=v.alternate,t!==null&&Ou(t)===null){a.child=v;break}t=v.sibling,v.sibling=l,l=v,v=t}D(a,!0,l,null,_,h);break;case"together":D(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function j(t,a,l){if(t!==null&&(a.dependencies=t.dependencies),Ol|=a.lanes,(l&a.childLanes)===0)if(t!==null){if(hl(t,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(s(153));if(a.child!==null){for(t=a.child,l=ea(t,t.pendingProps),a.child=l,l.return=a;t.sibling!==null;)t=t.sibling,l=l.sibling=ea(t,t.pendingProps),l.return=a;l.sibling=null}return a.child}function Q(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Lc(t)))}function be(t,a,l){switch(a.tag){case 3:kt(a,a.stateNode.containerInfo),Ur(a,$n,t.memoizedState.cache),_o();break;case 27:case 5:Kt(a);break;case 4:kt(a,a.stateNode.containerInfo);break;case 10:Ur(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,bl(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(xr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?c(t,a,l):(xr(a),t=j(t,a,l),t!==null?t.sibling:null);xr(a);break;case 19:var v=(t.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(hl(t,a,l,!1),h=(l&a.childLanes)!==0),v){if(h)return O(t,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),I(An,An.current),h)break;return null;case 22:return a.lanes=0,xh(t,a,l,a.pendingProps);case 24:Ur(a,$n,t.memoizedState.cache)}return j(t,a,l)}function pe(t,a,l){if(t!==null)if(t.memoizedProps!==a.pendingProps)Jn=!0;else{if(!Q(t,l)&&(a.flags&128)===0)return Jn=!1,be(t,a,l);Jn=(t.flags&131072)!==0}else Jn=!1,Vt&&(a.flags&1048576)!==0&&ul(a,Ya,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(t=ks(a.elementType),a.type=t,typeof t=="function")kc(t)?(h=on(t,h),a.tag=1,a=vp(null,a,t,h,l)):(a.tag=0,a=Rh(null,a,t,h,l));else{if(t!=null){var v=t.$$typeof;if(v===oe){a.tag=11,a=Jc(null,a,t,h,l);break e}else if(v===B){a.tag=14,a=Dh(null,a,t,h,l);break e}}throw a=st(t)||t,Error(s(306,a,""))}}return a;case 0:return Rh(t,a,a.type,a.pendingProps,l);case 1:return h=a.type,v=on(h,a.pendingProps),vp(t,a,h,v,l);case 3:e:{if(kt(a,a.stateNode.containerInfo),t===null)throw Error(s(387));h=a.pendingProps;var _=a.memoizedState;v=_.element,Pc(t,a),yl(a,h,null,l);var R=a.memoizedState;if(h=R.cache,Ur(a,$n,h),h!==_.cache&&Zf(a,[$n],l,!0),Ps(),h=R.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Qu(t,a,h,l);break e}else if(h!==v){v=Fr(Error(s(424)),a),yi(v),a=Qu(t,a,h,l);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,wn=Fa(t.firstChild),mi=a,Vt=!0,xs=null,vi=!0,l=Jd(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(_o(),h===v){a=j(t,a,l);break e}xi(t,a,h,l)}a=a.child}return a;case 26:return In(t,a),t===null?(l=h_(a.type,null,a.pendingProps,null))?a.memoizedState=l:Vt||(l=a.type,t=a.pendingProps,h=Ip($e.current).createElement(l),h[Hn]=a,h[Ht]=t,Xi(h,l,t),qn(h),a.stateNode=h):a.memoizedState=h_(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Kt(a),t===null&&Vt&&(h=a.stateNode=u_(a.type,a.pendingProps,$e.current),mi=a,vi=!0,v=wn,Ul(a.type)?(qm=v,wn=Fa(h.firstChild)):wn=v),xi(t,a,a.pendingProps.children,l),In(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Vt&&((v=h=wn)&&(h=Ww(h,a.type,a.pendingProps,vi),h!==null?(a.stateNode=h,mi=a,wn=Fa(h.firstChild),vi=!1,v=!0):v=!1),v||Rs(a)),Kt(a),v=a.type,_=a.pendingProps,R=t!==null?t.memoizedProps:null,h=_.children,Bm(v,_)?h=null:R!==null&&Bm(v,R)&&(a.flags|=32),a.memoizedState!==null&&(v=ah(t,a,Tl,null,null,l),Hh._currentValue=v),In(t,a),xi(t,a,h,l),a.child;case 6:return t===null&&Vt&&((t=l=wn)&&(l=Kw(l,a.pendingProps,vi),l!==null?(a.stateNode=l,mi=a,wn=null,t=!0):t=!1),t||Rs(a)),null;case 13:return c(t,a,l);case 4:return kt(a,a.stateNode.containerInfo),h=a.pendingProps,t===null?a.child=Is(a,null,h,l):xi(t,a,h,l),a.child;case 11:return Jc(t,a,a.type,a.pendingProps,l);case 7:return xi(t,a,a.pendingProps,l),a.child;case 8:return xi(t,a,a.pendingProps.children,l),a.child;case 12:return xi(t,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Ur(a,a.type,h.value),xi(t,a,h.children,l),a.child;case 9:return v=a.type._context,h=a.pendingProps.children,Ja(a),v=_i(v),h=h(v),a.flags|=1,xi(t,a,h,l),a.child;case 14:return Dh(t,a,a.type,a.pendingProps,l);case 15:return ln(t,a,a.type,a.pendingProps,l);case 19:return O(t,a,l);case 31:return gm(t,a,l);case 22:return xh(t,a,l,a.pendingProps);case 24:return Ja(a),h=_i($n),t===null?(v=Cr(),v===null&&(v=Ln,_=Du(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),a.memoizedState={parent:h,cache:v},ml(a),Ur(a,$n,v)):((t.lanes&l)!==0&&(Pc(t,a),yl(a,null,null,l),Ps()),v=t.memoizedState,_=a.memoizedState,v.parent!==h?(v={parent:h,cache:h},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Ur(a,$n,h)):(h=_.cache,Ur(a,$n,h),h!==v.cache&&Zf(a,[$n],l,!0))),xi(t,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Le(t){t.flags|=4}function Be(t,a,l,h,v){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(v&335544128)===v)if(t.stateNode.complete)t.flags|=8192;else if(x0())t.flags|=8192;else throw is=Oc,xu}else t.flags&=-16777217}function Ye(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v_(a))if(x0())t.flags|=8192;else throw is=Oc,xu}function Ze(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?yt():536870912,t.lanes|=a,sf|=a)}function tt(t,a){if(!Vt)switch(t.tailMode){case"hidden":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:h.sibling=null}}function qe(t){var a=t.alternate!==null&&t.alternate.child===t.child,l=0,h=0;if(a)for(var v=t.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=t,v=v.sibling;else for(v=t.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=t,v=v.sibling;return t.subtreeFlags|=h,t.childLanes=l,a}function it(t,a,l){var h=a.pendingProps;switch(vo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(a),null;case 1:return qe(a),null;case 3:return l=a.stateNode,h=null,t!==null&&(h=t.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Za($n),Tt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(cl(a)?Le(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$f())),qe(a),null;case 26:var v=a.type,_=a.memoizedState;return t===null?(Le(a),_!==null?(qe(a),Ye(a,_)):(qe(a),Be(a,v,null,h,l))):_?_!==t.memoizedState?(Le(a),qe(a),Ye(a,_)):(qe(a),a.flags&=-16777217):(t=t.memoizedProps,t!==h&&Le(a),qe(a),Be(a,v,t,h,l)),null;case 27:if(xt(a),l=$e.current,v=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==h&&Le(a);else{if(!h){if(a.stateNode===null)throw Error(s(166));return qe(a),null}t=ge.current,cl(a)?Gd(a):(t=u_(v,h,l),a.stateNode=t,Le(a))}return qe(a),null;case 5:if(xt(a),v=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==h&&Le(a);else{if(!h){if(a.stateNode===null)throw Error(s(166));return qe(a),null}if(_=ge.current,cl(a))Gd(a);else{var R=Ip($e.current);switch(_){case 1:_=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=R.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?R.createElement("select",{is:h.is}):R.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?R.createElement(v,{is:h.is}):R.createElement(v)}}_[Hn]=a,_[Ht]=h;e:for(R=a.child;R!==null;){if(R.tag===5||R.tag===6)_.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===a)break e;for(;R.sibling===null;){if(R.return===null||R.return===a)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}a.stateNode=_;e:switch(Xi(_,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Le(a)}}return qe(a),Be(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,l),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==h&&Le(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(s(166));if(t=$e.current,cl(a)){if(t=a.stateNode,l=a.memoizedProps,h=null,v=mi,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}t[Hn]=a,t=!!(t.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Z0(t.nodeValue,l)),t||Rs(a,!0)}else t=Ip(t).createTextNode(h),t[Hn]=a,a.stateNode=t}return qe(a),null;case 31:if(l=a.memoizedState,t===null||t.memoizedState!==null){if(h=cl(a),l!==null){if(t===null){if(!h)throw Error(s(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Hn]=a}else _o(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;qe(a),t=!1}else l=$f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return a.flags&256?(ur(a),a):(ur(a),null);if((a.flags&128)!==0)throw Error(s(558))}return qe(a),null;case 13:if(h=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(v=cl(a),h!==null&&h.dehydrated!==null){if(t===null){if(!v)throw Error(s(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[Hn]=a}else _o(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;qe(a),v=!1}else v=$f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(ur(a),a):(ur(a),null)}return ur(a),(a.flags&128)!==0?(a.lanes=l,a):(l=h!==null,t=t!==null&&t.memoizedState!==null,l&&(h=a.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)),l!==t&&l&&(a.child.flags|=8192),Ze(a,a.updateQueue),qe(a),null);case 4:return Tt(),t===null&&Lm(a.stateNode.containerInfo),qe(a),null;case 10:return Za(a.type),qe(a),null;case 19:if(z(An),h=a.memoizedState,h===null)return qe(a),null;if(v=(a.flags&128)!==0,_=h.rendering,_===null)if(v)tt(h,!1);else{if(ri!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(_=Ou(t),_!==null){for(a.flags|=128,tt(h,!1),t=_.updateQueue,a.updateQueue=t,Ze(a,t),a.subtreeFlags=0,t=l,l=a.child;l!==null;)Ic(l,t),l=l.sibling;return I(An,An.current&1|2),Vt&&Yi(a,h.treeForkCount),a.child}t=t.sibling}h.tail!==null&&Se()>bp&&(a.flags|=128,v=!0,tt(h,!1),a.lanes=4194304)}else{if(!v)if(t=Ou(_),t!==null){if(a.flags|=128,v=!0,t=t.updateQueue,a.updateQueue=t,Ze(a,t),tt(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Vt)return qe(a),null}else 2*Se()-h.renderingStartTime>bp&&l!==536870912&&(a.flags|=128,v=!0,tt(h,!1),a.lanes=4194304);h.isBackwards?(_.sibling=a.child,a.child=_):(t=h.last,t!==null?t.sibling=_:a.child=_,h.last=_)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Se(),t.sibling=null,l=An.current,I(An,v?l&1|2:l&1),Vt&&Yi(a,h.treeForkCount),t):(qe(a),null);case 22:case 23:return ur(a),Bc(),h=a.memoizedState!==null,t!==null?t.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(qe(a),a.subtreeFlags&6&&(a.flags|=8192)):qe(a),l=a.updateQueue,l!==null&&Ze(a,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),t!==null&&z(Ut),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Za($n),qe(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function vt(t,a){switch(vo(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Za($n),Tt(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return xt(a),null;case 31:if(a.memoizedState!==null){if(ur(a),a.alternate===null)throw Error(s(340));_o()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(ur(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(s(340));_o()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return z(An),null;case 4:return Tt(),null;case 10:return Za(a.type),null;case 22:case 23:return ur(a),Bc(),t!==null&&z(Ut),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Za($n),null;case 25:return null;default:return null}}function ht(t,a){switch(vo(a),a.tag){case 3:Za($n),Tt();break;case 26:case 27:case 5:xt(a);break;case 4:Tt();break;case 31:a.memoizedState!==null&&ur(a);break;case 13:ur(a);break;case 19:z(An);break;case 10:Za(a.type);break;case 22:case 23:ur(a),Bc(),t!==null&&z(Ut);break;case 24:Za($n)}}function Rt(t,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var v=h.next;l=v;do{if((l.tag&t)===t){h=void 0;var _=l.create,R=l.inst;h=_(),R.destroy=h}l=l.next}while(l!==v)}}catch(U){Tn(a,a.return,U)}}function jt(t,a,l){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&t)===t){var R=h.inst,U=R.destroy;if(U!==void 0){R.destroy=void 0,v=a;var se=l,Ie=U;try{Ie()}catch(Pe){Tn(v,se,Pe)}}}h=h.next}while(h!==_)}}catch(Pe){Tn(a,a.return,Pe)}}function ii(t){var a=t.updateQueue;if(a!==null){var l=t.stateNode;try{ih(a,l)}catch(h){Tn(t,t.return,h)}}}function Nn(t,a,l){l.props=on(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(h){Tn(t,a,h)}}function bi(t,a){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var h=t.stateNode;break;case 30:h=t.stateNode;break;default:h=t.stateNode}typeof l=="function"?t.refCleanup=l(h):l.current=h}}catch(v){Tn(t,a,v)}}function Mn(t,a){var l=t.ref,h=t.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(v){Tn(t,a,v)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Tn(t,a,v)}else l.current=null}function Wn(t){var a=t.type,l=t.memoizedProps,h=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(v){Tn(t,t.return,v)}}function Ri(t,a,l){try{var h=t.stateNode;Vw(h,t.type,l,a),h[Ht]=a}catch(v){Tn(t,t.return,v)}}function fi(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ul(t.type)||t.tag===4}function Kn(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fi(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ul(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Un(t,a,l){var h=t.tag;if(h===5||h===6)t=t.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(t),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Xr));else if(h!==4&&(h===27&&Ul(t.type)&&(l=t.stateNode,a=null),t=t.child,t!==null))for(Un(t,a,l),t=t.sibling;t!==null;)Un(t,a,l),t=t.sibling}function Dn(t,a,l){var h=t.tag;if(h===5||h===6)t=t.stateNode,a?l.insertBefore(t,a):l.appendChild(t);else if(h!==4&&(h===27&&Ul(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Dn(t,a,l),t=t.sibling;t!==null;)Dn(t,a,l),t=t.sibling}function Fi(t){var a=t.stateNode,l=t.memoizedProps;try{for(var h=t.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Xi(a,h,l),a[Hn]=t,a[Ht]=l}catch(_){Tn(t,t.return,_)}}var fr=!1,En=!1,hi=!1,ia=typeof WeakSet=="function"?WeakSet:Set,zt=null;function kh(t,a){if(t=t.containerInfo,Pm=Bp,t=Wf(t),wu(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var R=0,U=-1,se=-1,Ie=0,Pe=0,ze=t,Ne=null;t:for(;;){for(var Me;ze!==l||v!==0&&ze.nodeType!==3||(U=R+v),ze!==_||h!==0&&ze.nodeType!==3||(se=R+h),ze.nodeType===3&&(R+=ze.nodeValue.length),(Me=ze.firstChild)!==null;)Ne=ze,ze=Me;for(;;){if(ze===t)break t;if(Ne===l&&++Ie===v&&(U=R),Ne===_&&++Pe===h&&(se=R),(Me=ze.nextSibling)!==null)break;ze=Ne,Ne=ze.parentNode}ze=Me}l=U===-1||se===-1?null:{start:U,end:se}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fm={focusedElem:t,selectionRange:l},Bp=!1,zt=a;zt!==null;)if(a=zt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,zt=t;else for(;zt!==null;){switch(a=zt,_=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)v=t[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&_!==null){t=void 0,l=a,v=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var ft=on(l.type,v);t=h.getSnapshotBeforeUpdate(ft,_),h.__reactInternalSnapshotBeforeUpdate=t}catch(wt){Tn(l,l.return,wt)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,l=t.nodeType,l===9)Vm(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=a.sibling,t!==null){t.return=a.return,zt=t;break}zt=a.return}}function Pa(t,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ko(t,l),h&4&&Rt(5,l);break;case 1:if(ko(t,l),h&4)if(t=l.stateNode,a===null)try{t.componentDidMount()}catch(R){Tn(l,l.return,R)}else{var v=on(l.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(v,a,t.__reactInternalSnapshotBeforeUpdate)}catch(R){Tn(l,l.return,R)}}h&64&&ii(l),h&512&&bi(l,l.return);break;case 3:if(ko(t,l),h&64&&(t=l.updateQueue,t!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{ih(t,a)}catch(R){Tn(l,l.return,R)}}break;case 27:a===null&&h&4&&Fi(l);case 26:case 5:ko(t,l),a===null&&h&4&&Wn(l),h&512&&bi(l,l.return);break;case 12:ko(t,l);break;case 31:ko(t,l),h&4&&d0(t,l);break;case 13:ko(t,l),h&4&&p0(t,l),h&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=xw.bind(null,l),Yw(t,l))));break;case 22:if(h=l.memoizedState!==null||fr,!h){a=a!==null&&a.memoizedState!==null||En,v=fr;var _=En;fr=h,(En=a)&&!_?Io(t,l,(l.subtreeFlags&8772)!==0):ko(t,l),fr=v,En=_}break;case 30:break;default:ko(t,l)}}function Us(t){var a=t.alternate;a!==null&&(t.alternate=null,Us(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Yr(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fn=null,pn=!1;function hr(t,a,l){for(l=l.child;l!==null;)tf(t,a,l),l=l.sibling}function tf(t,a,l){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount($,l)}catch{}switch(l.tag){case 26:En||Mn(l,a),hr(t,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:En||Mn(l,a);var h=fn,v=pn;Ul(l.type)&&(fn=l.stateNode,pn=!1),hr(t,a,l),Uh(l.stateNode),fn=h,pn=v;break;case 5:En||Mn(l,a);case 6:if(h=fn,v=pn,fn=null,hr(t,a,l),fn=h,pn=v,fn!==null)if(pn)try{(fn.nodeType===9?fn.body:fn.nodeName==="HTML"?fn.ownerDocument.body:fn).removeChild(l.stateNode)}catch(_){Tn(l,a,_)}else try{fn.removeChild(l.stateNode)}catch(_){Tn(l,a,_)}break;case 18:fn!==null&&(pn?(t=fn,r_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),pf(t)):r_(fn,l.stateNode));break;case 4:h=fn,v=pn,fn=l.stateNode.containerInfo,pn=!0,hr(t,a,l),fn=h,pn=v;break;case 0:case 11:case 14:case 15:jt(2,l,a),En||jt(4,l,a),hr(t,a,l);break;case 1:En||(Mn(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Nn(l,a,h)),hr(t,a,l);break;case 21:hr(t,a,l);break;case 22:En=(h=En)||l.memoizedState!==null,hr(t,a,l),En=h;break;default:hr(t,a,l)}}function d0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{pf(t)}catch(l){Tn(a,a.return,l)}}}function p0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pf(t)}catch(l){Tn(a,a.return,l)}}function Ew(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new ia),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new ia),a;default:throw Error(s(435,t.tag))}}function yp(t,a){var l=Ew(t);a.forEach(function(h){if(!l.has(h)){l.add(h);var v=Rw.bind(null,t,h);h.then(v,v)}})}function zr(t,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var v=l[h],_=t,R=a,U=R;e:for(;U!==null;){switch(U.tag){case 27:if(Ul(U.type)){fn=U.stateNode,pn=!1;break e}break;case 5:fn=U.stateNode,pn=!1;break e;case 3:case 4:fn=U.stateNode.containerInfo,pn=!0;break e}U=U.return}if(fn===null)throw Error(s(160));tf(_,R,v),fn=null,pn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)g0(a,t),a=a.sibling}var hs=null;function g0(t,a){var l=t.alternate,h=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zr(a,t),Hr(t),h&4&&(jt(3,t,t.return),Rt(3,t),jt(5,t,t.return));break;case 1:zr(a,t),Hr(t),h&512&&(En||l===null||Mn(l,l.return)),h&64&&fr&&(t=t.updateQueue,t!==null&&(h=t.callbacks,h!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var v=hs;if(zr(a,t),Hr(t),h&512&&(En||l===null||Mn(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=t.memoizedState,l===null)if(h===null)if(t.stateNode===null){e:{h=t.type,l=t.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[yr]||_[Hn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),Xi(_,h,l),_[Hn]=t,qn(_),h=_;break e;case"link":var R=g_("link","href",v).get(h+(l.href||""));if(R){for(var U=0;U<R.length;U++)if(_=R[U],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(U,1);break t}}_=v.createElement(h),Xi(_,h,l),v.head.appendChild(_);break;case"meta":if(R=g_("meta","content",v).get(h+(l.content||""))){for(U=0;U<R.length;U++)if(_=R[U],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(U,1);break t}}_=v.createElement(h),Xi(_,h,l),v.head.appendChild(_);break;default:throw Error(s(468,h))}_[Hn]=t,qn(_),h=_}t.stateNode=h}else m_(v,t.type,t.stateNode);else t.stateNode=p_(v,h,t.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?m_(v,t.type,t.stateNode):p_(v,h,t.memoizedProps)):h===null&&t.stateNode!==null&&Ri(t,t.memoizedProps,l.memoizedProps)}break;case 27:zr(a,t),Hr(t),h&512&&(En||l===null||Mn(l,l.return)),l!==null&&h&4&&Ri(t,t.memoizedProps,l.memoizedProps);break;case 5:if(zr(a,t),Hr(t),h&512&&(En||l===null||Mn(l,l.return)),t.flags&32){v=t.stateNode;try{Pi(v,"")}catch(ft){Tn(t,t.return,ft)}}h&4&&t.stateNode!=null&&(v=t.memoizedProps,Ri(t,v,l!==null?l.memoizedProps:v)),h&1024&&(hi=!0);break;case 6:if(zr(a,t),Hr(t),h&4){if(t.stateNode===null)throw Error(s(162));h=t.memoizedProps,l=t.stateNode;try{l.nodeValue=h}catch(ft){Tn(t,t.return,ft)}}break;case 3:if(Op=null,v=hs,hs=Np(a.containerInfo),zr(a,t),hs=v,Hr(t),h&4&&l!==null&&l.memoizedState.isDehydrated)try{pf(a.containerInfo)}catch(ft){Tn(t,t.return,ft)}hi&&(hi=!1,m0(t));break;case 4:h=hs,hs=Np(t.stateNode.containerInfo),zr(a,t),Hr(t),hs=h;break;case 12:zr(a,t),Hr(t);break;case 31:zr(a,t),Hr(t),h&4&&(h=t.updateQueue,h!==null&&(t.updateQueue=null,yp(t,h)));break;case 13:zr(a,t),Hr(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ep=Se()),h&4&&(h=t.updateQueue,h!==null&&(t.updateQueue=null,yp(t,h)));break;case 22:v=t.memoizedState!==null;var se=l!==null&&l.memoizedState!==null,Ie=fr,Pe=En;if(fr=Ie||v,En=Pe||se,zr(a,t),En=Pe,fr=Ie,Hr(t),h&8192)e:for(a=t.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||se||fr||En||Xu(t)),l=null,a=t;;){if(a.tag===5||a.tag===26){if(l===null){se=l=a;try{if(_=se.stateNode,v)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{U=se.stateNode;var ze=se.memoizedProps.style,Ne=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;U.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(ft){Tn(se,se.return,ft)}}}else if(a.tag===6){if(l===null){se=a;try{se.stateNode.nodeValue=v?"":se.memoizedProps}catch(ft){Tn(se,se.return,ft)}}}else if(a.tag===18){if(l===null){se=a;try{var Me=se.stateNode;v?a_(Me,!0):a_(se.stateNode,!1)}catch(ft){Tn(se,se.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=t.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,yp(t,l))));break;case 19:zr(a,t),Hr(t),h&4&&(h=t.updateQueue,h!==null&&(t.updateQueue=null,yp(t,h)));break;case 30:break;case 21:break;default:zr(a,t),Hr(t)}}function Hr(t){var a=t.flags;if(a&2){try{for(var l,h=t.return;h!==null;){if(fi(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var v=l.stateNode,_=Kn(t);Dn(t,_,v);break;case 5:var R=l.stateNode;l.flags&32&&(Pi(R,""),l.flags&=-33);var U=Kn(t);Dn(t,U,R);break;case 3:case 4:var se=l.stateNode.containerInfo,Ie=Kn(t);Un(t,Ie,se);break;default:throw Error(s(161))}}catch(Pe){Tn(t,t.return,Pe)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function m0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;m0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ko(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Pa(t,a.alternate,a),a=a.sibling}function Xu(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:jt(4,a,a.return),Xu(a);break;case 1:Mn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Nn(a,a.return,l),Xu(a);break;case 27:Uh(a.stateNode);case 26:case 5:Mn(a,a.return),Xu(a);break;case 22:a.memoizedState===null&&Xu(a);break;case 30:Xu(a);break;default:Xu(a)}t=t.sibling}}function Io(t,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,v=t,_=a,R=_.flags;switch(_.tag){case 0:case 11:case 15:Io(v,_,l),Rt(4,_);break;case 1:if(Io(v,_,l),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ie){Tn(h,h.return,Ie)}if(h=_,v=h.updateQueue,v!==null){var U=h.stateNode;try{var se=v.shared.hiddenCallbacks;if(se!==null)for(v.shared.hiddenCallbacks=null,v=0;v<se.length;v++)Fc(se[v],U)}catch(Ie){Tn(h,h.return,Ie)}}l&&R&64&&ii(_),bi(_,_.return);break;case 27:Fi(_);case 26:case 5:Io(v,_,l),l&&h===null&&R&4&&Wn(_),bi(_,_.return);break;case 12:Io(v,_,l);break;case 31:Io(v,_,l),l&&R&4&&d0(v,_);break;case 13:Io(v,_,l),l&&R&4&&p0(v,_);break;case 22:_.memoizedState===null&&Io(v,_,l),bi(_,_.return);break;case 30:break;default:Io(v,_,l)}a=a.sibling}}function mm(t,a){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&pl(l))}function vm(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&pl(t))}function ds(t,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)v0(t,a,l,h),a=a.sibling}function v0(t,a,l,h){var v=a.flags;switch(a.tag){case 0:case 11:case 15:ds(t,a,l,h),v&2048&&Rt(9,a);break;case 1:ds(t,a,l,h);break;case 3:ds(t,a,l,h),v&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&pl(t)));break;case 12:if(v&2048){ds(t,a,l,h),t=a.stateNode;try{var _=a.memoizedProps,R=_.id,U=_.onPostCommit;typeof U=="function"&&U(R,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(se){Tn(a,a.return,se)}}else ds(t,a,l,h);break;case 31:ds(t,a,l,h);break;case 13:ds(t,a,l,h);break;case 23:break;case 22:_=a.stateNode,R=a.alternate,a.memoizedState!==null?_._visibility&2?ds(t,a,l,h):Ih(t,a):_._visibility&2?ds(t,a,l,h):(_._visibility|=2,nf(t,a,l,h,(a.subtreeFlags&10256)!==0||!1)),v&2048&&mm(R,a);break;case 24:ds(t,a,l,h),v&2048&&vm(a.alternate,a);break;default:ds(t,a,l,h)}}function nf(t,a,l,h,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=t,R=a,U=l,se=h,Ie=R.flags;switch(R.tag){case 0:case 11:case 15:nf(_,R,U,se,v),Rt(8,R);break;case 23:break;case 22:var Pe=R.stateNode;R.memoizedState!==null?Pe._visibility&2?nf(_,R,U,se,v):Ih(_,R):(Pe._visibility|=2,nf(_,R,U,se,v)),v&&Ie&2048&&mm(R.alternate,R);break;case 24:nf(_,R,U,se,v),v&&Ie&2048&&vm(R.alternate,R);break;default:nf(_,R,U,se,v)}a=a.sibling}}function Ih(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=t,h=a,v=h.flags;switch(h.tag){case 22:Ih(l,h),v&2048&&mm(h.alternate,h);break;case 24:Ih(l,h),v&2048&&vm(h.alternate,h);break;default:Ih(l,h)}a=a.sibling}}var Nh=8192;function rf(t,a,l){if(t.subtreeFlags&Nh)for(t=t.child;t!==null;)y0(t,a,l),t=t.sibling}function y0(t,a,l){switch(t.tag){case 26:rf(t,a,l),t.flags&Nh&&t.memoizedState!==null&&sA(l,hs,t.memoizedState,t.memoizedProps);break;case 5:rf(t,a,l);break;case 3:case 4:var h=hs;hs=Np(t.stateNode.containerInfo),rf(t,a,l),hs=h;break;case 22:t.memoizedState===null&&(h=t.alternate,h!==null&&h.memoizedState!==null?(h=Nh,Nh=16777216,rf(t,a,l),Nh=h):rf(t,a,l));break;default:rf(t,a,l)}}function _0(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Lh(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];zt=h,b0(h,t)}_0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)E0(t),t=t.sibling}function E0(t){switch(t.tag){case 0:case 11:case 15:Lh(t),t.flags&2048&&jt(9,t,t.return);break;case 3:Lh(t);break;case 12:Lh(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,_p(t)):Lh(t);break;default:Lh(t)}}function _p(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];zt=h,b0(h,t)}_0(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:jt(8,a,a.return),_p(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,_p(a));break;default:_p(a)}t=t.sibling}}function b0(t,a){for(;zt!==null;){var l=zt;switch(l.tag){case 0:case 11:case 15:jt(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:pl(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,zt=h;else e:for(l=t;zt!==null;){h=zt;var v=h.sibling,_=h.return;if(Us(h),h===l){zt=null;break e}if(v!==null){v.return=_,zt=v;break e}zt=_}}}var bw={getCacheForType:function(t){var a=_i($n),l=a.data.get(t);return l===void 0&&(l=t(),a.data.set(t,l)),l},cacheSignal:function(){return _i($n).controller.signal}},Tw=typeof WeakMap=="function"?WeakMap:Map,gn=0,Ln=null,Gt=null,Xt=0,bn=0,ra=null,Ll=!1,af=!1,ym=!1,No=0,ri=0,Ol=0,$u=0,_m=0,aa=0,sf=0,Oh=null,qr=null,Em=!1,Ep=0,T0=0,bp=1/0,Tp=null,Ml=null,ki=0,Pl=null,of=null,Lo=0,bm=0,Tm=null,S0=null,Mh=0,Sm=null;function sa(){return(gn&2)!==0&&Xt!==0?Xt&-Xt:ue.T!==null?Rm():ys()}function w0(){if(aa===0)if((Xt&536870912)===0||Vt){var t=nt;nt<<=1,(nt&3932160)===0&&(nt=262144),aa=t}else aa=536870912;return t=lr.current,t!==null&&(t.flags|=32),aa}function jr(t,a,l){(t===Ln&&(bn===2||bn===9)||t.cancelPendingCommit!==null)&&(lf(t,0),Fl(t,Xt,aa,!1)),Yt(t,l),((gn&2)===0||t!==Ln)&&(t===Ln&&((gn&2)===0&&($u|=l),ri===4&&Fl(t,Xt,aa,!1)),Vs(t))}function A0(t,a,l){if((gn&6)!==0)throw Error(s(327));var h=!l&&(a&127)===0&&(a&t.expiredLanes)===0||mt(t,a),v=h?Aw(t,a):Am(t,a,!0),_=h;do{if(v===0){af&&!h&&Fl(t,a,0,!1);break}else{if(l=t.current.alternate,_&&!Sw(l)){v=Am(t,a,!1),_=!1;continue}if(v===2){if(_=a,t.errorRecoveryDisabledLanes&_)var R=0;else R=t.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{var U=t;v=Oh;var se=U.current.memoizedState.isDehydrated;if(se&&(lf(U,R).flags|=256),R=Am(U,R,!1),R!==2){if(ym&&!se){U.errorRecoveryDisabledLanes|=_,$u|=_,v=4;break e}_=qr,qr=v,_!==null&&(qr===null?qr=_:qr.push.apply(qr,_))}v=R}if(_=!1,v!==2)continue}}if(v===1){lf(t,0),Fl(t,a,0,!0);break}e:{switch(h=t,_=v,_){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Fl(h,a,aa,!Ll);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(v=Ep+300-Se(),10<v)){if(Fl(h,a,aa,!Ll),pt(h,0,!0)!==0)break e;Lo=a,h.timeoutHandle=n_(C0.bind(null,h,l,qr,Tp,Em,a,aa,$u,sf,Ll,_,"Throttled",-0,0),v);break e}C0(h,l,qr,Tp,Em,a,aa,$u,sf,Ll,_,null,-0,0)}}break}while(!0);Vs(t)}function C0(t,a,l,h,v,_,R,U,se,Ie,Pe,ze,Ne,Me){if(t.timeoutHandle=-1,ze=a.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xr},y0(a,_,ze);var ft=(_&62914560)===_?Ep-Se():(_&4194048)===_?T0-Se():0;if(ft=oA(ze,ft),ft!==null){Lo=_,t.cancelPendingCommit=ft(O0.bind(null,t,a,_,l,h,v,R,U,se,Pe,ze,null,Ne,Me)),Fl(t,_,R,!Ie);return}}O0(t,a,_,l,h,v,R,U,se)}function Sw(t){for(var a=t;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var v=l[h],_=v.getSnapshot;v=v.value;try{if(!wr(_(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fl(t,a,l,h){a&=~_m,a&=~$u,t.suspendedLanes|=a,t.pingedLanes&=~a,h&&(t.warmLanes|=a),h=t.expirationTimes;for(var v=a;0<v;){var _=31-re(v),R=1<<_;h[_]=-1,v&=~R}l!==0&&zn(t,l,a)}function Sp(){return(gn&6)===0?(Ph(0),!1):!0}function wm(){if(Gt!==null){if(bn===0)var t=Gt.return;else t=Gt,_n=Gn=null,Vc(t),bo=null,ku=0,t=Gt;for(;t!==null;)ht(t.alternate,t),t=t.return;Gt=null}}function lf(t,a){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,qw(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Lo=0,wm(),Ln=t,Gt=l=ea(t.current,null),Xt=a,bn=0,ra=null,Ll=!1,af=mt(t,a),ym=!1,sf=aa=_m=$u=Ol=ri=0,qr=Oh=null,Em=!1,(a&8)!==0&&(a|=a&32);var h=t.entangledLanes;if(h!==0)for(t=t.entanglements,h&=a;0<h;){var v=31-re(h),_=1<<v;a|=t[v],h&=~_}return No=a,mo(),l}function D0(t,a){It=null,ue.H=qu,a===Eo||a===Ru?(a=rs(),bn=3):a===xu?(a=rs(),bn=4):bn=a===Wu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ra=a,Gt===null&&(ri=1,cr(t,Fr(a,t.current)))}function x0(){var t=lr.current;return t===null?!0:(Xt&4194048)===Xt?Dr===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?t===Dr:!1}function R0(){var t=ue.H;return ue.H=qu,t===null?qu:t}function k0(){var t=ue.A;return ue.A=bw,t}function wp(){ri=4,Ll||(Xt&4194048)!==Xt&&lr.current!==null||(af=!0),(Ol&134217727)===0&&($u&134217727)===0||Ln===null||Fl(Ln,Xt,aa,!1)}function Am(t,a,l){var h=gn;gn|=2;var v=R0(),_=k0();(Ln!==t||Xt!==a)&&(Tp=null,lf(t,a)),a=!1;var R=ri;e:do try{if(bn!==0&&Gt!==null){var U=Gt,se=ra;switch(bn){case 8:wm(),R=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(a=!0);var Ie=bn;if(bn=0,ra=null,uf(t,U,se,Ie),l&&af){R=0;break e}break;default:Ie=bn,bn=0,ra=null,uf(t,U,se,Ie)}}ww(),R=ri;break}catch(Pe){D0(t,Pe)}while(!0);return a&&t.shellSuspendCounter++,_n=Gn=null,gn=h,ue.H=v,ue.A=_,Gt===null&&(Ln=null,Xt=0,mo()),R}function ww(){for(;Gt!==null;)I0(Gt)}function Aw(t,a){var l=gn;gn|=2;var h=R0(),v=k0();Ln!==t||Xt!==a?(Tp=null,bp=Se()+500,lf(t,a)):af=mt(t,a);e:do try{if(bn!==0&&Gt!==null){a=Gt;var _=ra;t:switch(bn){case 1:bn=0,ra=null,uf(t,a,_,1);break;case 2:case 9:if(Mc(_)){bn=0,ra=null,N0(a);break}a=function(){bn!==2&&bn!==9||Ln!==t||(bn=7),Vs(t)},_.then(a,a);break e;case 3:bn=7;break e;case 4:bn=5;break e;case 7:Mc(_)?(bn=0,ra=null,N0(a)):(bn=0,ra=null,uf(t,a,_,7));break;case 5:var R=null;switch(Gt.tag){case 26:R=Gt.memoizedState;case 5:case 27:var U=Gt;if(R?v_(R):U.stateNode.complete){bn=0,ra=null;var se=U.sibling;if(se!==null)Gt=se;else{var Ie=U.return;Ie!==null?(Gt=Ie,Ap(Ie)):Gt=null}break t}}bn=0,ra=null,uf(t,a,_,5);break;case 6:bn=0,ra=null,uf(t,a,_,6);break;case 8:wm(),ri=6;break e;default:throw Error(s(462))}}Cw();break}catch(Pe){D0(t,Pe)}while(!0);return _n=Gn=null,ue.H=h,ue.A=v,gn=l,Gt!==null?0:(Ln=null,Xt=0,mo(),ri)}function Cw(){for(;Gt!==null&&!er();)I0(Gt)}function I0(t){var a=pe(t.alternate,t,No);t.memoizedProps=t.pendingProps,a===null?Ap(t):Gt=a}function N0(t){var a=t,l=a.alternate;switch(a.tag){case 15:case 0:a=mp(l,a,a.pendingProps,a.type,void 0,Xt);break;case 11:a=mp(l,a,a.pendingProps,a.type.render,a.ref,Xt);break;case 5:Vc(a);default:ht(l,a),a=Gt=Ic(a,No),a=pe(l,a,No)}t.memoizedProps=t.pendingProps,a===null?Ap(t):Gt=a}function uf(t,a,l,h){_n=Gn=null,Vc(a),bo=null,ku=0;var v=a.return;try{if(gp(t,v,a,l,Xt)){ri=1,cr(t,Fr(l,t.current)),Gt=null;return}}catch(_){if(v!==null)throw Gt=v,_;ri=1,cr(t,Fr(l,t.current)),Gt=null;return}a.flags&32768?(Vt||h===1?t=!0:af||(Xt&536870912)!==0?t=!1:(Ll=t=!0,(h===2||h===9||h===3||h===6)&&(h=lr.current,h!==null&&h.tag===13&&(h.flags|=16384))),L0(a,t)):Ap(a)}function Ap(t){var a=t;do{if((a.flags&32768)!==0){L0(a,Ll);return}t=a.return;var l=it(a.alternate,a,No);if(l!==null){Gt=l;return}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=t}while(a!==null);ri===0&&(ri=5)}function L0(t,a){do{var l=vt(t.alternate,t);if(l!==null){l.flags&=32767,Gt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=l}while(t!==null);ri=6,Gt=null}function O0(t,a,l,h,v,_,R,U,se){t.cancelPendingCommit=null;do Cp();while(ki!==0);if((gn&6)!==0)throw Error(s(327));if(a!==null){if(a===t.current)throw Error(s(177));if(_=a.lanes|a.childLanes,_|=La,Bn(t,l,_,R,U,se),t===Ln&&(Gt=Ln=null,Xt=0),of=a,Pl=t,Lo=l,bm=_,Tm=v,S0=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kw(M,function(){return U0(),null})):(t.callbackNode=null,t.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ue.T,ue.T=null,v=we.p,we.p=2,R=gn,gn|=4;try{kh(t,a,l)}finally{gn=R,we.p=v,ue.T=h}}ki=1,M0(),P0(),F0()}}function M0(){if(ki===1){ki=0;var t=Pl,a=of,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ue.T,ue.T=null;var h=we.p;we.p=2;var v=gn;gn|=4;try{g0(a,t);var _=Fm,R=Wf(t.containerInfo),U=_.focusedElem,se=_.selectionRange;if(R!==U&&U&&U.ownerDocument&&Gf(U.ownerDocument.documentElement,U)){if(se!==null&&wu(U)){var Ie=se.start,Pe=se.end;if(Pe===void 0&&(Pe=Ie),"selectionStart"in U)U.selectionStart=Ie,U.selectionEnd=Math.min(Pe,U.value.length);else{var ze=U.ownerDocument||document,Ne=ze&&ze.defaultView||window;if(Ne.getSelection){var Me=Ne.getSelection(),ft=U.textContent.length,wt=Math.min(se.start,ft),Rn=se.end===void 0?wt:Math.min(se.end,ft);!Me.extend&&wt>Rn&&(R=Rn,Rn=wt,wt=R);var Ae=rl(U,wt),ve=rl(U,Rn);if(Ae&&ve&&(Me.rangeCount!==1||Me.anchorNode!==Ae.node||Me.anchorOffset!==Ae.offset||Me.focusNode!==ve.node||Me.focusOffset!==ve.offset)){var ke=ze.createRange();ke.setStart(Ae.node,Ae.offset),Me.removeAllRanges(),wt>Rn?(Me.addRange(ke),Me.extend(ve.node,ve.offset)):(ke.setEnd(ve.node,ve.offset),Me.addRange(ke))}}}}for(ze=[],Me=U;Me=Me.parentNode;)Me.nodeType===1&&ze.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ze.length;U++){var Ue=ze[U];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}Bp=!!Pm,Fm=Pm=null}finally{gn=v,we.p=h,ue.T=l}}t.current=a,ki=2}}function P0(){if(ki===2){ki=0;var t=Pl,a=of,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ue.T,ue.T=null;var h=we.p;we.p=2;var v=gn;gn|=4;try{Pa(t,a.alternate,a)}finally{gn=v,we.p=h,ue.T=l}}ki=3}}function F0(){if(ki===4||ki===3){ki=0,Kr();var t=Pl,a=of,l=Lo,h=S0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ki=5:(ki=0,of=Pl=null,B0(t,t.pendingLanes));var v=t.pendingLanes;if(v===0&&(Ml=null),Ir(l),a=a.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot($,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ue.T,v=we.p,we.p=2,ue.T=null;try{for(var _=t.onRecoverableError,R=0;R<h.length;R++){var U=h[R];_(U.value,{componentStack:U.stack})}}finally{ue.T=a,we.p=v}}(Lo&3)!==0&&Cp(),Vs(t),v=t.pendingLanes,(l&261930)!==0&&(v&42)!==0?t===Sm?Mh++:(Mh=0,Sm=t):Mh=0,Ph(0)}}function B0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,pl(a)))}function Cp(){return M0(),P0(),F0(),U0()}function U0(){if(ki!==5)return!1;var t=Pl,a=bm;bm=0;var l=Ir(Lo),h=ue.T,v=we.p;try{we.p=32>l?32:l,ue.T=null,l=Tm,Tm=null;var _=Pl,R=Lo;if(ki=0,of=Pl=null,Lo=0,(gn&6)!==0)throw Error(s(331));var U=gn;if(gn|=4,E0(_.current),v0(_,_.current,R,l),gn=U,Ph(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot($,_)}catch{}return!0}finally{we.p=v,ue.T=h,B0(t,a)}}function V0(t,a,l){a=Fr(l,a),a=Gu(t.stateNode,a,2),t=Os(t,a,2),t!==null&&(Yt(t,2),Vs(t))}function Tn(t,a,l){if(t.tag===3)V0(t,t,l);else for(;a!==null;){if(a.tag===3){V0(a,t,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ml===null||!Ml.has(h))){t=Fr(l,t),l=Ah(2),h=Os(a,l,2),h!==null&&(Ch(l,h,a,t),Yt(h,2),Vs(h));break}}a=a.return}}function Cm(t,a,l){var h=t.pingCache;if(h===null){h=t.pingCache=new Tw;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(l)||(ym=!0,v.add(l),t=Dw.bind(null,t,a,l),a.then(t,t))}function Dw(t,a,l){var h=t.pingCache;h!==null&&h.delete(a),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ln===t&&(Xt&l)===l&&(ri===4||ri===3&&(Xt&62914560)===Xt&&300>Se()-Ep?(gn&2)===0&&lf(t,0):_m|=l,sf===Xt&&(sf=0)),Vs(t)}function z0(t,a){a===0&&(a=yt()),t=Jr(t,a),t!==null&&(Yt(t,a),Vs(t))}function xw(t){var a=t.memoizedState,l=0;a!==null&&(l=a.retryLane),z0(t,l)}function Rw(t,a){var l=0;switch(t.tag){case 31:case 13:var h=t.stateNode,v=t.memoizedState;v!==null&&(l=v.retryLane);break;case 19:h=t.stateNode;break;case 22:h=t.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(a),z0(t,l)}function kw(t,a){return et(t,a)}var Dp=null,cf=null,Dm=!1,xp=!1,xm=!1,Bl=0;function Vs(t){t!==cf&&t.next===null&&(cf===null?Dp=cf=t:cf=cf.next=t),xp=!0,Dm||(Dm=!0,Nw())}function Ph(t,a){if(!xm&&xp){xm=!0;do for(var l=!1,h=Dp;h!==null;){if(t!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var R=h.suspendedLanes,U=h.pingedLanes;_=(1<<31-re(42|t)+1)-1,_&=v&~(R&~U),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,G0(h,_))}else _=Xt,_=pt(h,h===Ln?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||mt(h,_)||(l=!0,G0(h,_));h=h.next}while(l);xm=!1}}function Iw(){H0()}function H0(){xp=Dm=!1;var t=0;Bl!==0&&Hw()&&(t=Bl);for(var a=Se(),l=null,h=Dp;h!==null;){var v=h.next,_=q0(h,a);_===0?(h.next=null,l===null?Dp=v:l.next=v,v===null&&(cf=l)):(l=h,(t!==0||(_&3)!==0)&&(xp=!0)),h=v}ki!==0&&ki!==5||Ph(t),Bl!==0&&(Bl=0)}function q0(t,a){for(var l=t.suspendedLanes,h=t.pingedLanes,v=t.expirationTimes,_=t.pendingLanes&-62914561;0<_;){var R=31-re(_),U=1<<R,se=v[R];se===-1?((U&l)===0||(U&h)!==0)&&(v[R]=At(U,a)):se<=a&&(t.expiredLanes|=U),_&=~U}if(a=Ln,l=Xt,l=pt(t,t===a?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),h=t.callbackNode,l===0||t===a&&(bn===2||bn===9)||t.cancelPendingCommit!==null)return h!==null&&h!==null&&mn(h),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||mt(t,l)){if(a=l&-l,a===t.callbackPriority)return a;switch(h!==null&&mn(h),Ir(l)){case 2:case 8:l=P;break;case 32:l=M;break;case 268435456:l=w;break;default:l=M}return h=j0.bind(null,t),l=et(l,h),t.callbackPriority=a,t.callbackNode=l,a}return h!==null&&h!==null&&mn(h),t.callbackPriority=2,t.callbackNode=null,2}function j0(t,a){if(ki!==0&&ki!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Cp()&&t.callbackNode!==l)return null;var h=Xt;return h=pt(t,t===Ln?h:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),h===0?null:(A0(t,h,a),q0(t,Se()),t.callbackNode!=null&&t.callbackNode===l?j0.bind(null,t):null)}function G0(t,a){if(Cp())return null;A0(t,a,!0)}function Nw(){jw(function(){(gn&6)!==0?et(de,Iw):H0()})}function Rm(){if(Bl===0){var t=ts;t===0&&(t=Qe,Qe<<=1,(Qe&261888)===0&&(Qe=256)),Bl=t}return Bl}function W0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ko(""+t)}function K0(t,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,t.id&&l.setAttribute("form",t.id),a.parentNode.insertBefore(l,a),t=new FormData(t),l.parentNode.removeChild(l),t}function Lw(t,a,l,h,v){if(a==="submit"&&l&&l.stateNode===v){var _=W0((v[Ht]||null).action),R=h.submitter;R&&(a=(a=R[Ht]||null)?W0(a.formAction):R.getAttribute("formAction"),a!==null&&(_=a,R=null));var U=new br("action","action",null,h,v);t.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Bl!==0){var se=R?K0(v,R):new FormData(v);xo(l,{pending:!0,data:se,method:v.method,action:_},null,se)}}else typeof _=="function"&&(U.preventDefault(),se=R?K0(v,R):new FormData(v),xo(l,{pending:!0,data:se,method:v.method,action:_},_,se))},currentTarget:v}]})}}for(var km=0;km<Au.length;km++){var Im=Au[km],Ow=Im.toLowerCase(),Mw=Im[0].toUpperCase()+Im.slice(1);Di(Ow,"on"+Mw)}Di(Hd,"onAnimationEnd"),Di(qd,"onAnimationIteration"),Di(As,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(sl,"onTransitionRun"),Di(ol,"onTransitionStart"),Di(Kf,"onTransitionCancel"),Di(Dc,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fh));function Y0(t,a){a=(a&4)!==0;for(var l=0;l<t.length;l++){var h=t[l],v=h.event;h=h.listeners;e:{var _=void 0;if(a)for(var R=h.length-1;0<=R;R--){var U=h[R],se=U.instance,Ie=U.currentTarget;if(U=U.listener,se!==_&&v.isPropagationStopped())break e;_=U,v.currentTarget=Ie;try{_(v)}catch(Pe){Na(Pe)}v.currentTarget=null,_=se}else for(R=0;R<h.length;R++){if(U=h[R],se=U.instance,Ie=U.currentTarget,U=U.listener,se!==_&&v.isPropagationStopped())break e;_=U,v.currentTarget=Ie;try{_(v)}catch(Pe){Na(Pe)}v.currentTarget=null,_=se}}}}function Wt(t,a){var l=a[Li];l===void 0&&(l=a[Li]=new Set);var h=t+"__bubble";l.has(h)||(Q0(a,t,2,!1),l.add(h))}function Nm(t,a,l){var h=0;a&&(h|=4),Q0(l,t,h,a)}var Rp="_reactListening"+Math.random().toString(36).slice(2);function Lm(t){if(!t[Rp]){t[Rp]=!0,Go.forEach(function(l){l!=="selectionchange"&&(Pw.has(l)||Nm(l,!1,t),Nm(l,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Rp]||(a[Rp]=!0,Nm("selectionchange",!1,a))}}function Q0(t,a,l,h){switch(w_(a)){case 2:var v=cA;break;case 8:v=fA;break;default:v=Ym}l=v.bind(null,a,l,t),v=void 0,!so||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?t.addEventListener(a,l,{capture:!0,passive:v}):t.addEventListener(a,l,!0):v!==void 0?t.addEventListener(a,l,{passive:v}):t.addEventListener(a,l,!1)}function Om(t,a,l,h,v){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var U=h.stateNode.containerInfo;if(U===v)break;if(R===4)for(R=h.return;R!==null;){var se=R.tag;if((se===3||se===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;U!==null;){if(R=Hi(U),R===null)return;if(se=R.tag,se===5||se===6||se===26||se===27){h=_=R;continue e}U=U.parentNode}}h=h.return}Es(function(){var Ie=_,Pe=ti(l),ze=[];e:{var Ne=Yf.get(t);if(Ne!==void 0){var Me=br,ft=t;switch(t){case"keypress":if(ba(l)===0)break e;case"keydown":case"keyup":Me=bu;break;case"focusin":ft="focus",Me=wa;break;case"focusout":ft="blur",Me=wa;break;case"beforeblur":case"afterblur":Me=wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=A;break;case Hd:case qd:case As:Me=qa;break;case Dc:Me=H;break;case"scroll":case"scrollend":Me=Xo;break;case"wheel":Me=Oe;break;case"copy":case"cut":case"paste":Me=pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Ca;break;case"toggle":case"beforetoggle":Me=Lt}var wt=(a&4)!==0,Rn=!wt&&(t==="scroll"||t==="scrollend"),Ae=wt?Ne!==null?Ne+"Capture":null:Ne;wt=[];for(var ve=Ie,ke;ve!==null;){var Ue=ve;if(ke=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||ke===null||Ae===null||(Ue=$r(ve,Ae),Ue!=null&&wt.push(Bh(ve,Ue,ke))),Rn)break;ve=ve.return}0<wt.length&&(Ne=new Me(Ne,ft,null,l,Pe),ze.push({event:Ne,listeners:wt}))}}if((a&7)===0){e:{if(Ne=t==="mouseover"||t==="pointerover",Me=t==="mouseout"||t==="pointerout",Ne&&l!==Yo&&(ft=l.relatedTarget||l.fromElement)&&(Hi(ft)||ft[ui]))break e;if((Me||Ne)&&(Ne=Pe.window===Pe?Pe:(Ne=Pe.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Me?(ft=l.relatedTarget||l.toElement,Me=Ie,ft=ft?Hi(ft):null,ft!==null&&(Rn=d(ft),wt=ft.tag,ft!==Rn||wt!==5&&wt!==27&&wt!==6)&&(ft=null)):(Me=null,ft=Ie),Me!==ft)){if(wt=Zo,Ue="onMouseLeave",Ae="onMouseEnter",ve="mouse",(t==="pointerout"||t==="pointerover")&&(wt=Ca,Ue="onPointerLeave",Ae="onPointerEnter",ve="pointer"),Rn=Me==null?Ne:_r(Me),ke=ft==null?Ne:_r(ft),Ne=new wt(Ue,ve+"leave",Me,l,Pe),Ne.target=Rn,Ne.relatedTarget=ke,Ue=null,Hi(Pe)===Ie&&(wt=new wt(Ae,ve+"enter",ft,l,Pe),wt.target=ke,wt.relatedTarget=Rn,Ue=wt),Rn=Ue,Me&&ft)t:{for(wt=Fw,Ae=Me,ve=ft,ke=0,Ue=Ae;Ue;Ue=wt(Ue))ke++;Ue=0;for(var Et=ve;Et;Et=wt(Et))Ue++;for(;0<ke-Ue;)Ae=wt(Ae),ke--;for(;0<Ue-ke;)ve=wt(ve),Ue--;for(;ke--;){if(Ae===ve||ve!==null&&Ae===ve.alternate){wt=Ae;break t}Ae=wt(Ae),ve=wt(ve)}wt=null}else wt=null;Me!==null&&X0(ze,Ne,Me,wt,!1),ft!==null&&Rn!==null&&X0(ze,Rn,ft,wt,!0)}}e:{if(Ne=Ie?_r(Ie):window,Me=Ne.nodeName&&Ne.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Ne.type==="file")var hn=_c;else if(xa(Ne))if(Ud)hn=um;else{hn=Vd;var gt=Ia}else Me=Ne.nodeName,!Me||Me.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?Ie&&ao(Ie.elementType)&&(hn=_c):hn=zd;if(hn&&(hn=hn(t,Ie))){Su(ze,hn,l,Pe);break e}gt&&gt(t,Ne,Ie),t==="focusout"&&Ie&&Ne.type==="number"&&Ie.memoizedProps.value!=null&&ir(Ne,"number",Ne.value)}switch(gt=Ie?_r(Ie):window,t){case"focusin":(xa(gt)||gt.contentEditable==="true")&&(ho=gt,al=Ie,Gi=null);break;case"focusout":Gi=al=ho=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,wc(ze,l,Pe);break;case"selectionchange":if(Tc)break;case"keydown":case"keyup":wc(ze,l,Pe)}var Pt;if(qt)e:{switch(t){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else uo?lo(t,l)&&($t="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&($t="onCompositionStart");$t&&(Da&&l.locale!=="ko"&&(uo||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&uo&&(Pt=Qo()):(Zr=Pe,yu="value"in Zr?Zr.value:Zr.textContent,uo=!0)),gt=kp(Ie,$t),0<gt.length&&($t=new Aa($t,t,null,l,Pe),ze.push({event:$t,listeners:gt}),Pt?$t.data=Pt:(Pt=tl(l),Pt!==null&&($t.data=Pt)))),(Pt=Tr?Bd(t,l):lm(t,l))&&($t=kp(Ie,"onBeforeInput"),0<$t.length&&(gt=new Aa("onBeforeInput","beforeinput",null,l,Pe),ze.push({event:gt,listeners:$t}),gt.data=Pt)),Lw(ze,t,Ie,l,Pe)}Y0(ze,a)})}function Bh(t,a,l){return{instance:t,listener:a,currentTarget:l}}function kp(t,a){for(var l=a+"Capture",h=[];t!==null;){var v=t,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=$r(t,l),v!=null&&h.unshift(Bh(t,v,_)),v=$r(t,a),v!=null&&h.push(Bh(t,v,_))),t.tag===3)return h;t=t.return}return[]}function Fw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function X0(t,a,l,h,v){for(var _=a._reactName,R=[];l!==null&&l!==h;){var U=l,se=U.alternate,Ie=U.stateNode;if(U=U.tag,se!==null&&se===h)break;U!==5&&U!==26&&U!==27||Ie===null||(se=Ie,v?(Ie=$r(l,_),Ie!=null&&R.unshift(Bh(l,Ie,se))):v||(Ie=$r(l,_),Ie!=null&&R.push(Bh(l,Ie,se)))),l=l.return}R.length!==0&&t.push({event:a,listeners:R})}var Bw=/\r\n?/g,Uw=/\u0000|\uFFFD/g;function $0(t){return(typeof t=="string"?t:""+t).replace(Bw,`
`).replace(Uw,"")}function Z0(t,a){return a=$0(a),$0(t)===a}function xn(t,a,l,h,v,_){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Pi(t,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Pi(t,""+h);break;case"className":qi(t,"class",h);break;case"tabIndex":qi(t,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":qi(t,l,h);break;case"style":Wo(t,h,_);break;case"data":if(a!=="object"){qi(t,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){t.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){t.removeAttribute(l);break}h=Ko(""+h),t.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&xn(t,a,"name",v.name,v,null),xn(t,a,"formEncType",v.formEncType,v,null),xn(t,a,"formMethod",v.formMethod,v,null),xn(t,a,"formTarget",v.formTarget,v,null)):(xn(t,a,"encType",v.encType,v,null),xn(t,a,"method",v.method,v,null),xn(t,a,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){t.removeAttribute(l);break}h=Ko(""+h),t.setAttribute(l,h);break;case"onClick":h!=null&&(t.onclick=Xr);break;case"onScroll":h!=null&&Wt("scroll",t);break;case"onScrollEnd":h!=null&&Wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(v.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"multiple":t.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":t.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){t.removeAttribute("xlink:href");break}l=Ko(""+h),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?t.setAttribute(l,""+h):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":h===!0?t.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?t.setAttribute(l,h):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?t.setAttribute(l,h):t.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?t.removeAttribute(l):t.setAttribute(l,h);break;case"popover":Wt("beforetoggle",t),Wt("toggle",t),ga(t,"popover",h);break;case"xlinkActuate":Fe(t,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Fe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Fe(t,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Fe(t,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Fe(t,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Fe(t,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ga(t,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vu.get(l)||l,ga(t,l,h))}}function Mm(t,a,l,h,v,_){switch(l){case"style":Wo(t,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(v.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"children":typeof h=="string"?Pi(t,h):(typeof h=="number"||typeof h=="bigint")&&Pi(t,""+h);break;case"onScroll":h!=null&&Wt("scroll",t);break;case"onScrollEnd":h!=null&&Wt("scrollend",t);break;case"onClick":h!=null&&(t.onclick=Xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),_=t[Ht]||null,_=_!=null?_[l]:null,typeof _=="function"&&t.removeEventListener(a,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(a,h,v);break e}l in t?t[l]=h:h===!0?t.setAttribute(l,""):ga(t,l,h)}}}function Xi(t,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",t),Wt("load",t);var h=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var R=l[_];if(R!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:xn(t,a,_,R,l,null)}}v&&xn(t,a,"srcSet",l.srcSet,l,null),h&&xn(t,a,"src",l.src,l,null);return;case"input":Wt("invalid",t);var U=_=R=v=null,se=null,Ie=null;for(h in l)if(l.hasOwnProperty(h)){var Pe=l[h];if(Pe!=null)switch(h){case"name":v=Pe;break;case"type":R=Pe;break;case"checked":se=Pe;break;case"defaultChecked":Ie=Pe;break;case"value":_=Pe;break;case"defaultValue":U=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(s(137,a));break;default:xn(t,a,h,Pe,l,null)}}io(t,_,U,se,Ie,R,v,!1);return;case"select":Wt("invalid",t),h=R=_=null;for(v in l)if(l.hasOwnProperty(v)&&(U=l[v],U!=null))switch(v){case"value":_=U;break;case"defaultValue":R=U;break;case"multiple":h=U;default:xn(t,a,v,U,l,null)}a=_,l=R,t.multiple=!!h,a!=null?za(t,!!h,a,!1):l!=null&&za(t,!!h,l,!0);return;case"textarea":Wt("invalid",t),_=v=h=null;for(R in l)if(l.hasOwnProperty(R)&&(U=l[R],U!=null))switch(R){case"value":h=U;break;case"defaultValue":v=U;break;case"children":_=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(91));break;default:xn(t,a,R,U,l,null)}Nr(t,h,v,_);return;case"option":for(se in l)l.hasOwnProperty(se)&&(h=l[se],h!=null)&&(se==="selected"?t.selected=h&&typeof h!="function"&&typeof h!="symbol":xn(t,a,se,h,l,null));return;case"dialog":Wt("beforetoggle",t),Wt("toggle",t),Wt("cancel",t),Wt("close",t);break;case"iframe":case"object":Wt("load",t);break;case"video":case"audio":for(h=0;h<Fh.length;h++)Wt(Fh[h],t);break;case"image":Wt("error",t),Wt("load",t);break;case"details":Wt("toggle",t);break;case"embed":case"source":case"link":Wt("error",t),Wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in l)if(l.hasOwnProperty(Ie)&&(h=l[Ie],h!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:xn(t,a,Ie,h,l,null)}return;default:if(ao(a)){for(Pe in l)l.hasOwnProperty(Pe)&&(h=l[Pe],h!==void 0&&Mm(t,a,Pe,h,l,void 0));return}}for(U in l)l.hasOwnProperty(U)&&(h=l[U],h!=null&&xn(t,a,U,h,l,null))}function Vw(t,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,R=null,U=null,se=null,Ie=null,Pe=null;for(Me in l){var ze=l[Me];if(l.hasOwnProperty(Me)&&ze!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":se=ze;default:h.hasOwnProperty(Me)||xn(t,a,Me,null,h,ze)}}for(var Ne in h){var Me=h[Ne];if(ze=l[Ne],h.hasOwnProperty(Ne)&&(Me!=null||ze!=null))switch(Ne){case"type":_=Me;break;case"name":v=Me;break;case"checked":Ie=Me;break;case"defaultChecked":Pe=Me;break;case"value":R=Me;break;case"defaultValue":U=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(s(137,a));break;default:Me!==ze&&xn(t,a,Ne,Me,h,ze)}}no(t,R,U,se,Ie,Pe,_,v);return;case"select":Me=R=U=Ne=null;for(_ in l)if(se=l[_],l.hasOwnProperty(_)&&se!=null)switch(_){case"value":break;case"multiple":Me=se;default:h.hasOwnProperty(_)||xn(t,a,_,null,h,se)}for(v in h)if(_=h[v],se=l[v],h.hasOwnProperty(v)&&(_!=null||se!=null))switch(v){case"value":Ne=_;break;case"defaultValue":U=_;break;case"multiple":R=_;default:_!==se&&xn(t,a,v,_,h,se)}a=U,l=R,h=Me,Ne!=null?za(t,!!l,Ne,!1):!!h!=!!l&&(a!=null?za(t,!!l,a,!0):za(t,!!l,l?[]:"",!1));return;case"textarea":Me=Ne=null;for(U in l)if(v=l[U],l.hasOwnProperty(U)&&v!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:xn(t,a,U,null,h,v)}for(R in h)if(v=h[R],_=l[R],h.hasOwnProperty(R)&&(v!=null||_!=null))switch(R){case"value":Ne=v;break;case"defaultValue":Me=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==_&&xn(t,a,R,v,h,_)}gu(t,Ne,Me);return;case"option":for(var ft in l)Ne=l[ft],l.hasOwnProperty(ft)&&Ne!=null&&!h.hasOwnProperty(ft)&&(ft==="selected"?t.selected=!1:xn(t,a,ft,null,h,Ne));for(se in h)Ne=h[se],Me=l[se],h.hasOwnProperty(se)&&Ne!==Me&&(Ne!=null||Me!=null)&&(se==="selected"?t.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol":xn(t,a,se,Ne,h,Me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in l)Ne=l[wt],l.hasOwnProperty(wt)&&Ne!=null&&!h.hasOwnProperty(wt)&&xn(t,a,wt,null,h,Ne);for(Ie in h)if(Ne=h[Ie],Me=l[Ie],h.hasOwnProperty(Ie)&&Ne!==Me&&(Ne!=null||Me!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(s(137,a));break;default:xn(t,a,Ie,Ne,h,Me)}return;default:if(ao(a)){for(var Rn in l)Ne=l[Rn],l.hasOwnProperty(Rn)&&Ne!==void 0&&!h.hasOwnProperty(Rn)&&Mm(t,a,Rn,void 0,h,Ne);for(Pe in h)Ne=h[Pe],Me=l[Pe],!h.hasOwnProperty(Pe)||Ne===Me||Ne===void 0&&Me===void 0||Mm(t,a,Pe,Ne,h,Me);return}}for(var Ae in l)Ne=l[Ae],l.hasOwnProperty(Ae)&&Ne!=null&&!h.hasOwnProperty(Ae)&&xn(t,a,Ae,null,h,Ne);for(ze in h)Ne=h[ze],Me=l[ze],!h.hasOwnProperty(ze)||Ne===Me||Ne==null&&Me==null||xn(t,a,ze,Ne,h,Me)}function J0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var v=l[h],_=v.transferSize,R=v.initiatorType,U=v.duration;if(_&&U&&J0(R)){for(R=0,U=v.responseEnd,h+=1;h<l.length;h++){var se=l[h],Ie=se.startTime;if(Ie>U)break;var Pe=se.transferSize,ze=se.initiatorType;Pe&&J0(ze)&&(se=se.responseEnd,R+=Pe*(se<U?1:(U-Ie)/(se-Ie)))}if(--h,a+=8*(_+R)/(v.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Pm=null,Fm=null;function Ip(t){return t.nodeType===9?t:t.ownerDocument}function e_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Bm(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Um=null;function Hw(){var t=window.event;return t&&t.type==="popstate"?t===Um?!1:(Um=t,!0):(Um=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,jw=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(t){return i_.resolve(null).then(t).catch(Gw)}:n_;function Gw(t){setTimeout(function(){throw t})}function Ul(t){return t==="head"}function r_(t,a){var l=a,h=0;do{var v=l.nextSibling;if(t.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(h===0){t.removeChild(v),pf(a);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Uh(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Uh(l);for(var _=l.firstChild;_;){var R=_.nextSibling,U=_.nodeName;_[yr]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=R}}else l==="body"&&Uh(t.ownerDocument.body);l=v}while(l);pf(a)}function a_(t,a){var l=t;t=0;do{var h=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=h}while(l)}function Vm(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Vm(l),Yr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Ww(t,a,l,h){for(;t.nodeType===1;){var v=l;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(h){if(!t[yr])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(_=t.getAttribute("rel"),_==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(_!==v.rel||t.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||t.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||t.getAttribute("title")!==(v.title==null?null:v.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(_=t.getAttribute("src"),(_!==(v.src==null?null:v.src)||t.getAttribute("type")!==(v.type==null?null:v.type)||t.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&t.getAttribute("name")===_)return t}else return t;if(t=Fa(t.nextSibling),t===null)break}return null}function Kw(t,a,l){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Fa(t.nextSibling),t===null))return null;return t}function s_(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fa(t.nextSibling),t===null))return null;return t}function zm(t){return t.data==="$?"||t.data==="$~"}function Hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Yw(t,a){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||l.readyState!=="loading")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),t._reactRetry=h}}function Fa(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var qm=null;function o_(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(a===0)return Fa(t.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}t=t.nextSibling}return null}function l_(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return t;a--}else l!=="/$"&&l!=="/&"||a++}t=t.previousSibling}return null}function u_(t,a,l){switch(a=Ip(l),t){case"html":if(t=a.documentElement,!t)throw Error(s(452));return t;case"head":if(t=a.head,!t)throw Error(s(453));return t;case"body":if(t=a.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Uh(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Yr(t)}var Ba=new Map,c_=new Set;function Np(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oo=we.d;we.d={f:Qw,r:Xw,D:$w,C:Zw,L:Jw,m:eA,X:nA,S:tA,M:iA};function Qw(){var t=Oo.f(),a=Sp();return t||a}function Xw(t){var a=Ci(t);a!==null&&a.tag===5&&a.type==="form"?up(a):Oo.r(t)}var ff=typeof document>"u"?null:document;function f_(t,a,l){var h=ff;if(h&&typeof a=="string"&&a){var v=nr(a);v='link[rel="'+t+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),c_.has(v)||(c_.add(v),t={rel:t,crossOrigin:l,href:a},h.querySelector(v)===null&&(a=h.createElement("link"),Xi(a,"link",t),qn(a),h.head.appendChild(a)))}}function $w(t){Oo.D(t),f_("dns-prefetch",t,null)}function Zw(t,a){Oo.C(t,a),f_("preconnect",t,a)}function Jw(t,a,l){Oo.L(t,a,l);var h=ff;if(h&&t&&a){var v='link[rel="preload"][as="'+nr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+nr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+nr(l.imageSizes)+'"]')):v+='[href="'+nr(t)+'"]';var _=v;switch(a){case"style":_=hf(t);break;case"script":_=df(t)}Ba.has(_)||(t=k({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:t,as:a},l),Ba.set(_,t),h.querySelector(v)!==null||a==="style"&&h.querySelector(Vh(_))||a==="script"&&h.querySelector(zh(_))||(a=h.createElement("link"),Xi(a,"link",t),qn(a),h.head.appendChild(a)))}}function eA(t,a){Oo.m(t,a);var l=ff;if(l&&t){var h=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+nr(h)+'"][href="'+nr(t)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=df(t)}if(!Ba.has(_)&&(t=k({rel:"modulepreload",href:t},a),Ba.set(_,t),l.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zh(_)))return}h=l.createElement("link"),Xi(h,"link",t),qn(h),l.head.appendChild(h)}}}function tA(t,a,l){Oo.S(t,a,l);var h=ff;if(h&&t){var v=Oi(h).hoistableStyles,_=hf(t);a=a||"default";var R=v.get(_);if(!R){var U={loading:0,preload:null};if(R=h.querySelector(Vh(_)))U.loading=5;else{t=k({rel:"stylesheet",href:t,"data-precedence":a},l),(l=Ba.get(_))&&jm(t,l);var se=R=h.createElement("link");qn(se),Xi(se,"link",t),se._p=new Promise(function(Ie,Pe){se.onload=Ie,se.onerror=Pe}),se.addEventListener("load",function(){U.loading|=1}),se.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Lp(R,a,h)}R={type:"stylesheet",instance:R,count:1,state:U},v.set(_,R)}}}function nA(t,a){Oo.X(t,a);var l=ff;if(l&&t){var h=Oi(l).hoistableScripts,v=df(t),_=h.get(v);_||(_=l.querySelector(zh(v)),_||(t=k({src:t,async:!0},a),(a=Ba.get(v))&&Gm(t,a),_=l.createElement("script"),qn(_),Xi(_,"link",t),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function iA(t,a){Oo.M(t,a);var l=ff;if(l&&t){var h=Oi(l).hoistableScripts,v=df(t),_=h.get(v);_||(_=l.querySelector(zh(v)),_||(t=k({src:t,async:!0,type:"module"},a),(a=Ba.get(v))&&Gm(t,a),_=l.createElement("script"),qn(_),Xi(_,"link",t),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function h_(t,a,l,h){var v=(v=$e.current)?Np(v):null;if(!v)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=hf(l.href),l=Oi(v).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=hf(l.href);var _=Oi(v).hoistableStyles,R=_.get(t);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(t,R),(_=v.querySelector(Vh(t)))&&!_._p&&(R.instance=_,R.state.loading=5),Ba.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ba.set(t,l),_||rA(v,t,l,R.state))),a&&h===null)throw Error(s(528,""));return R}if(a&&h!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=df(l),l=Oi(v).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hf(t){return'href="'+nr(t)+'"'}function Vh(t){return'link[rel="stylesheet"]['+t+"]"}function d_(t){return k({},t,{"data-precedence":t.precedence,precedence:null})}function rA(t,a,l,h){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=t.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Xi(a,"link",l),qn(a),t.head.appendChild(a))}function df(t){return'[src="'+nr(t)+'"]'}function zh(t){return"script[async]"+t}function p_(t,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=t.querySelector('style[data-href~="'+nr(l.href)+'"]');if(h)return a.instance=h,qn(h),h;var v=k({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(t.ownerDocument||t).createElement("style"),qn(h),Xi(h,"style",v),Lp(h,l.precedence,t),a.instance=h;case"stylesheet":v=hf(l.href);var _=t.querySelector(Vh(v));if(_)return a.state.loading|=4,a.instance=_,qn(_),_;h=d_(l),(v=Ba.get(v))&&jm(h,v),_=(t.ownerDocument||t).createElement("link"),qn(_);var R=_;return R._p=new Promise(function(U,se){R.onload=U,R.onerror=se}),Xi(_,"link",h),a.state.loading|=4,Lp(_,l.precedence,t),a.instance=_;case"script":return _=df(l.src),(v=t.querySelector(zh(_)))?(a.instance=v,qn(v),v):(h=l,(v=Ba.get(_))&&(h=k({},l),Gm(h,v)),t=t.ownerDocument||t,v=t.createElement("script"),qn(v),Xi(v,"link",h),t.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Lp(h,l.precedence,t));return a.instance}function Lp(t,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,R=0;R<h.length;R++){var U=h[R];if(U.dataset.precedence===a)_=U;else if(_!==v)break}_?_.parentNode.insertBefore(t,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(t,a.firstChild))}function jm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Gm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Op=null;function g_(t,a,l){if(Op===null){var h=new Map,v=Op=new Map;v.set(l,h)}else v=Op,h=v.get(l),h||(h=new Map,v.set(l,h));if(h.has(t))return h;for(h.set(t,null),l=l.getElementsByTagName(t),v=0;v<l.length;v++){var _=l[v];if(!(_[yr]||_[Hn]||t==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(a)||"";R=t+R;var U=h.get(R);U?U.push(_):h.set(R,[_])}}return h}function m_(t,a,l){t=t.ownerDocument||t,t.head.insertBefore(l,a==="title"?t.querySelector("head > title"):null)}function aA(t,a,l){if(l===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function v_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sA(t,a,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=hf(h.href),_=a.querySelector(Vh(v));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Mp.bind(t),a.then(t,t)),l.state.loading|=4,l.instance=_,qn(_);return}_=a.ownerDocument||a,h=d_(h),(v=Ba.get(v))&&jm(h,v),_=_.createElement("link"),qn(_);var R=_;R._p=new Promise(function(U,se){R.onload=U,R.onerror=se}),Xi(_,"link",h),l.instance=_}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=Mp.bind(t),a.addEventListener("load",l),a.addEventListener("error",l))}}var Wm=0;function oA(t,a){return t.stylesheets&&t.count===0&&Fp(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var h=setTimeout(function(){if(t.stylesheets&&Fp(t,t.stylesheets),t.unsuspend){var _=t.unsuspend;t.unsuspend=null,_()}},6e4+a);0<t.imgBytes&&Wm===0&&(Wm=62500*zw());var v=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fp(t,t.stylesheets),t.unsuspend)){var _=t.unsuspend;t.unsuspend=null,_()}},(t.imgBytes>Wm?50:800)+a);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Mp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pp=null;function Fp(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pp=new Map,a.forEach(lA,t),Pp=null,Mp.call(t))}function lA(t,a){if(!(a.state.loading&4)){var l=Pp.get(t);if(l)var h=l.get(null);else{l=new Map,Pp.set(t,l);for(var v=t.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var R=v[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),h=R)}h&&l.set(null,h)}v=a.instance,R=v.getAttribute("data-precedence"),_=l.get(R)||h,_===h&&l.set(null,v),l.set(R,v),this.count++,h=Mp.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(v,t.firstChild)),a.state.loading|=4}}var Hh={$$typeof:ne,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function uA(t,a,l,h,v,_,R,U,se){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function y_(t,a,l,h,v,_,R,U,se,Ie,Pe,ze){return t=new uA(t,a,l,R,se,Ie,Pe,ze,U),a=1,_===!0&&(a|=24),_=Wi(3,null,null,a),t.current=_,_.stateNode=t,a=Du(),a.refCount++,t.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:a},ml(_),t}function __(t){return t?(t=Ga,t):Ga}function E_(t,a,l,h,v,_){v=__(v),h.context===null?h.context=v:h.pendingContext=v,h=Ls(a),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Os(t,h,a),l!==null&&(jr(l,t,a),vl(l,t,a))}function b_(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<a?l:a}}function Km(t,a){b_(t,a),(t=t.alternate)&&b_(t,a)}function T_(t){if(t.tag===13||t.tag===31){var a=Jr(t,67108864);a!==null&&jr(a,t,67108864),Km(t,67108864)}}function S_(t){if(t.tag===13||t.tag===31){var a=sa();a=kr(a);var l=Jr(t,a);l!==null&&jr(l,t,a),Km(t,a)}}var Bp=!0;function cA(t,a,l,h){var v=ue.T;ue.T=null;var _=we.p;try{we.p=2,Ym(t,a,l,h)}finally{we.p=_,ue.T=v}}function fA(t,a,l,h){var v=ue.T;ue.T=null;var _=we.p;try{we.p=8,Ym(t,a,l,h)}finally{we.p=_,ue.T=v}}function Ym(t,a,l,h){if(Bp){var v=Qm(h);if(v===null)Om(t,a,h,Up,l),A_(t,h);else if(dA(v,t,a,l,h))h.stopPropagation();else if(A_(t,h),a&4&&-1<hA.indexOf(t)){for(;v!==null;){var _=Ci(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=We(_.pendingLanes);if(R!==0){var U=_;for(U.pendingLanes|=2,U.entangledLanes|=2;R;){var se=1<<31-re(R);U.entanglements[1]|=se,R&=~se}Vs(_),(gn&6)===0&&(bp=Se()+500,Ph(0))}}break;case 31:case 13:U=Jr(_,2),U!==null&&jr(U,_,2),Sp(),Km(_,2)}if(_=Qm(h),_===null&&Om(t,a,h,Up,l),_===v)break;v=_}v!==null&&h.stopPropagation()}else Om(t,a,h,null,l)}}function Qm(t){return t=ti(t),Xm(t)}var Up=null;function Xm(t){if(Up=null,t=Hi(t),t!==null){var a=d(t);if(a===null)t=null;else{var l=a.tag;if(l===13){if(t=g(a),t!==null)return t;t=null}else if(l===31){if(t=E(a),t!==null)return t;t=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Up=t,null}function w_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case de:return 2;case P:return 8;case M:case le:return 32;case w:return 268435456;default:return 32}default:return 32}}var $m=!1,Vl=null,zl=null,Hl=null,qh=new Map,jh=new Map,ql=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(t,a){switch(t){case"focusin":case"focusout":Vl=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":qh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jh.delete(a.pointerId)}}function Gh(t,a,l,h,v,_){return t===null||t.nativeEvent!==_?(t={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},a!==null&&(a=Ci(a),a!==null&&T_(a)),t):(t.eventSystemFlags|=h,a=t.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),t)}function dA(t,a,l,h,v){switch(a){case"focusin":return Vl=Gh(Vl,t,a,l,h,v),!0;case"dragenter":return zl=Gh(zl,t,a,l,h,v),!0;case"mouseover":return Hl=Gh(Hl,t,a,l,h,v),!0;case"pointerover":var _=v.pointerId;return qh.set(_,Gh(qh.get(_)||null,t,a,l,h,v)),!0;case"gotpointercapture":return _=v.pointerId,jh.set(_,Gh(jh.get(_)||null,t,a,l,h,v)),!0}return!1}function C_(t){var a=Hi(t.target);if(a!==null){var l=d(a);if(l!==null){if(a=l.tag,a===13){if(a=g(l),a!==null){t.blockedOn=a,Ui(t.priority,function(){S_(l)});return}}else if(a===31){if(a=E(l),a!==null){t.blockedOn=a,Ui(t.priority,function(){S_(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vp(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var l=Qm(t.nativeEvent);if(l===null){l=t.nativeEvent;var h=new l.constructor(l.type,l);Yo=h,l.target.dispatchEvent(h),Yo=null}else return a=Ci(l),a!==null&&T_(a),t.blockedOn=l,!1;a.shift()}return!0}function D_(t,a,l){Vp(t)&&l.delete(a)}function pA(){$m=!1,Vl!==null&&Vp(Vl)&&(Vl=null),zl!==null&&Vp(zl)&&(zl=null),Hl!==null&&Vp(Hl)&&(Hl=null),qh.forEach(D_),jh.forEach(D_)}function zp(t,a){t.blockedOn===a&&(t.blockedOn=null,$m||($m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pA)))}var Hp=null;function x_(t){Hp!==t&&(Hp=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hp===t&&(Hp=null);for(var a=0;a<t.length;a+=3){var l=t[a],h=t[a+1],v=t[a+2];if(typeof h!="function"){if(Xm(h||l)===null)continue;break}var _=Ci(l);_!==null&&(t.splice(a,3),a-=3,xo(_,{pending:!0,data:v,method:l.method,action:h},h,v))}}))}function pf(t){function a(se){return zp(se,t)}Vl!==null&&zp(Vl,t),zl!==null&&zp(zl,t),Hl!==null&&zp(Hl,t),qh.forEach(a),jh.forEach(a);for(var l=0;l<ql.length;l++){var h=ql[l];h.blockedOn===t&&(h.blockedOn=null)}for(;0<ql.length&&(l=ql[0],l.blockedOn===null);)C_(l),l.blockedOn===null&&ql.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var v=l[h],_=l[h+1],R=v[Ht]||null;if(typeof _=="function")R||x_(l);else if(R){var U=null;if(_&&_.hasAttribute("formAction")){if(v=_,R=_[Ht]||null)U=R.formAction;else if(Xm(v)!==null)continue}else U=R.action;typeof U=="function"?l[h+1]=U:(l.splice(h,3),h-=3),x_(l)}}}function R_(){function t(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(R){return v=R})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Zm(t){this._internalRoot=t}qp.prototype.render=Zm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,h=sa();E_(l,h,t,a,null,null)},qp.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;E_(t.current,2,null,t,null,null),Sp(),a[ui]=null}};function qp(t){this._internalRoot=t}qp.prototype.unstable_scheduleHydration=function(t){if(t){var a=ys();t={blockedOn:null,target:t,priority:a};for(var l=0;l<ql.length&&a!==0&&a<ql[l].priority;l++);ql.splice(l,0,t),l===0&&C_(t)}};var k_=e.version;if(k_!=="19.2.3")throw Error(s(527,k_,"19.2.3"));we.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=T(a),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var gA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ue,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{$=jp.inject(gA),ee=jp}catch{}}return Kh.createRoot=function(t,a){if(!u(t))throw Error(s(299));var l=!1,h="",v=pp,_=Zc,R=Nl;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError)),a=y_(t,1,!1,null,null,l,h,null,v,_,R,R_),t[ui]=a.current,Lm(t),new Zm(a)},Kh.hydrateRoot=function(t,a,l){if(!u(t))throw Error(s(299));var h=!1,v="",_=pp,R=Zc,U=Nl,se=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(U=l.onRecoverableError),l.formState!==void 0&&(se=l.formState)),a=y_(t,1,!0,a,l??null,h,v,se,_,R,U,R_),a.context=__(null),l=a.current,h=sa(),h=kr(h),v=Ls(h),v.callback=null,Os(l,v,h),l=h,a.current.lanes=l,Yt(a,l),Vs(a),t[ui]=a.current,Lm(t),new qp(a)},Kh.version="19.2.3",Kh}var V_;function CA(){if(V_)return tv.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tv.exports=AA(),tv.exports}var DA=CA();const xA=ay(DA);var z_="popstate";function RA(r={}){function e(s,u){let{pathname:d,search:g,hash:E}=s.location;return xv("",{pathname:d,search:g,hash:E},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(s,u){return typeof u=="string"?u:fd(u)}return IA(e,n,null,r)}function Yn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Va(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kA(){return Math.random().toString(36).substring(2,10)}function H_(r,e){return{usr:r.state,key:r.key,idx:e}}function xv(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Lf(e):e,state:n,key:e&&e.key||s||kA()}}function fd({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Lf(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function IA(r,e,n,s={}){let{window:u=document.defaultView,v5Compat:d=!1}=s,g=u.history,E="POP",b=null,T=x();T==null&&(T=0,g.replaceState({...g.state,idx:T},""));function x(){return(g.state||{idx:null}).idx}function k(){E="POP";let te=x(),Ee=te==null?null:te-T;T=te,b&&b({action:E,location:_e.location,delta:Ee})}function F(te,Ee){E="PUSH";let X=xv(_e.location,te,Ee);T=x()+1;let ne=H_(X,T),oe=_e.createHref(X);try{g.pushState(ne,"",oe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;u.location.assign(oe)}d&&b&&b({action:E,location:_e.location,delta:1})}function Y(te,Ee){E="REPLACE";let X=xv(_e.location,te,Ee);T=x();let ne=H_(X,T),oe=_e.createHref(X);g.replaceState(ne,"",oe),d&&b&&b({action:E,location:_e.location,delta:0})}function Z(te){return NA(te)}let _e={get action(){return E},get location(){return r(u,g)},listen(te){if(b)throw new Error("A history only accepts one active listener");return u.addEventListener(z_,k),b=te,()=>{u.removeEventListener(z_,k),b=null}},createHref(te){return e(u,te)},createURL:Z,encodeLocation(te){let Ee=Z(te);return{pathname:Ee.pathname,search:Ee.search,hash:Ee.hash}},push:F,replace:Y,go(te){return g.go(te)}};return _e}function NA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yn(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:fd(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function l1(r,e,n="/"){return LA(r,e,n,!1)}function LA(r,e,n,s){let u=typeof e=="string"?Lf(e):e,d=Uo(u.pathname||"/",n);if(d==null)return null;let g=u1(r);OA(g);let E=null;for(let b=0;E==null&&b<g.length;++b){let T=GA(d);E=qA(g[b],T,s)}return E}function u1(r,e=[],n=[],s="",u=!1){let d=(g,E,b=u,T)=>{let x={relativePath:T===void 0?g.path||"":T,caseSensitive:g.caseSensitive===!0,childrenIndex:E,route:g};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&b)return;Yn(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let k=Fo([s,x.relativePath]),F=n.concat(x);g.children&&g.children.length>0&&(Yn(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${k}".`),u1(g.children,e,F,k,b)),!(g.path==null&&!g.index)&&e.push({path:k,score:zA(k,g.index),routesMeta:F})};return r.forEach((g,E)=>{if(g.path===""||!g.path?.includes("?"))d(g,E);else for(let b of c1(g.path))d(g,E,!0,b)}),e}function c1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,u=n.endsWith("?"),d=n.replace(/\?$/,"");if(s.length===0)return u?[d,""]:[d];let g=c1(s.join("/")),E=[];return E.push(...g.map(b=>b===""?d:[d,b].join("/"))),u&&E.push(...g),E.map(b=>r.startsWith("/")&&b===""?"/":b)}function OA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:HA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var MA=/^:[\w-]+$/,PA=3,FA=2,BA=1,UA=10,VA=-2,q_=r=>r==="*";function zA(r,e){let n=r.split("/"),s=n.length;return n.some(q_)&&(s+=VA),e&&(s+=FA),n.filter(u=>!q_(u)).reduce((u,d)=>u+(MA.test(d)?PA:d===""?BA:UA),s)}function HA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,u)=>s===e[u])?r[r.length-1]-e[e.length-1]:0}function qA(r,e,n=!1){let{routesMeta:s}=r,u={},d="/",g=[];for(let E=0;E<s.length;++E){let b=s[E],T=E===s.length-1,x=d==="/"?e:e.slice(d.length)||"/",k=mg({path:b.relativePath,caseSensitive:b.caseSensitive,end:T},x),F=b.route;if(!k&&T&&n&&!s[s.length-1].route.index&&(k=mg({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},x)),!k)return null;Object.assign(u,k.params),g.push({params:u,pathname:Fo([d,k.pathname]),pathnameBase:QA(Fo([d,k.pathnameBase])),route:F}),k.pathnameBase!=="/"&&(d=Fo([d,k.pathnameBase]))}return g}function mg(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=jA(r.path,r.caseSensitive,r.end),u=e.match(n);if(!u)return null;let d=u[0],g=d.replace(/(.)\/+$/,"$1"),E=u.slice(1);return{params:s.reduce((T,{paramName:x,isOptional:k},F)=>{if(x==="*"){let Z=E[F]||"";g=d.slice(0,d.length-Z.length).replace(/(.)\/+$/,"$1")}const Y=E[F];return k&&!Y?T[x]=void 0:T[x]=(Y||"").replace(/%2F/g,"/"),T},{}),pathname:d,pathnameBase:g,pattern:r}}function jA(r,e=!1,n=!0){Va(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,E,b)=>(s.push({paramName:E,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),s]}function GA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Va(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Uo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WA=r=>f1.test(r);function KA(r,e="/"){let{pathname:n,search:s="",hash:u=""}=typeof r=="string"?Lf(r):r,d;if(n)if(WA(n))d=n;else{if(n.includes("//")){let g=n;n=n.replace(/\/\/+/g,"/"),Va(!1,`Pathnames cannot have embedded double slashes - normalizing ${g} -> ${n}`)}n.startsWith("/")?d=j_(n.substring(1),"/"):d=j_(n,e)}else d=e;return{pathname:d,search:XA(s),hash:$A(u)}}function j_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?n.length>1&&n.pop():u!=="."&&n.push(u)}),n.length>1?n.join("/"):"/"}function av(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oy(r){let e=YA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ly(r,e,n,s=!1){let u;typeof r=="string"?u=Lf(r):(u={...r},Yn(!u.pathname||!u.pathname.includes("?"),av("?","pathname","search",u)),Yn(!u.pathname||!u.pathname.includes("#"),av("#","pathname","hash",u)),Yn(!u.search||!u.search.includes("#"),av("#","search","hash",u)));let d=r===""||u.pathname==="",g=d?"/":u.pathname,E;if(g==null)E=n;else{let k=e.length-1;if(!s&&g.startsWith("..")){let F=g.split("/");for(;F[0]==="..";)F.shift(),k-=1;u.pathname=F.join("/")}E=k>=0?e[k]:"/"}let b=KA(u,E),T=g&&g!=="/"&&g.endsWith("/"),x=(d||g===".")&&n.endsWith("/");return!b.pathname.endsWith("/")&&(T||x)&&(b.pathname+="/"),b}var Fo=r=>r.join("/").replace(/\/\/+/g,"/"),QA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$A=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ZA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function JA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function eC(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function d1(r,e){let n=r;if(typeof n!="string"||!f1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,u=!1;if(h1)try{let d=new URL(window.location.href),g=n.startsWith("//")?new URL(d.protocol+n):new URL(n),E=Uo(g.pathname,e);g.origin===d.origin&&E!=null?n=E+g.search+g.hash:u=!0}catch{Va(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:u,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p1=["POST","PUT","PATCH","DELETE"];new Set(p1);var tC=["GET",...p1];new Set(tC);var Of=De.createContext(null);Of.displayName="DataRouter";var Mg=De.createContext(null);Mg.displayName="DataRouterState";var nC=De.createContext(!1),g1=De.createContext({isTransitioning:!1});g1.displayName="ViewTransition";var iC=De.createContext(new Map);iC.displayName="Fetchers";var rC=De.createContext(null);rC.displayName="Await";var ca=De.createContext(null);ca.displayName="Navigation";var Sd=De.createContext(null);Sd.displayName="Location";var $s=De.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var uy=De.createContext(null);uy.displayName="RouteError";var m1="REACT_ROUTER_ERROR",aC="REDIRECT",sC="ROUTE_ERROR_RESPONSE";function oC(r){if(r.startsWith(`${m1}:${aC}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lC(r){if(r.startsWith(`${m1}:${sC}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ZA(e.status,e.statusText,e.data)}catch{}}function uC(r,{relative:e}={}){Yn(Mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=De.useContext(ca),{hash:u,pathname:d,search:g}=wd(r,{relative:e}),E=d;return n!=="/"&&(E=d==="/"?n:Fo([n,d])),s.createHref({pathname:E,search:g,hash:u})}function Mf(){return De.useContext(Sd)!=null}function jo(){return Yn(Mf(),"useLocation() may be used only in the context of a <Router> component."),De.useContext(Sd).location}var v1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y1(r){De.useContext(ca).static||De.useLayoutEffect(r)}function Pg(){let{isDataRoute:r}=De.useContext($s);return r?TC():cC()}function cC(){Yn(Mf(),"useNavigate() may be used only in the context of a <Router> component.");let r=De.useContext(Of),{basename:e,navigator:n}=De.useContext(ca),{matches:s}=De.useContext($s),{pathname:u}=jo(),d=JSON.stringify(oy(s)),g=De.useRef(!1);return y1(()=>{g.current=!0}),De.useCallback((b,T={})=>{if(Va(g.current,v1),!g.current)return;if(typeof b=="number"){n.go(b);return}let x=ly(b,JSON.parse(d),u,T.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Fo([e,x.pathname])),(T.replace?n.replace:n.push)(x,T.state,T)},[e,n,d,u,r])}De.createContext(null);function wd(r,{relative:e}={}){let{matches:n}=De.useContext($s),{pathname:s}=jo(),u=JSON.stringify(oy(n));return De.useMemo(()=>ly(r,JSON.parse(u),s,e==="path"),[r,u,s,e])}function fC(r,e){return _1(r,e)}function _1(r,e,n,s,u){Yn(Mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=De.useContext(ca),{matches:g}=De.useContext($s),E=g[g.length-1],b=E?E.params:{},T=E?E.pathname:"/",x=E?E.pathnameBase:"/",k=E&&E.route;{let X=k&&k.path||"";b1(T,!k||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${T}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let F=jo(),Y;if(e){let X=typeof e=="string"?Lf(e):e;Yn(x==="/"||X.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${X.pathname}" was given in the \`location\` prop.`),Y=X}else Y=F;let Z=Y.pathname||"/",_e=Z;if(x!=="/"){let X=x.replace(/^\//,"").split("/");_e="/"+Z.replace(/^\//,"").split("/").slice(X.length).join("/")}let te=l1(r,{pathname:_e});Va(k||te!=null,`No routes matched location "${Y.pathname}${Y.search}${Y.hash}" `),Va(te==null||te[te.length-1].route.element!==void 0||te[te.length-1].route.Component!==void 0||te[te.length-1].route.lazy!==void 0,`Matched leaf route at location "${Y.pathname}${Y.search}${Y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Ee=mC(te&&te.map(X=>Object.assign({},X,{params:Object.assign({},b,X.params),pathname:Fo([x,d.encodeLocation?d.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?x:Fo([x,d.encodeLocation?d.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),g,n,s,u);return e&&Ee?De.createElement(Sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Y},navigationType:"POP"}},Ee):Ee}function hC(){let r=bC(),e=JA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},d={padding:"2px 4px",backgroundColor:s},g=null;return console.error("Error handled by React Router default ErrorBoundary:",r),g=De.createElement(De.Fragment,null,De.createElement("p",null," Hey developer "),De.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",De.createElement("code",{style:d},"ErrorBoundary")," or"," ",De.createElement("code",{style:d},"errorElement")," prop on your route.")),De.createElement(De.Fragment,null,De.createElement("h2",null,"Unexpected Application Error!"),De.createElement("h3",{style:{fontStyle:"italic"}},e),n?De.createElement("pre",{style:u},n):null,g)}var dC=De.createElement(hC,null),E1=class extends De.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=lC(r.digest);n&&(r=n)}let e=r!==void 0?De.createElement($s.Provider,{value:this.props.routeContext},De.createElement(uy.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?De.createElement(pC,{error:r},e):e}};E1.contextType=nC;var sv=new WeakMap;function pC({children:r,error:e}){let{basename:n}=De.useContext(ca);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=oC(e.digest);if(s){let u=sv.get(e);if(u)throw u;let d=d1(s.location,n);if(h1&&!sv.get(e))if(d.isExternal||s.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const g=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:s.replace}));throw sv.set(e,g),g}return De.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return r}function gC({routeContext:r,match:e,children:n}){let s=De.useContext(Of);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),De.createElement($s.Provider,{value:r},n)}function mC(r,e=[],n=null,s=null,u=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let d=r,g=n?.errors;if(g!=null){let x=d.findIndex(k=>k.route.id&&g?.[k.route.id]!==void 0);Yn(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),d=d.slice(0,Math.min(d.length,x+1))}let E=!1,b=-1;if(n)for(let x=0;x<d.length;x++){let k=d[x];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(b=x),k.route.id){let{loaderData:F,errors:Y}=n,Z=k.route.loader&&!F.hasOwnProperty(k.route.id)&&(!Y||Y[k.route.id]===void 0);if(k.route.lazy||Z){E=!0,b>=0?d=d.slice(0,b+1):d=[d[0]];break}}}let T=n&&s?(x,k)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:eC(n.matches),errorInfo:k})}:void 0;return d.reduceRight((x,k,F)=>{let Y,Z=!1,_e=null,te=null;n&&(Y=g&&k.route.id?g[k.route.id]:void 0,_e=k.route.errorElement||dC,E&&(b<0&&F===0?(b1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Z=!0,te=null):b===F&&(Z=!0,te=k.route.hydrateFallbackElement||null)));let Ee=e.concat(d.slice(0,F+1)),X=()=>{let ne;return Y?ne=_e:Z?ne=te:k.route.Component?ne=De.createElement(k.route.Component,null):k.route.element?ne=k.route.element:ne=x,De.createElement(gC,{match:k,routeContext:{outlet:x,matches:Ee,isDataRoute:n!=null},children:ne})};return n&&(k.route.ErrorBoundary||k.route.errorElement||F===0)?De.createElement(E1,{location:n.location,revalidation:n.revalidation,component:_e,error:Y,children:X(),routeContext:{outlet:null,matches:Ee,isDataRoute:!0},onError:T}):X()},null)}function cy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vC(r){let e=De.useContext(Of);return Yn(e,cy(r)),e}function yC(r){let e=De.useContext(Mg);return Yn(e,cy(r)),e}function _C(r){let e=De.useContext($s);return Yn(e,cy(r)),e}function fy(r){let e=_C(r),n=e.matches[e.matches.length-1];return Yn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function EC(){return fy("useRouteId")}function bC(){let r=De.useContext(uy),e=yC("useRouteError"),n=fy("useRouteError");return r!==void 0?r:e.errors?.[n]}function TC(){let{router:r}=vC("useNavigate"),e=fy("useNavigate"),n=De.useRef(!1);return y1(()=>{n.current=!0}),De.useCallback(async(u,d={})=>{Va(n.current,v1),n.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:e,...d}))},[r,e])}var G_={};function b1(r,e,n){!e&&!G_[r]&&(G_[r]=!0,Va(!1,n))}De.memo(SC);function SC({routes:r,future:e,state:n,onError:s}){return _1(r,void 0,n,s,e)}function T1({to:r,replace:e,state:n,relative:s}){Yn(Mf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=De.useContext(ca);Va(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=De.useContext($s),{pathname:g}=jo(),E=Pg(),b=ly(r,oy(d),g,s==="path"),T=JSON.stringify(b);return De.useEffect(()=>{E(JSON.parse(T),{replace:e,state:n,relative:s})},[E,T,s,e,n]),null}function Zh(r){Yn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wC({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:u,static:d=!1,unstable_useTransitions:g}){Yn(!Mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let E=r.replace(/^\/*/,"/"),b=De.useMemo(()=>({basename:E,navigator:u,static:d,unstable_useTransitions:g,future:{}}),[E,u,d,g]);typeof n=="string"&&(n=Lf(n));let{pathname:T="/",search:x="",hash:k="",state:F=null,key:Y="default"}=n,Z=De.useMemo(()=>{let _e=Uo(T,E);return _e==null?null:{location:{pathname:_e,search:x,hash:k,state:F,key:Y},navigationType:s}},[E,T,x,k,F,Y,s]);return Va(Z!=null,`<Router basename="${E}"> is not able to match the URL "${T}${x}${k}" because it does not start with the basename, so the <Router> won't render anything.`),Z==null?null:De.createElement(ca.Provider,{value:b},De.createElement(Sd.Provider,{children:e,value:Z}))}function AC({children:r,location:e}){return fC(Rv(r),e)}function Rv(r,e=[]){let n=[];return De.Children.forEach(r,(s,u)=>{if(!De.isValidElement(s))return;let d=[...e,u];if(s.type===De.Fragment){n.push.apply(n,Rv(s.props.children,d));return}Yn(s.type===Zh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let g={id:s.props.id||d.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(g.children=Rv(s.props.children,d)),n.push(g)}),n}var ig="get",rg="application/x-www-form-urlencoded";function Fg(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function CC(r){return Fg(r)&&r.tagName.toLowerCase()==="button"}function DC(r){return Fg(r)&&r.tagName.toLowerCase()==="form"}function xC(r){return Fg(r)&&r.tagName.toLowerCase()==="input"}function RC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kC(r,e){return r.button===0&&(!e||e==="_self")&&!RC(r)}var Gp=null;function IC(){if(Gp===null)try{new FormData(document.createElement("form"),0),Gp=!1}catch{Gp=!0}return Gp}var NC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ov(r){return r!=null&&!NC.has(r)?(Va(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rg}"`),null):r}function LC(r,e){let n,s,u,d,g;if(DC(r)){let E=r.getAttribute("action");s=E?Uo(E,e):null,n=r.getAttribute("method")||ig,u=ov(r.getAttribute("enctype"))||rg,d=new FormData(r)}else if(CC(r)||xC(r)&&(r.type==="submit"||r.type==="image")){let E=r.form;if(E==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=r.getAttribute("formaction")||E.getAttribute("action");if(s=b?Uo(b,e):null,n=r.getAttribute("formmethod")||E.getAttribute("method")||ig,u=ov(r.getAttribute("formenctype"))||ov(E.getAttribute("enctype"))||rg,d=new FormData(E,r),!IC()){let{name:T,type:x,value:k}=r;if(x==="image"){let F=T?`${T}.`:"";d.append(`${F}x`,"0"),d.append(`${F}y`,"0")}else T&&d.append(T,k)}}else{if(Fg(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ig,s=null,u=rg,g=r}return d&&u==="text/plain"&&(g=d,d=void 0),{action:s,method:n.toLowerCase(),encType:u,formData:d,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hy(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function OC(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Uo(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function MC(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function FC(r,e,n){let s=await Promise.all(r.map(async u=>{let d=e.routes[u.route.id];if(d){let g=await MC(d,n);return g.links?g.links():[]}return[]}));return zC(s.flat(1).filter(PC).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function W_(r,e,n,s,u,d){let g=(b,T)=>n[T]?b.route.id!==n[T].route.id:!0,E=(b,T)=>n[T].pathname!==b.pathname||n[T].route.path?.endsWith("*")&&n[T].params["*"]!==b.params["*"];return d==="assets"?e.filter((b,T)=>g(b,T)||E(b,T)):d==="data"?e.filter((b,T)=>{let x=s.routes[b.route.id];if(!x||!x.hasLoader)return!1;if(g(b,T)||E(b,T))return!0;if(b.route.shouldRevalidate){let k=b.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function BC(r,e,{includeHydrateFallback:n}={}){return UC(r.map(s=>{let u=e.routes[s.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),n&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function UC(r){return[...new Set(r)]}function VC(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function zC(r,e){let n=new Set;return new Set(e),r.reduce((s,u)=>{let d=JSON.stringify(VC(u));return n.has(d)||(n.add(d),s.push({key:d,link:u})),s},[])}function S1(){let r=De.useContext(Of);return hy(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function HC(){let r=De.useContext(Mg);return hy(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dy=De.createContext(void 0);dy.displayName="FrameworkContext";function w1(){let r=De.useContext(dy);return hy(r,"You must render this element inside a <HydratedRouter> element"),r}function qC(r,e){let n=De.useContext(dy),[s,u]=De.useState(!1),[d,g]=De.useState(!1),{onFocus:E,onBlur:b,onMouseEnter:T,onMouseLeave:x,onTouchStart:k}=e,F=De.useRef(null);De.useEffect(()=>{if(r==="render"&&g(!0),r==="viewport"){let _e=Ee=>{Ee.forEach(X=>{g(X.isIntersecting)})},te=new IntersectionObserver(_e,{threshold:.5});return F.current&&te.observe(F.current),()=>{te.disconnect()}}},[r]),De.useEffect(()=>{if(s){let _e=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(_e)}}},[s]);let Y=()=>{u(!0)},Z=()=>{u(!1),g(!1)};return n?r!=="intent"?[d,F,{}]:[d,F,{onFocus:Yh(E,Y),onBlur:Yh(b,Z),onMouseEnter:Yh(T,Y),onMouseLeave:Yh(x,Z),onTouchStart:Yh(k,Y)}]:[!1,F,{}]}function Yh(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function jC({page:r,...e}){let{router:n}=S1(),s=De.useMemo(()=>l1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?De.createElement(WC,{page:r,matches:s,...e}):null}function GC(r){let{manifest:e,routeModules:n}=w1(),[s,u]=De.useState([]);return De.useEffect(()=>{let d=!1;return FC(r,e,n).then(g=>{d||u(g)}),()=>{d=!0}},[r,e,n]),s}function WC({page:r,matches:e,...n}){let s=jo(),{manifest:u,routeModules:d}=w1(),{basename:g}=S1(),{loaderData:E,matches:b}=HC(),T=De.useMemo(()=>W_(r,e,b,u,s,"data"),[r,e,b,u,s]),x=De.useMemo(()=>W_(r,e,b,u,s,"assets"),[r,e,b,u,s]),k=De.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,_e=!1;if(e.forEach(Ee=>{let X=u.routes[Ee.route.id];!X||!X.hasLoader||(!T.some(ne=>ne.route.id===Ee.route.id)&&Ee.route.id in E&&d[Ee.route.id]?.shouldRevalidate||X.hasClientLoader?_e=!0:Z.add(Ee.route.id))}),Z.size===0)return[];let te=OC(r,g,"data");return _e&&Z.size>0&&te.searchParams.set("_routes",e.filter(Ee=>Z.has(Ee.route.id)).map(Ee=>Ee.route.id).join(",")),[te.pathname+te.search]},[g,E,s,u,T,e,r,d]),F=De.useMemo(()=>BC(x,u),[x,u]),Y=GC(x);return De.createElement(De.Fragment,null,k.map(Z=>De.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),F.map(Z=>De.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),Y.map(({key:Z,link:_e})=>De.createElement("link",{key:Z,nonce:n.nonce,..._e})))}function KC(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YC&&(window.__reactRouterVersion="7.11.0")}catch{}function QC({basename:r,children:e,unstable_useTransitions:n,window:s}){let u=De.useRef();u.current==null&&(u.current=RA({window:s,v5Compat:!0}));let d=u.current,[g,E]=De.useState({action:d.action,location:d.location}),b=De.useCallback(T=>{n===!1?E(T):De.startTransition(()=>E(T))},[n]);return De.useLayoutEffect(()=>d.listen(b),[d,b]),De.createElement(wC,{basename:r,children:e,location:g.location,navigationType:g.action,navigator:d,unstable_useTransitions:n})}var A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C1=De.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:u,reloadDocument:d,replace:g,state:E,target:b,to:T,preventScrollReset:x,viewTransition:k,unstable_defaultShouldRevalidate:F,...Y},Z){let{basename:_e,unstable_useTransitions:te}=De.useContext(ca),Ee=typeof T=="string"&&A1.test(T),X=d1(T,_e);T=X.to;let ne=uC(T,{relative:u}),[oe,he,xe]=qC(s,Y),B=JC(T,{replace:g,state:E,target:b,preventScrollReset:x,relative:u,viewTransition:k,unstable_defaultShouldRevalidate:F,unstable_useTransitions:te});function V(ae){e&&e(ae),ae.defaultPrevented||B(ae)}let q=De.createElement("a",{...Y,...xe,href:X.absoluteURL||ne,onClick:X.isExternal||d?e:V,ref:KC(Z,he),target:b,"data-discover":!Ee&&n==="render"?"true":void 0});return oe&&!Ee?De.createElement(De.Fragment,null,q,De.createElement(jC,{page:ne})):q});C1.displayName="Link";var XC=De.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:u=!1,style:d,to:g,viewTransition:E,children:b,...T},x){let k=wd(g,{relative:T.relative}),F=jo(),Y=De.useContext(Mg),{navigator:Z,basename:_e}=De.useContext(ca),te=Y!=null&&rD(k)&&E===!0,Ee=Z.encodeLocation?Z.encodeLocation(k).pathname:k.pathname,X=F.pathname,ne=Y&&Y.navigation&&Y.navigation.location?Y.navigation.location.pathname:null;n||(X=X.toLowerCase(),ne=ne?ne.toLowerCase():null,Ee=Ee.toLowerCase()),ne&&_e&&(ne=Uo(ne,_e)||ne);const oe=Ee!=="/"&&Ee.endsWith("/")?Ee.length-1:Ee.length;let he=X===Ee||!u&&X.startsWith(Ee)&&X.charAt(oe)==="/",xe=ne!=null&&(ne===Ee||!u&&ne.startsWith(Ee)&&ne.charAt(Ee.length)==="/"),B={isActive:he,isPending:xe,isTransitioning:te},V=he?e:void 0,q;typeof s=="function"?q=s(B):q=[s,he?"active":null,xe?"pending":null,te?"transitioning":null].filter(Boolean).join(" ");let ae=typeof d=="function"?d(B):d;return De.createElement(C1,{...T,"aria-current":V,className:q,ref:x,style:ae,to:g,viewTransition:E},typeof b=="function"?b(B):b)});XC.displayName="NavLink";var $C=De.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:u,state:d,method:g=ig,action:E,onSubmit:b,relative:T,preventScrollReset:x,viewTransition:k,unstable_defaultShouldRevalidate:F,...Y},Z)=>{let{unstable_useTransitions:_e}=De.useContext(ca),te=nD(),Ee=iD(E,{relative:T}),X=g.toLowerCase()==="get"?"get":"post",ne=typeof E=="string"&&A1.test(E),oe=he=>{if(b&&b(he),he.defaultPrevented)return;he.preventDefault();let xe=he.nativeEvent.submitter,B=xe?.getAttribute("formmethod")||g,V=()=>te(xe||he.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:u,state:d,relative:T,preventScrollReset:x,viewTransition:k,unstable_defaultShouldRevalidate:F});_e&&n!==!1?De.startTransition(()=>V()):V()};return De.createElement("form",{ref:Z,method:X,action:Ee,onSubmit:s?b:oe,...Y,"data-discover":!ne&&r==="render"?"true":void 0})});$C.displayName="Form";function ZC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(r){let e=De.useContext(Of);return Yn(e,ZC(r)),e}function JC(r,{target:e,replace:n,state:s,preventScrollReset:u,relative:d,viewTransition:g,unstable_defaultShouldRevalidate:E,unstable_useTransitions:b}={}){let T=Pg(),x=jo(),k=wd(r,{relative:d});return De.useCallback(F=>{if(kC(F,e)){F.preventDefault();let Y=n!==void 0?n:fd(x)===fd(k),Z=()=>T(r,{replace:Y,state:s,preventScrollReset:u,relative:d,viewTransition:g,unstable_defaultShouldRevalidate:E});b?De.startTransition(()=>Z()):Z()}},[x,T,k,n,s,e,r,u,d,g,E,b])}var eD=0,tD=()=>`__${String(++eD)}__`;function nD(){let{router:r}=D1("useSubmit"),{basename:e}=De.useContext(ca),n=EC(),s=r.fetch,u=r.navigate;return De.useCallback(async(d,g={})=>{let{action:E,method:b,encType:T,formData:x,body:k}=LC(d,e);if(g.navigate===!1){let F=g.fetcherKey||tD();await s(F,n,g.action||E,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:x,body:k,formMethod:g.method||b,formEncType:g.encType||T,flushSync:g.flushSync})}else await u(g.action||E,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:x,body:k,formMethod:g.method||b,formEncType:g.encType||T,replace:g.replace,state:g.state,fromRouteId:n,flushSync:g.flushSync,viewTransition:g.viewTransition})},[s,u,e,n])}function iD(r,{relative:e}={}){let{basename:n}=De.useContext(ca),s=De.useContext($s);Yn(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),d={...wd(r||".",{relative:e})},g=jo();if(r==null){d.search=g.search;let E=new URLSearchParams(d.search),b=E.getAll("index");if(b.some(x=>x==="")){E.delete("index"),b.filter(k=>k).forEach(k=>E.append("index",k));let x=E.toString();d.search=x?`?${x}`:""}}return(!r||r===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:Fo([n,d.pathname])),fd(d)}function rD(r,{relative:e}={}){let n=De.useContext(g1);Yn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=D1("useViewTransitionState"),u=wd(r,{relative:e});if(!n.isTransitioning)return!1;let d=Uo(n.currentLocation.pathname,s)||n.currentLocation.pathname,g=Uo(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mg(u.pathname,g)!=null||mg(u.pathname,d)!=null}const aD=()=>{};var K_={};const x1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[n++]=u:u<2048?(e[n++]=u>>6|192,e[n++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=u>>18|240,e[n++]=u>>12&63|128,e[n++]=u>>6&63|128,e[n++]=u&63|128):(e[n++]=u>>12|224,e[n++]=u>>6&63|128,e[n++]=u&63|128)}return e},sD=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const u=r[n++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const d=r[n++];e[s++]=String.fromCharCode((u&31)<<6|d&63)}else if(u>239&&u<365){const d=r[n++],g=r[n++],E=r[n++],b=((u&7)<<18|(d&63)<<12|(g&63)<<6|E&63)-65536;e[s++]=String.fromCharCode(55296+(b>>10)),e[s++]=String.fromCharCode(56320+(b&1023))}else{const d=r[n++],g=r[n++];e[s++]=String.fromCharCode((u&15)<<12|(d&63)<<6|g&63)}}return e.join("")},R1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const d=r[u],g=u+1<r.length,E=g?r[u+1]:0,b=u+2<r.length,T=b?r[u+2]:0,x=d>>2,k=(d&3)<<4|E>>4;let F=(E&15)<<2|T>>6,Y=T&63;b||(Y=64,g||(F=64)),s.push(n[x],n[k],n[F],n[Y])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(x1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sD(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const d=n[r.charAt(u++)],E=u<r.length?n[r.charAt(u)]:0;++u;const T=u<r.length?n[r.charAt(u)]:64;++u;const k=u<r.length?n[r.charAt(u)]:64;if(++u,d==null||E==null||T==null||k==null)throw new oD;const F=d<<2|E>>4;if(s.push(F),T!==64){const Y=E<<4&240|T>>2;if(s.push(Y),k!==64){const Z=T<<6&192|k;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lD=function(r){const e=x1(r);return R1.encodeByteArray(e,!0)},vg=function(r){return lD(r).replace(/\./g,"")},k1=function(r){try{return R1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cD=()=>uD().__FIREBASE_DEFAULTS__,fD=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hD=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&k1(r[1]);return e&&JSON.parse(e)},Bg=()=>{try{return aD()||cD()||fD()||hD()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},I1=r=>Bg()?.emulatorHosts?.[r],N1=r=>{const e=I1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},L1=()=>Bg()?.config,O1=r=>Bg()?.[`_${r}`];class dD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function cu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function py(r){return(await fetch(r,{credentials:"include"})).ok}function M1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vg(JSON.stringify(n)),vg(JSON.stringify(g)),""].join(".")}const rd={};function pD(){const r={prod:[],emulator:[]};for(const e of Object.keys(rd))rd[e]?r.emulator.push(e):r.prod.push(e);return r}function gD(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Y_=!1;function gy(r,e){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||rd[r]===e||rd[r]||Y_)return;rd[r]=e;function n(F){return`__firebase__banner__${F}`}const s="__firebase__banner",d=pD().prod.length>0;function g(){const F=document.getElementById(s);F&&F.remove()}function E(F){F.style.display="flex",F.style.background="#7faaf0",F.style.position="fixed",F.style.bottom="5px",F.style.left="5px",F.style.padding=".5em",F.style.borderRadius="5px",F.style.alignItems="center"}function b(F,Y){F.setAttribute("width","24"),F.setAttribute("id",Y),F.setAttribute("height","24"),F.setAttribute("viewBox","0 0 24 24"),F.setAttribute("fill","none"),F.style.marginLeft="-6px"}function T(){const F=document.createElement("span");return F.style.cursor="pointer",F.style.marginLeft="16px",F.style.fontSize="24px",F.innerHTML=" &times;",F.onclick=()=>{Y_=!0,g()},F}function x(F,Y){F.setAttribute("id",Y),F.innerText="Learn more",F.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",F.setAttribute("target","__blank"),F.style.paddingLeft="5px",F.style.textDecoration="underline"}function k(){const F=gD(s),Y=n("text"),Z=document.getElementById(Y)||document.createElement("span"),_e=n("learnmore"),te=document.getElementById(_e)||document.createElement("a"),Ee=n("preprendIcon"),X=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(F.created){const ne=F.element;E(ne),x(te,_e);const oe=T();b(X,Ee),ne.append(X,Z,te,oe),document.body.appendChild(ne)}d?(Z.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function vD(){const r=Bg()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _D(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ED(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bD(){const r=vr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TD(){return!vD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SD(){try{return typeof indexedDB=="object"}catch{return!1}}function wD(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{n=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(n){e(n)}})}const AD="FirebaseError";class Zs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AD,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},u=`${this.service}/${e}`,d=this.errors[e],g=d?CD(d,s):"Error",E=`${this.serviceName}: ${g} (${u}).`;return new Zs(u,E,s)}}function CD(r,e){return r.replace(DD,(n,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const DD=/\{\$([^}]+)}/g;function xD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function tc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const u of n){if(!s.includes(u))return!1;const d=r[u],g=e[u];if(Q_(d)&&Q_(g)){if(!tc(d,g))return!1}else if(d!==g)return!1}for(const u of s)if(!n.includes(u))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function Cd(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(u=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(u))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jh(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[u,d]=s.split("=");e[decodeURIComponent(u)]=decodeURIComponent(d)}}),e}function ed(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function RD(r,e){const n=new kD(r,e);return n.subscribe.bind(n)}class kD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let u;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ID(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:s},u.next===void 0&&(u.next=lv),u.error===void 0&&(u.error=lv),u.complete===void 0&&(u.complete=lv);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),d}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ID(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lv(){}function ai(r){return r&&r._delegate?r._delegate:r}class iu{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zu="[DEFAULT]";class ND{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:n});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OD(e))try{this.getOrInitializeService({instanceIdentifier:Zu})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(n);try{const d=this.getOrInitializeService({instanceIdentifier:u});s.resolve(d)}catch{}}}}clearInstance(e=Zu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zu){return this.instances.has(e)}getOptions(e=Zu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[d,g]of this.instancesDeferred.entries()){const E=this.normalizeInstanceIdentifier(d);s===E&&g.resolve(u)}return u}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const d=this.instances.get(s);return d&&e(d,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const u of s)try{u(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zu){return this.component?this.component.multipleInstances?e:Zu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LD(r){return r===Zu?void 0:r}function OD(r){return r.instantiationMode==="EAGER"}class MD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ND(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Zt||(Zt={}));const PD={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},FD=Zt.INFO,BD={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},UD=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=BD[e];if(u)console[u](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=FD,this._logHandler=UD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}const VD=(r,e)=>e.some(n=>r instanceof n);let X_,$_;function zD(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HD(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,kv=new WeakMap,F1=new WeakMap,uv=new WeakMap,vy=new WeakMap;function qD(r){const e=new Promise((n,s)=>{const u=()=>{r.removeEventListener("success",d),r.removeEventListener("error",g)},d=()=>{n(Zl(r.result)),u()},g=()=>{s(r.error),u()};r.addEventListener("success",d),r.addEventListener("error",g)});return e.then(n=>{n instanceof IDBCursor&&P1.set(n,r)}).catch(()=>{}),vy.set(e,r),e}function jD(r){if(kv.has(r))return;const e=new Promise((n,s)=>{const u=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",g),r.removeEventListener("abort",g)},d=()=>{n(),u()},g=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",d),r.addEventListener("error",g),r.addEventListener("abort",g)});kv.set(r,e)}let Iv={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return kv.get(r);if(e==="objectStoreNames")return r.objectStoreNames||F1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zl(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function GD(r){Iv=r(Iv)}function WD(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(cv(this),e,...n);return F1.set(s,e.sort?e.sort():[e]),Zl(s)}:HD().includes(r)?function(...e){return r.apply(cv(this),e),Zl(P1.get(this))}:function(...e){return Zl(r.apply(cv(this),e))}}function KD(r){return typeof r=="function"?WD(r):(r instanceof IDBTransaction&&jD(r),VD(r,zD())?new Proxy(r,Iv):r)}function Zl(r){if(r instanceof IDBRequest)return qD(r);if(uv.has(r))return uv.get(r);const e=KD(r);return e!==r&&(uv.set(r,e),vy.set(e,r)),e}const cv=r=>vy.get(r);function YD(r,e,{blocked:n,upgrade:s,blocking:u,terminated:d}={}){const g=indexedDB.open(r,e),E=Zl(g);return s&&g.addEventListener("upgradeneeded",b=>{s(Zl(g.result),b.oldVersion,b.newVersion,Zl(g.transaction),b)}),n&&g.addEventListener("blocked",b=>n(b.oldVersion,b.newVersion,b)),E.then(b=>{d&&b.addEventListener("close",()=>d()),u&&b.addEventListener("versionchange",T=>u(T.oldVersion,T.newVersion,T))}).catch(()=>{}),E}const QD=["get","getKey","getAll","getAllKeys","count"],XD=["put","add","delete","clear"],fv=new Map;function Z_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fv.get(e))return fv.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,u=XD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(u||QD.includes(n)))return;const d=async function(g,...E){const b=this.transaction(g,u?"readwrite":"readonly");let T=b.store;return s&&(T=T.index(E.shift())),(await Promise.all([T[n](...E),u&&b.done]))[0]};return fv.set(e,d),d}GD(r=>({...r,get:(e,n,s)=>Z_(e,n)||r.get(e,n,s),has:(e,n)=>!!Z_(e,n)||r.has(e,n)}));class $D{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZD(r){return r.getComponent()?.type==="VERSION"}const Nv="@firebase/app",J_="0.14.6";const Vo=new my("@firebase/app"),JD="@firebase/app-compat",ex="@firebase/analytics-compat",tx="@firebase/analytics",nx="@firebase/app-check-compat",ix="@firebase/app-check",rx="@firebase/auth",ax="@firebase/auth-compat",sx="@firebase/database",ox="@firebase/data-connect",lx="@firebase/database-compat",ux="@firebase/functions",cx="@firebase/functions-compat",fx="@firebase/installations",hx="@firebase/installations-compat",dx="@firebase/messaging",px="@firebase/messaging-compat",gx="@firebase/performance",mx="@firebase/performance-compat",vx="@firebase/remote-config",yx="@firebase/remote-config-compat",_x="@firebase/storage",Ex="@firebase/storage-compat",bx="@firebase/firestore",Tx="@firebase/ai",Sx="@firebase/firestore-compat",wx="firebase",Ax="12.6.0";const Lv="[DEFAULT]",Cx={[Nv]:"fire-core",[JD]:"fire-core-compat",[tx]:"fire-analytics",[ex]:"fire-analytics-compat",[ix]:"fire-app-check",[nx]:"fire-app-check-compat",[rx]:"fire-auth",[ax]:"fire-auth-compat",[sx]:"fire-rtdb",[ox]:"fire-data-connect",[lx]:"fire-rtdb-compat",[ux]:"fire-fn",[cx]:"fire-fn-compat",[fx]:"fire-iid",[hx]:"fire-iid-compat",[dx]:"fire-fcm",[px]:"fire-fcm-compat",[gx]:"fire-perf",[mx]:"fire-perf-compat",[vx]:"fire-rc",[yx]:"fire-rc-compat",[_x]:"fire-gcs",[Ex]:"fire-gcs-compat",[bx]:"fire-fst",[Sx]:"fire-fst-compat",[Tx]:"fire-vertex","fire-js":"fire-js",[wx]:"fire-js-all"};const yg=new Map,Dx=new Map,Ov=new Map;function eE(r,e){try{r.container.addComponent(e)}catch(n){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function nc(r){const e=r.name;if(Ov.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;Ov.set(e,r);for(const n of yg.values())eE(n,r);for(const n of Dx.values())eE(n,r);return!0}function Ug(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function oa(r){return r==null?!1:r.settings!==void 0}const xx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jl=new Ad("app","Firebase",xx);class Rx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jl.create("app-deleted",{appName:this._name})}}const uc=Ax;function B1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Lv,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Jl.create("bad-app-name",{appName:String(u)});if(n||(n=L1()),!n)throw Jl.create("no-options");const d=yg.get(u);if(d){if(tc(n,d.options)&&tc(s,d.config))return d;throw Jl.create("duplicate-app",{appName:u})}const g=new MD(u);for(const b of Ov.values())g.addComponent(b);const E=new Rx(n,s,g);return yg.set(u,E),E}function yy(r=Lv){const e=yg.get(r);if(!e&&r===Lv&&L1())return B1();if(!e)throw Jl.create("no-app",{appName:r});return e}function qs(r,e,n){let s=Cx[r]??r;n&&(s+=`-${n}`);const u=s.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const g=[`Unable to register library "${s}" with version "${e}":`];u&&g.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vo.warn(g.join(" "));return}nc(new iu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const kx="firebase-heartbeat-database",Ix=1,hd="firebase-heartbeat-store";let hv=null;function U1(){return hv||(hv=YD(kx,Ix,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hd)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jl.create("idb-open",{originalErrorMessage:r.message})})),hv}async function Nx(r){try{const n=(await U1()).transaction(hd),s=await n.objectStore(hd).get(V1(r));return await n.done,s}catch(e){if(e instanceof Zs)Vo.warn(e.message);else{const n=Jl.create("idb-get",{originalErrorMessage:e?.message});Vo.warn(n.message)}}}async function tE(r,e){try{const s=(await U1()).transaction(hd,"readwrite");await s.objectStore(hd).put(e,V1(r)),await s.done}catch(n){if(n instanceof Zs)Vo.warn(n.message);else{const s=Jl.create("idb-set",{originalErrorMessage:n?.message});Vo.warn(s.message)}}}function V1(r){return`${r.name}!${r.options.appId}`}const Lx=1024,Ox=30;class Mx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Ox){const u=Bx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nE(),{heartbeatsToSend:n,unsentEntries:s}=Px(this._heartbeatsCache.heartbeats),u=vg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Vo.warn(e),""}}}function nE(){return new Date().toISOString().substring(0,10)}function Px(r,e=Lx){const n=[];let s=r.slice();for(const u of r){const d=n.find(g=>g.agent===u.agent);if(d){if(d.dates.push(u.date),iE(n)>e){d.dates.pop();break}}else if(n.push({agent:u.agent,dates:[u.date]}),iE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Fx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SD()?wD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iE(r){return vg(JSON.stringify({version:2,heartbeats:r})).length}function Bx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function Ux(r){nc(new iu("platform-logger",e=>new $D(e),"PRIVATE")),nc(new iu("heartbeat",e=>new Mx(e),"PRIVATE")),qs(Nv,J_,r),qs(Nv,J_,"esm2020"),qs("fire-js","")}Ux("");function z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vx=z1,H1=new Ad("auth","Firebase",z1());const _g=new my("@firebase/auth");function zx(r,...e){_g.logLevel<=Zt.WARN&&_g.warn(`Auth (${uc}): ${r}`,...e)}function ag(r,...e){_g.logLevel<=Zt.ERROR&&_g.error(`Auth (${uc}): ${r}`,...e)}function ms(r,...e){throw _y(r,...e)}function js(r,...e){return _y(r,...e)}function q1(r,e,n){const s={...Vx(),[e]:n};return new Ad("auth","Firebase",s).create(e,{appName:r.name})}function Bo(r){return q1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _y(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return H1.create(r,...e)}function Ct(r,e,...n){if(!r)throw _y(e,...n)}function Mo(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ag(e),new Error(e)}function zo(r,e){r||Mo(e)}function Mv(){return typeof self<"u"&&self.location?.href||""}function Hx(){return rE()==="http:"||rE()==="https:"}function rE(){return typeof self<"u"&&self.location?.protocol||null}function qx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hx()||_D()||"connection"in navigator)?navigator.onLine:!0}function jx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Dd{constructor(e,n){this.shortDelay=e,this.longDelay=n,zo(n>e,"Short delay should be less than long delay!"),this.isMobile=mD()||ED()}get(){return qx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ey(r,e){zo(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class j1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Wx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kx=new Dd(3e4,6e4);function fu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function hu(r,e,n,s,u={}){return G1(r,u,async()=>{let d={},g={};s&&(e==="GET"?g=s:d={body:JSON.stringify(s)});const E=Cd({key:r.config.apiKey,...g}).slice(1),b=await r._getAdditionalHeaders();b["Content-Type"]="application/json",r.languageCode&&(b["X-Firebase-Locale"]=r.languageCode);const T={method:e,headers:b,...d};return yD()||(T.referrerPolicy="no-referrer"),r.emulatorConfig&&cu(r.emulatorConfig.host)&&(T.credentials="include"),j1.fetch()(await W1(r,r.config.apiHost,n,E),T)})}async function G1(r,e,n){r._canInitEmulator=!1;const s={...Gx,...e};try{const u=new Qx(r),d=await Promise.race([n(),u.promise]);u.clearNetworkTimeout();const g=await d.json();if("needConfirmation"in g)throw Wp(r,"account-exists-with-different-credential",g);if(d.ok&&!("errorMessage"in g))return g;{const E=d.ok?g.errorMessage:g.error.message,[b,T]=E.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(r,"credential-already-in-use",g);if(b==="EMAIL_EXISTS")throw Wp(r,"email-already-in-use",g);if(b==="USER_DISABLED")throw Wp(r,"user-disabled",g);const x=s[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw q1(r,x,T);ms(r,x)}}catch(u){if(u instanceof Zs)throw u;ms(r,"network-request-failed",{message:String(u)})}}async function xd(r,e,n,s,u={}){const d=await hu(r,e,n,s,u);return"mfaPendingCredential"in d&&ms(r,"multi-factor-auth-required",{_serverResponse:d}),d}async function W1(r,e,n,s){const u=`${e}${n}?${s}`,d=r,g=d.config.emulator?Ey(r.config,u):`${r.config.apiScheme}://${u}`;return Wx.includes(n)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(g).toString():g}function Yx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(js(this.auth,"network-request-failed")),Kx.get())})}}function Wp(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const u=js(r,e,s);return u.customData._tokenResponse=n,u}function aE(r){return r!==void 0&&r.enterprise!==void 0}class Xx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Yx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $x(r,e){return hu(r,"GET","/v2/recaptchaConfig",fu(r,e))}async function Zx(r,e){return hu(r,"POST","/v1/accounts:delete",e)}async function Eg(r,e){return hu(r,"POST","/v1/accounts:lookup",e)}function ad(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jx(r,e=!1){const n=ai(r),s=await n.getIdToken(e),u=by(s);Ct(u&&u.exp&&u.auth_time&&u.iat,n.auth,"internal-error");const d=typeof u.firebase=="object"?u.firebase:void 0,g=d?.sign_in_provider;return{claims:u,token:s,authTime:ad(dv(u.auth_time)),issuedAtTime:ad(dv(u.iat)),expirationTime:ad(dv(u.exp)),signInProvider:g||null,signInSecondFactor:d?.sign_in_second_factor||null}}function dv(r){return Number(r)*1e3}function by(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ag("JWT malformed, contained fewer than 3 sections"),null;try{const u=k1(n);return u?JSON.parse(u):(ag("Failed to decode base64 JWT payload"),null)}catch(u){return ag("Caught error parsing JWT payload as JSON",u?.toString()),null}}function sE(r){const e=by(r);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function dd(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zs&&eR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ad(this.lastLoginAt),this.creationTime=ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bg(r){const e=r.auth,n=await r.getIdToken(),s=await dd(r,Eg(e,{idToken:n}));Ct(s?.users.length,e,"internal-error");const u=s.users[0];r._notifyReloadListener(u);const d=u.providerUserInfo?.length?K1(u.providerUserInfo):[],g=iR(r.providerData,d),E=r.isAnonymous,b=!(r.email&&u.passwordHash)&&!g?.length,T=E?b:!1,x={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new Pv(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,x)}async function nR(r){const e=ai(r);await bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iR(r,e){return[...r.filter(s=>!e.some(u=>u.providerId===s.providerId)),...e]}function K1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rR(r,e){const n=await G1(r,{},async()=>{const s=Cd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:u,apiKey:d}=r.config,g=await W1(r,u,"/v1/token",`key=${d}`),E=await r._getAdditionalHeaders();E["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:E,body:s};return r.emulatorConfig&&cu(r.emulatorConfig.host)&&(b.credentials="include"),j1.fetch()(g,b)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aR(r,e){return hu(r,"POST","/v2/accounts:revokeToken",fu(r,e))}class bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:u,expiresIn:d}=await rR(e,n);this.updateTokensAndExpiration(s,u,Number(d))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:u,expirationTime:d}=n,g=new bf;return s&&(Ct(typeof s=="string","internal-error",{appName:e}),g.refreshToken=s),u&&(Ct(typeof u=="string","internal-error",{appName:e}),g.accessToken=u),d&&(Ct(typeof d=="number","internal-error",{appName:e}),g.expirationTime=d),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bf,this.toJSON())}_performRefresh(){return Mo("not implemented")}}function Gl(r,e){Ct(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ps{constructor({uid:e,auth:n,stsTokenManager:s,...u}){this.providerId="firebase",this.proactiveRefresh=new tR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Pv(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await dd(this,this.stsTokenManager.getToken(this.auth,e));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Jx(this,e)}reload(){return nR(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await bg(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oa(this.auth.app))return Promise.reject(Bo(this.auth));const e=await this.getIdToken();return await dd(this,Zx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,u=n.email??void 0,d=n.phoneNumber??void 0,g=n.photoURL??void 0,E=n.tenantId??void 0,b=n._redirectEventId??void 0,T=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:k,emailVerified:F,isAnonymous:Y,providerData:Z,stsTokenManager:_e}=n;Ct(k&&_e,e,"internal-error");const te=bf.fromJSON(this.name,_e);Ct(typeof k=="string",e,"internal-error"),Gl(s,e.name),Gl(u,e.name),Ct(typeof F=="boolean",e,"internal-error"),Ct(typeof Y=="boolean",e,"internal-error"),Gl(d,e.name),Gl(g,e.name),Gl(E,e.name),Gl(b,e.name),Gl(T,e.name),Gl(x,e.name);const Ee=new ps({uid:k,auth:e,email:u,emailVerified:F,displayName:s,isAnonymous:Y,photoURL:g,phoneNumber:d,tenantId:E,stsTokenManager:te,createdAt:T,lastLoginAt:x});return Z&&Array.isArray(Z)&&(Ee.providerData=Z.map(X=>({...X}))),b&&(Ee._redirectEventId=b),Ee}static async _fromIdTokenResponse(e,n,s=!1){const u=new bf;u.updateFromServerResponse(n);const d=new ps({uid:n.localId,auth:e,stsTokenManager:u,isAnonymous:s});return await bg(d),d}static async _fromGetAccountInfoResponse(e,n,s){const u=n.users[0];Ct(u.localId!==void 0,"internal-error");const d=u.providerUserInfo!==void 0?K1(u.providerUserInfo):[],g=!(u.email&&u.passwordHash)&&!d?.length,E=new bf;E.updateFromIdToken(s);const b=new ps({uid:u.localId,auth:e,stsTokenManager:E,isAnonymous:g}),T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Pv(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!d?.length};return Object.assign(b,T),b}}const oE=new Map;function Po(r){zo(r instanceof Function,"Expected a class definition");let e=oE.get(r);return e?(zo(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,oE.set(r,e),e)}class Y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y1.type="NONE";const lE=Y1;function sg(r,e,n){return`firebase:${r}:${e}:${n}`}class Tf{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:u,name:d}=this.auth;this.fullUserKey=sg(this.userKey,u.apiKey,d),this.fullPersistenceKey=sg("persistence",u.apiKey,d),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eg(this.auth,{idToken:e}).catch(()=>{});return n?ps._fromGetAccountInfoResponse(this.auth,n,e):null}return ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Tf(Po(lE),e,s);const u=(await Promise.all(n.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let d=u[0]||Po(lE);const g=sg(s,e.config.apiKey,e.name);let E=null;for(const T of n)try{const x=await T._get(g);if(x){let k;if(typeof x=="string"){const F=await Eg(e,{idToken:x}).catch(()=>{});if(!F)break;k=await ps._fromGetAccountInfoResponse(e,F,x)}else k=ps._fromJSON(e,x);T!==d&&(E=k),d=T;break}}catch{}const b=u.filter(T=>T._shouldAllowMigration);return!d._shouldAllowMigration||!b.length?new Tf(d,e,s):(d=b[0],E&&await d._set(g,E.toJSON()),await Promise.all(n.map(async T=>{if(T!==d)try{await T._remove(g)}catch{}})),new Tf(d,e,s))}}function uE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if(X1(e))return"Safari";if((e.includes("chrome/")||$1(e))&&!e.includes("edge/"))return"Chrome";if(J1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Q1(r=vr()){return/firefox\//i.test(r)}function X1(r=vr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $1(r=vr()){return/crios\//i.test(r)}function Z1(r=vr()){return/iemobile/i.test(r)}function J1(r=vr()){return/android/i.test(r)}function eT(r=vr()){return/blackberry/i.test(r)}function tT(r=vr()){return/webos/i.test(r)}function Ty(r=vr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sR(r=vr()){return Ty(r)&&!!window.navigator?.standalone}function oR(){return bD()&&document.documentMode===10}function nT(r=vr()){return Ty(r)||J1(r)||tT(r)||eT(r)||/windows phone/i.test(r)||Z1(r)}function iT(r,e=[]){let n;switch(r){case"Browser":n=uE(vr());break;case"Worker":n=`${uE(vr())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uc}/${s}`}class lR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=d=>new Promise((g,E)=>{try{const b=e(d);g(b)}catch(b){E(b)}});s.onAbort=n,this.queue.push(s);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const u of n)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uR(r,e={}){return hu(r,"GET","/v2/passwordPolicy",fu(r,e))}const cR=6;class fR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),u&&(n.meetsMaxPasswordLength=e.length<=u)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let u=0;u<e.length;u++)s=e.charAt(u),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,u,d){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=d))}}class hR{constructor(e,n,s,u){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new lR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Po(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eg(this,{idToken:e}),s=await ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oa(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,g=s?._redirectEventId,E=await this.tryRedirectSignIn(e);(!d||d===g)&&E?.user&&(s=E.user,u=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oa(this.app))return Promise.reject(Bo(this));const n=e?ai(e):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oa(this.app)?Promise.reject(Bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oa(this.app)?Promise.reject(Bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uR(this),n=new fR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Po(e)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await Tf.create(this,[Po(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,u){if(this._deleted)return()=>{};const d=typeof n=="function"?n:n.next.bind(n);let g=!1;const E=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(E,this,"internal-error"),E.then(()=>{g||d(this.currentUser)}),typeof n=="function"){const b=e.addObserver(n,s,u);return()=>{g=!0,b()}}else{const b=e.addObserver(n);return()=>{g=!0,b()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(oa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cc(r){return ai(r)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=RD(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dR(r){Vg=r}function rT(r){return Vg.loadJS(r)}function pR(){return Vg.recaptchaEnterpriseScript}function gR(){return Vg.gapiScript}function mR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class vR{constructor(){this.enterprise=new yR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _R="recaptcha-enterprise",aT="NO_RECAPTCHA";class ER{constructor(e){this.type=_R,this.auth=cc(e)}async verify(e="verify",n=!1){async function s(d){if(!n){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(g,E)=>{$x(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(b.recaptchaKey===void 0)E(new Error("recaptcha Enterprise site key undefined"));else{const T=new Xx(b);return d.tenantId==null?d._agentRecaptchaConfig=T:d._tenantRecaptchaConfigs[d.tenantId]=T,g(T.siteKey)}}).catch(b=>{E(b)})})}function u(d,g,E){const b=window.grecaptcha;aE(b)?b.enterprise.ready(()=>{b.enterprise.execute(d,{action:e}).then(T=>{g(T)}).catch(()=>{g(aT)})}):E(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vR().execute("siteKey",{action:"verify"}):new Promise((d,g)=>{s(this.auth).then(E=>{if(!n&&aE(window.grecaptcha))u(E,d,g);else{if(typeof window>"u"){g(new Error("RecaptchaVerifier is only supported in browser"));return}let b=pR();b.length!==0&&(b+=E),rT(b).then(()=>{u(E,d,g)}).catch(T=>{g(T)})}}).catch(E=>{g(E)})})}}async function fE(r,e,n,s=!1,u=!1){const d=new ER(r);let g;if(u)g=aT;else try{g=await d.verify(n)}catch{g=await d.verify(n,!0)}const E={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in E){const b=E.phoneEnrollmentInfo.phoneNumber,T=E.phoneEnrollmentInfo.recaptchaToken;Object.assign(E,{phoneEnrollmentInfo:{phoneNumber:b,recaptchaToken:T,captchaResponse:g,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in E){const b=E.phoneSignInInfo.recaptchaToken;Object.assign(E,{phoneSignInInfo:{recaptchaToken:b,captchaResponse:g,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return E}return s?Object.assign(E,{captchaResp:g}):Object.assign(E,{captchaResponse:g}),Object.assign(E,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(E,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),E}async function Fv(r,e,n,s,u){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await fE(r,e,n,n==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await fE(r,e,n,n==="getOobCode");return s(r,g)}else return Promise.reject(d)})}function bR(r,e){const n=Ug(r,"auth");if(n.isInitialized()){const u=n.getImmediate(),d=n.getOptions();if(tc(d,e??{}))return u;ms(u,"already-initialized")}return n.initialize({options:e})}function TR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Po);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function SR(r,e,n){const s=cc(r);Ct(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const u=!1,d=sT(e),{host:g,port:E}=wR(e),b=E===null?"":`:${E}`,T={url:`${d}//${g}${b}/`},x=Object.freeze({host:g,port:E,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:u})});if(!s._canInitEmulator){Ct(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ct(tc(T,s.config.emulator)&&tc(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=T,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,cu(g)?(py(`${d}//${g}${b}`),gy("Auth",!0)):AR()}function sT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function wR(r){const e=sT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(s);if(u){const d=u[1];return{host:d,port:hE(s.substr(d.length+1))}}else{const[d,g]=s.split(":");return{host:d,port:hE(g)}}}function hE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function AR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Sy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mo("not implemented")}_getIdTokenResponse(e){return Mo("not implemented")}_linkToIdToken(e,n){return Mo("not implemented")}_getReauthenticationResolver(e){return Mo("not implemented")}}async function CR(r,e){return hu(r,"POST","/v1/accounts:signUp",e)}async function DR(r,e){return xd(r,"POST","/v1/accounts:signInWithPassword",fu(r,e))}async function xR(r,e){return xd(r,"POST","/v1/accounts:signInWithEmailLink",fu(r,e))}async function RR(r,e){return xd(r,"POST","/v1/accounts:signInWithEmailLink",fu(r,e))}class pd extends Sy{constructor(e,n,s,u=null){super("password",s),this._email=e,this._password=n,this._tenantId=u}static _fromEmailAndPassword(e,n){return new pd(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new pd(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,n,"signInWithPassword",DR);case"emailLink":return xR(e,{email:this._email,oobCode:this._password});default:ms(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,s,"signUpPassword",CR);case"emailLink":return RR(e,{idToken:n,email:this._email,oobCode:this._password});default:ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Sf(r,e){return xd(r,"POST","/v1/accounts:signInWithIdp",fu(r,e))}const kR="http://localhost";class ic extends Sy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ic(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:u,...d}=n;if(!s||!u)return null;const g=new ic(s,u);return g.idToken=d.idToken||void 0,g.accessToken=d.accessToken||void 0,g.secret=d.secret,g.nonce=d.nonce,g.pendingToken=d.pendingToken||null,g}_getIdTokenResponse(e){const n=this.buildRequest();return Sf(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Sf(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sf(e,n)}buildRequest(){const e={requestUri:kR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cd(n)}return e}}function IR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NR(r){const e=Jh(ed(r)).link,n=e?Jh(ed(e)).deep_link_id:null,s=Jh(ed(r)).deep_link_id;return(s?Jh(ed(s)).link:null)||s||n||e||r}class wy{constructor(e){const n=Jh(ed(e)),s=n.apiKey??null,u=n.oobCode??null,d=IR(n.mode??null);Ct(s&&u&&d,"argument-error"),this.apiKey=s,this.operation=d,this.code=u,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NR(e);try{return new wy(n)}catch{return null}}}class Pf{constructor(){this.providerId=Pf.PROVIDER_ID}static credential(e,n){return pd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=wy.parseLink(n);return Ct(s,"argument-error"),pd._fromEmailAndCode(e,s.code,s.tenantId)}}Pf.PROVIDER_ID="password";Pf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rd extends oT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wl extends Rd{constructor(){super("facebook.com")}static credential(e){return ic._fromParams({providerId:Wl.PROVIDER_ID,signInMethod:Wl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wl.credentialFromTaggedObject(e)}static credentialFromError(e){return Wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wl.credential(e.oauthAccessToken)}catch{return null}}}Wl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wl.PROVIDER_ID="facebook.com";class Kl extends Rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ic._fromParams({providerId:Kl.PROVIDER_ID,signInMethod:Kl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kl.credentialFromTaggedObject(e)}static credentialFromError(e){return Kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Kl.credential(n,s)}catch{return null}}}Kl.GOOGLE_SIGN_IN_METHOD="google.com";Kl.PROVIDER_ID="google.com";class Yl extends Rd{constructor(){super("github.com")}static credential(e){return ic._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yl.credential(e.oauthAccessToken)}catch{return null}}}Yl.GITHUB_SIGN_IN_METHOD="github.com";Yl.PROVIDER_ID="github.com";class Ql extends Rd{constructor(){super("twitter.com")}static credential(e,n){return ic._fromParams({providerId:Ql.PROVIDER_ID,signInMethod:Ql.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ql.credentialFromTaggedObject(e)}static credentialFromError(e){return Ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ql.credential(n,s)}catch{return null}}}Ql.TWITTER_SIGN_IN_METHOD="twitter.com";Ql.PROVIDER_ID="twitter.com";async function LR(r,e){return xd(r,"POST","/v1/accounts:signUp",fu(r,e))}class rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,u=!1){const d=await ps._fromIdTokenResponse(e,s,u),g=dE(s);return new rc({user:d,providerId:g,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const u=dE(s);return new rc({user:e,providerId:u,_tokenResponse:s,operationType:n})}}function dE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Tg extends Zs{constructor(e,n,s,u){super(n.code,n.message),this.operationType=s,this.user=u,Object.setPrototypeOf(this,Tg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,u){return new Tg(e,n,s,u)}}function lT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?Tg._fromErrorAndOperation(r,d,e,s):d})}async function OR(r,e,n=!1){const s=await dd(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return rc._forOperation(r,"link",s)}async function MR(r,e,n=!1){const{auth:s}=r;if(oa(s.app))return Promise.reject(Bo(s));const u="reauthenticate";try{const d=await dd(r,lT(s,u,e,r),n);Ct(d.idToken,s,"internal-error");const g=by(d.idToken);Ct(g,s,"internal-error");const{sub:E}=g;return Ct(r.uid===E,s,"user-mismatch"),rc._forOperation(r,u,d)}catch(d){throw d?.code==="auth/user-not-found"&&ms(s,"user-mismatch"),d}}async function uT(r,e,n=!1){if(oa(r.app))return Promise.reject(Bo(r));const s="signIn",u=await lT(r,s,e),d=await rc._fromIdTokenResponse(r,s,u);return n||await r._updateCurrentUser(d.user),d}async function PR(r,e){return uT(cc(r),e)}async function cT(r){const e=cc(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FR(r,e,n){if(oa(r.app))return Promise.reject(Bo(r));const s=cc(r),g=await Fv(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LR).catch(b=>{throw b.code==="auth/password-does-not-meet-requirements"&&cT(r),b}),E=await rc._fromIdTokenResponse(s,"signIn",g);return await s._updateCurrentUser(E.user),E}function BR(r,e,n){return oa(r.app)?Promise.reject(Bo(r)):PR(ai(r),Pf.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&cT(r),s})}function UR(r,e,n,s){return ai(r).onIdTokenChanged(e,n,s)}function VR(r,e,n){return ai(r).beforeAuthStateChanged(e,n)}function zR(r,e,n,s){return ai(r).onAuthStateChanged(e,n,s)}function HR(r){return ai(r).signOut()}const Sg="__sak";class fT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qR=1e3,jR=10;class hT extends fT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),u=this.localCache[n];s!==u&&e(n,u,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((g,E,b)=>{this.notifyListeners(g,b)});return}const s=e.key;n?this.detachListener():this.stopPolling();const u=()=>{const g=this.storage.getItem(s);!n&&this.localCache[s]===g||this.notifyListeners(s,g)},d=this.storage.getItem(s);oR()&&d!==e.newValue&&e.newValue!==e.oldValue?setTimeout(u,jR):u()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const u of Array.from(s))u(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hT.type="LOCAL";const GR=hT;class dT extends fT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dT.type="SESSION";const pT=dT;function WR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(u=>u.isListeningto(e));if(n)return n;const s=new zg(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:u,data:d}=n.data,g=this.handlersMap[u];if(!g?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:u});const E=Array.from(g).map(async T=>T(n.origin,d)),b=await WR(E);n.ports[0].postMessage({status:"done",eventId:s,eventType:u,response:b})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zg.receivers=[];function Ay(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class KR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let d,g;return new Promise((E,b)=>{const T=Ay("",20);u.port1.start();const x=setTimeout(()=>{b(new Error("unsupported_event"))},s);g={messageChannel:u,onMessage(k){const F=k;if(F.data.eventId===T)switch(F.data.status){case"ack":clearTimeout(x),d=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),E(F.data.response);break;default:clearTimeout(x),clearTimeout(d),b(new Error("invalid_response"));break}}},this.handlers.add(g),u.port1.addEventListener("message",g.onMessage),this.target.postMessage({eventType:e,eventId:T,data:n},[u.port2])}).finally(()=>{g&&this.removeMessageHandler(g)})}}function Gs(){return window}function YR(r){Gs().location.href=r}function gT(){return typeof Gs().WorkerGlobalScope<"u"&&typeof Gs().importScripts=="function"}async function QR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XR(){return navigator?.serviceWorker?.controller||null}function $R(){return gT()?self:null}const mT="firebaseLocalStorageDb",ZR=1,wg="firebaseLocalStorage",vT="fbase_key";class kd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hg(r,e){return r.transaction([wg],e?"readwrite":"readonly").objectStore(wg)}function JR(){const r=indexedDB.deleteDatabase(mT);return new kd(r).toPromise()}function Bv(){const r=indexedDB.open(mT,ZR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(wg,{keyPath:vT})}catch(u){n(u)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(wg)?e(s):(s.close(),await JR(),e(await Bv()))})})}async function pE(r,e,n){const s=Hg(r,!0).put({[vT]:e,value:n});return new kd(s).toPromise()}async function ek(r,e){const n=Hg(r,!1).get(e),s=await new kd(n).toPromise();return s===void 0?null:s.value}function gE(r,e){const n=Hg(r,!0).delete(e);return new kd(n).toPromise()}const tk=800,nk=3;class yT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>nk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zg._getInstance($R()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new KR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bv();return await pE(e,Sg,"1"),await gE(e,Sg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ek(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(u=>{const d=Hg(u,!1).getAll();return new kd(d).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:u,value:d}of e)s.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(d)&&(this.notifyListeners(u,d),n.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!s.has(u)&&(this.notifyListeners(u,null),n.push(u));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const u of Array.from(s))u(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yT.type="LOCAL";const ik=yT;new Dd(3e4,6e4);function rk(r,e){return e?Po(e):(Ct(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cy extends Sy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ak(r){return uT(r.auth,new Cy(r),r.bypassAuthState)}function sk(r){const{auth:e,user:n}=r;return Ct(n,e,"internal-error"),MR(n,new Cy(r),r.bypassAuthState)}async function ok(r){const{auth:e,user:n}=r;return Ct(n,e,"internal-error"),OR(n,new Cy(r),r.bypassAuthState)}class _T{constructor(e,n,s,u,d=!1){this.auth=e,this.resolver=s,this.user=u,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:u,tenantId:d,error:g,type:E}=e;if(g){this.reject(g);return}const b={auth:this.auth,requestUri:n,sessionId:s,tenantId:d||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(E)(b))}catch(T){this.reject(T)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ak;case"linkViaPopup":case"linkViaRedirect":return ok;case"reauthViaPopup":case"reauthViaRedirect":return sk;default:ms(this.auth,"internal-error")}}resolve(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lk=new Dd(2e3,1e4);class _f extends _T{constructor(e,n,s,u,d){super(e,n,u,d),this.provider=s,this.authWindow=null,this.pollId=null,_f.currentPopupAction&&_f.currentPopupAction.cancel(),_f.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){zo(this.filter.length===1,"Popup operations only handle one event");const e=Ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_f.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lk.get())};e()}}_f.currentPopupAction=null;const uk="pendingRedirect",og=new Map;class ck extends _T{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=og.get(this.auth._key());if(!e){try{const s=await fk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}og.set(this.auth._key(),e)}return this.bypassAuthState||og.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fk(r,e){const n=pk(e),s=dk(r);if(!await s._isAvailable())return!1;const u=await s._get(n)==="true";return await s._remove(n),u}function hk(r,e){og.set(r._key(),e)}function dk(r){return Po(r._redirectPersistence)}function pk(r){return sg(uk,r.config.apiKey,r.name)}async function gk(r,e,n=!1){if(oa(r.app))return Promise.reject(Bo(r));const s=cc(r),u=rk(s,e),g=await new ck(s,u,n).execute();return g&&!n&&(delete g.user._redirectEventId,await s._persistUserIfCurrent(g.user),await s._setRedirectUser(null,e)),g}const mk=600*1e3;class vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ET(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(js(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mk&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ET({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function yk(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(r);default:return!1}}async function _k(r,e={}){return hu(r,"GET","/v1/projects",e)}const Ek=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bk=/^https?/;async function Tk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _k(r);for(const n of e)try{if(Sk(n))return}catch{}ms(r,"unauthorized-domain")}function Sk(r){const e=Mv(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const g=new URL(r);return g.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&g.hostname===s}if(!bk.test(n))return!1;if(Ek.test(r))return s===r;const u=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(s)}const wk=new Dd(3e4,6e4);function vE(){const r=Gs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ak(r){return new Promise((e,n)=>{function s(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),n(js(r,"network-request-failed"))},timeout:wk.get()})}if(Gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gs().gapi?.load)s();else{const u=mR("iframefcb");return Gs()[u]=()=>{gapi.load?s():n(js(r,"network-request-failed"))},rT(`${gR()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw lg=null,e})}let lg=null;function Ck(r){return lg=lg||Ak(r),lg}const Dk=new Dd(5e3,15e3),xk="__/auth/iframe",Rk="emulator/auth/iframe",kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ik=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nk(r){const e=r.config;Ct(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ey(e,Rk):`https://${r.config.authDomain}/${xk}`,s={apiKey:e.apiKey,appName:r.name,v:uc},u=Ik.get(r.config.apiHost);u&&(s.eid=u);const d=r._getFrameworks();return d.length&&(s.fw=d.join(",")),`${n}?${Cd(s).slice(1)}`}async function Lk(r){const e=await Ck(r),n=Gs().gapi;return Ct(n,r,"internal-error"),e.open({where:document.body,url:Nk(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kk,dontclear:!0},s=>new Promise(async(u,d)=>{await s.restyle({setHideOnLeave:!1});const g=js(r,"network-request-failed"),E=Gs().setTimeout(()=>{d(g)},Dk.get());function b(){Gs().clearTimeout(E),u(s)}s.ping(b).then(b,()=>{d(g)})}))}const Ok={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mk=500,Pk=600,Fk="_blank",Bk="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uk(r,e,n,s=Mk,u=Pk){const d=Math.max((window.screen.availHeight-u)/2,0).toString(),g=Math.max((window.screen.availWidth-s)/2,0).toString();let E="";const b={...Ok,width:s.toString(),height:u.toString(),top:d,left:g},T=vr().toLowerCase();n&&(E=$1(T)?Fk:n),Q1(T)&&(e=e||Bk,b.scrollbars="yes");const x=Object.entries(b).reduce((F,[Y,Z])=>`${F}${Y}=${Z},`,"");if(sR(T)&&E!=="_self")return Vk(e||"",E),new yE(null);const k=window.open(e||"",E,x);Ct(k,r,"popup-blocked");try{k.focus()}catch{}return new yE(k)}function Vk(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const zk="__/auth/handler",Hk="emulator/auth/handler",qk=encodeURIComponent("fac");async function _E(r,e,n,s,u,d){Ct(r.config.authDomain,r,"auth-domain-config-required"),Ct(r.config.apiKey,r,"invalid-api-key");const g={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uc,eventId:u};if(e instanceof oT){e.setDefaultLanguage(r.languageCode),g.providerId=e.providerId||"",xD(e.getCustomParameters())||(g.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,k]of Object.entries({}))g[x]=k}if(e instanceof Rd){const x=e.getScopes().filter(k=>k!=="");x.length>0&&(g.scopes=x.join(","))}r.tenantId&&(g.tid=r.tenantId);const E=g;for(const x of Object.keys(E))E[x]===void 0&&delete E[x];const b=await r._getAppCheckToken(),T=b?`#${qk}=${encodeURIComponent(b)}`:"";return`${jk(r)}?${Cd(E).slice(1)}${T}`}function jk({config:r}){return r.emulator?Ey(r,Hk):`https://${r.authDomain}/${zk}`}const pv="webStorageSupport";class Gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=gk,this._overrideRedirectResult=hk}async _openPopup(e,n,s,u){zo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const d=await _E(e,n,s,Mv(),u);return Uk(e,d,Ay())}async _openRedirect(e,n,s,u){await this._originValidation(e);const d=await _E(e,n,s,Mv(),u);return YR(d),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:u,promise:d}=this.eventManagers[n];return u?Promise.resolve(u):(zo(d,"If manager is not set, promise should be"),d)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Lk(e),s=new vk(e);return n.register("authEvent",u=>(Ct(u?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pv,{type:pv},u=>{const d=u?.[0]?.[pv];d!==void 0&&n(!!d),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nT()||X1()||Ty()}}const Wk=Gk;var EE="@firebase/auth",bE="1.12.0";class Kk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qk(r){nc(new iu("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),u=e.getProvider("heartbeat"),d=e.getProvider("app-check-internal"),{apiKey:g,authDomain:E}=s.options;Ct(g&&!g.includes(":"),"invalid-api-key",{appName:s.name});const b={apiKey:g,authDomain:E,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iT(r)},T=new hR(s,u,d,b);return TR(T,n),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),nc(new iu("auth-internal",e=>{const n=cc(e.getProvider("auth").getImmediate());return(s=>new Kk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs(EE,bE,Yk(r)),qs(EE,bE,"esm2020")}const Xk=300,$k=O1("authIdTokenMaxAge")||Xk;let TE=null;const Zk=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>$k)return;const u=n?.token;TE!==u&&(TE=u,await fetch(r,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function Jk(r=yy()){const e=Ug(r,"auth");if(e.isInitialized())return e.getImmediate();const n=bR(r,{popupRedirectResolver:Wk,persistence:[ik,GR,pT]}),s=O1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(s,location.origin);if(location.origin===d.origin){const g=Zk(d.toString());VR(n,g,()=>g(n.currentUser)),UR(n,E=>g(E))}}const u=I1("auth");return u&&SR(n,`http://${u}`),n}function e2(){return document.getElementsByTagName("head")?.[0]??document}dR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=u=>{const d=js("internal-error");d.customData=u,n(d)},s.type="text/javascript",s.charset="UTF-8",e2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qk("Browser");var t2="firebase",n2="12.7.0";qs(t2,n2,"app");var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eu,bT;(function(){var r;function e(B,V){function q(){}q.prototype=V.prototype,B.F=V.prototype,B.prototype=new q,B.prototype.constructor=B,B.D=function(ae,G,ie){for(var K=Array(arguments.length-2),st=2;st<arguments.length;st++)K[st-2]=arguments[st];return V.prototype[G].apply(ae,K)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(B,V,q){q||(q=0);const ae=Array(16);if(typeof V=="string")for(var G=0;G<16;++G)ae[G]=V.charCodeAt(q++)|V.charCodeAt(q++)<<8|V.charCodeAt(q++)<<16|V.charCodeAt(q++)<<24;else for(G=0;G<16;++G)ae[G]=V[q++]|V[q++]<<8|V[q++]<<16|V[q++]<<24;V=B.g[0],q=B.g[1],G=B.g[2];let ie=B.g[3],K;K=V+(ie^q&(G^ie))+ae[0]+3614090360&4294967295,V=q+(K<<7&4294967295|K>>>25),K=ie+(G^V&(q^G))+ae[1]+3905402710&4294967295,ie=V+(K<<12&4294967295|K>>>20),K=G+(q^ie&(V^q))+ae[2]+606105819&4294967295,G=ie+(K<<17&4294967295|K>>>15),K=q+(V^G&(ie^V))+ae[3]+3250441966&4294967295,q=G+(K<<22&4294967295|K>>>10),K=V+(ie^q&(G^ie))+ae[4]+4118548399&4294967295,V=q+(K<<7&4294967295|K>>>25),K=ie+(G^V&(q^G))+ae[5]+1200080426&4294967295,ie=V+(K<<12&4294967295|K>>>20),K=G+(q^ie&(V^q))+ae[6]+2821735955&4294967295,G=ie+(K<<17&4294967295|K>>>15),K=q+(V^G&(ie^V))+ae[7]+4249261313&4294967295,q=G+(K<<22&4294967295|K>>>10),K=V+(ie^q&(G^ie))+ae[8]+1770035416&4294967295,V=q+(K<<7&4294967295|K>>>25),K=ie+(G^V&(q^G))+ae[9]+2336552879&4294967295,ie=V+(K<<12&4294967295|K>>>20),K=G+(q^ie&(V^q))+ae[10]+4294925233&4294967295,G=ie+(K<<17&4294967295|K>>>15),K=q+(V^G&(ie^V))+ae[11]+2304563134&4294967295,q=G+(K<<22&4294967295|K>>>10),K=V+(ie^q&(G^ie))+ae[12]+1804603682&4294967295,V=q+(K<<7&4294967295|K>>>25),K=ie+(G^V&(q^G))+ae[13]+4254626195&4294967295,ie=V+(K<<12&4294967295|K>>>20),K=G+(q^ie&(V^q))+ae[14]+2792965006&4294967295,G=ie+(K<<17&4294967295|K>>>15),K=q+(V^G&(ie^V))+ae[15]+1236535329&4294967295,q=G+(K<<22&4294967295|K>>>10),K=V+(G^ie&(q^G))+ae[1]+4129170786&4294967295,V=q+(K<<5&4294967295|K>>>27),K=ie+(q^G&(V^q))+ae[6]+3225465664&4294967295,ie=V+(K<<9&4294967295|K>>>23),K=G+(V^q&(ie^V))+ae[11]+643717713&4294967295,G=ie+(K<<14&4294967295|K>>>18),K=q+(ie^V&(G^ie))+ae[0]+3921069994&4294967295,q=G+(K<<20&4294967295|K>>>12),K=V+(G^ie&(q^G))+ae[5]+3593408605&4294967295,V=q+(K<<5&4294967295|K>>>27),K=ie+(q^G&(V^q))+ae[10]+38016083&4294967295,ie=V+(K<<9&4294967295|K>>>23),K=G+(V^q&(ie^V))+ae[15]+3634488961&4294967295,G=ie+(K<<14&4294967295|K>>>18),K=q+(ie^V&(G^ie))+ae[4]+3889429448&4294967295,q=G+(K<<20&4294967295|K>>>12),K=V+(G^ie&(q^G))+ae[9]+568446438&4294967295,V=q+(K<<5&4294967295|K>>>27),K=ie+(q^G&(V^q))+ae[14]+3275163606&4294967295,ie=V+(K<<9&4294967295|K>>>23),K=G+(V^q&(ie^V))+ae[3]+4107603335&4294967295,G=ie+(K<<14&4294967295|K>>>18),K=q+(ie^V&(G^ie))+ae[8]+1163531501&4294967295,q=G+(K<<20&4294967295|K>>>12),K=V+(G^ie&(q^G))+ae[13]+2850285829&4294967295,V=q+(K<<5&4294967295|K>>>27),K=ie+(q^G&(V^q))+ae[2]+4243563512&4294967295,ie=V+(K<<9&4294967295|K>>>23),K=G+(V^q&(ie^V))+ae[7]+1735328473&4294967295,G=ie+(K<<14&4294967295|K>>>18),K=q+(ie^V&(G^ie))+ae[12]+2368359562&4294967295,q=G+(K<<20&4294967295|K>>>12),K=V+(q^G^ie)+ae[5]+4294588738&4294967295,V=q+(K<<4&4294967295|K>>>28),K=ie+(V^q^G)+ae[8]+2272392833&4294967295,ie=V+(K<<11&4294967295|K>>>21),K=G+(ie^V^q)+ae[11]+1839030562&4294967295,G=ie+(K<<16&4294967295|K>>>16),K=q+(G^ie^V)+ae[14]+4259657740&4294967295,q=G+(K<<23&4294967295|K>>>9),K=V+(q^G^ie)+ae[1]+2763975236&4294967295,V=q+(K<<4&4294967295|K>>>28),K=ie+(V^q^G)+ae[4]+1272893353&4294967295,ie=V+(K<<11&4294967295|K>>>21),K=G+(ie^V^q)+ae[7]+4139469664&4294967295,G=ie+(K<<16&4294967295|K>>>16),K=q+(G^ie^V)+ae[10]+3200236656&4294967295,q=G+(K<<23&4294967295|K>>>9),K=V+(q^G^ie)+ae[13]+681279174&4294967295,V=q+(K<<4&4294967295|K>>>28),K=ie+(V^q^G)+ae[0]+3936430074&4294967295,ie=V+(K<<11&4294967295|K>>>21),K=G+(ie^V^q)+ae[3]+3572445317&4294967295,G=ie+(K<<16&4294967295|K>>>16),K=q+(G^ie^V)+ae[6]+76029189&4294967295,q=G+(K<<23&4294967295|K>>>9),K=V+(q^G^ie)+ae[9]+3654602809&4294967295,V=q+(K<<4&4294967295|K>>>28),K=ie+(V^q^G)+ae[12]+3873151461&4294967295,ie=V+(K<<11&4294967295|K>>>21),K=G+(ie^V^q)+ae[15]+530742520&4294967295,G=ie+(K<<16&4294967295|K>>>16),K=q+(G^ie^V)+ae[2]+3299628645&4294967295,q=G+(K<<23&4294967295|K>>>9),K=V+(G^(q|~ie))+ae[0]+4096336452&4294967295,V=q+(K<<6&4294967295|K>>>26),K=ie+(q^(V|~G))+ae[7]+1126891415&4294967295,ie=V+(K<<10&4294967295|K>>>22),K=G+(V^(ie|~q))+ae[14]+2878612391&4294967295,G=ie+(K<<15&4294967295|K>>>17),K=q+(ie^(G|~V))+ae[5]+4237533241&4294967295,q=G+(K<<21&4294967295|K>>>11),K=V+(G^(q|~ie))+ae[12]+1700485571&4294967295,V=q+(K<<6&4294967295|K>>>26),K=ie+(q^(V|~G))+ae[3]+2399980690&4294967295,ie=V+(K<<10&4294967295|K>>>22),K=G+(V^(ie|~q))+ae[10]+4293915773&4294967295,G=ie+(K<<15&4294967295|K>>>17),K=q+(ie^(G|~V))+ae[1]+2240044497&4294967295,q=G+(K<<21&4294967295|K>>>11),K=V+(G^(q|~ie))+ae[8]+1873313359&4294967295,V=q+(K<<6&4294967295|K>>>26),K=ie+(q^(V|~G))+ae[15]+4264355552&4294967295,ie=V+(K<<10&4294967295|K>>>22),K=G+(V^(ie|~q))+ae[6]+2734768916&4294967295,G=ie+(K<<15&4294967295|K>>>17),K=q+(ie^(G|~V))+ae[13]+1309151649&4294967295,q=G+(K<<21&4294967295|K>>>11),K=V+(G^(q|~ie))+ae[4]+4149444226&4294967295,V=q+(K<<6&4294967295|K>>>26),K=ie+(q^(V|~G))+ae[11]+3174756917&4294967295,ie=V+(K<<10&4294967295|K>>>22),K=G+(V^(ie|~q))+ae[2]+718787259&4294967295,G=ie+(K<<15&4294967295|K>>>17),K=q+(ie^(G|~V))+ae[9]+3951481745&4294967295,B.g[0]=B.g[0]+V&4294967295,B.g[1]=B.g[1]+(G+(K<<21&4294967295|K>>>11))&4294967295,B.g[2]=B.g[2]+G&4294967295,B.g[3]=B.g[3]+ie&4294967295}s.prototype.v=function(B,V){V===void 0&&(V=B.length);const q=V-this.blockSize,ae=this.C;let G=this.h,ie=0;for(;ie<V;){if(G==0)for(;ie<=q;)u(this,B,ie),ie+=this.blockSize;if(typeof B=="string"){for(;ie<V;)if(ae[G++]=B.charCodeAt(ie++),G==this.blockSize){u(this,ae),G=0;break}}else for(;ie<V;)if(ae[G++]=B[ie++],G==this.blockSize){u(this,ae),G=0;break}}this.h=G,this.o+=V},s.prototype.A=function(){var B=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);B[0]=128;for(var V=1;V<B.length-8;++V)B[V]=0;V=this.o*8;for(var q=B.length-8;q<B.length;++q)B[q]=V&255,V/=256;for(this.v(B),B=Array(16),V=0,q=0;q<4;++q)for(let ae=0;ae<32;ae+=8)B[V++]=this.g[q]>>>ae&255;return B};function d(B,V){var q=E;return Object.prototype.hasOwnProperty.call(q,B)?q[B]:q[B]=V(B)}function g(B,V){this.h=V;const q=[];let ae=!0;for(let G=B.length-1;G>=0;G--){const ie=B[G]|0;ae&&ie==V||(q[G]=ie,ae=!1)}this.g=q}var E={};function b(B){return-128<=B&&B<128?d(B,function(V){return new g([V|0],V<0?-1:0)}):new g([B|0],B<0?-1:0)}function T(B){if(isNaN(B)||!isFinite(B))return k;if(B<0)return te(T(-B));const V=[];let q=1;for(let ae=0;B>=q;ae++)V[ae]=B/q|0,q*=4294967296;return new g(V,0)}function x(B,V){if(B.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(B.charAt(0)=="-")return te(x(B.substring(1),V));if(B.indexOf("-")>=0)throw Error('number format error: interior "-" character');const q=T(Math.pow(V,8));let ae=k;for(let ie=0;ie<B.length;ie+=8){var G=Math.min(8,B.length-ie);const K=parseInt(B.substring(ie,ie+G),V);G<8?(G=T(Math.pow(V,G)),ae=ae.j(G).add(T(K))):(ae=ae.j(q),ae=ae.add(T(K)))}return ae}var k=b(0),F=b(1),Y=b(16777216);r=g.prototype,r.m=function(){if(_e(this))return-te(this).m();let B=0,V=1;for(let q=0;q<this.g.length;q++){const ae=this.i(q);B+=(ae>=0?ae:4294967296+ae)*V,V*=4294967296}return B},r.toString=function(B){if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(Z(this))return"0";if(_e(this))return"-"+te(this).toString(B);const V=T(Math.pow(B,6));var q=this;let ae="";for(;;){const G=oe(q,V).g;q=Ee(q,G.j(V));let ie=((q.g.length>0?q.g[0]:q.h)>>>0).toString(B);if(q=G,Z(q))return ie+ae;for(;ie.length<6;)ie="0"+ie;ae=ie+ae}},r.i=function(B){return B<0?0:B<this.g.length?this.g[B]:this.h};function Z(B){if(B.h!=0)return!1;for(let V=0;V<B.g.length;V++)if(B.g[V]!=0)return!1;return!0}function _e(B){return B.h==-1}r.l=function(B){return B=Ee(this,B),_e(B)?-1:Z(B)?0:1};function te(B){const V=B.g.length,q=[];for(let ae=0;ae<V;ae++)q[ae]=~B.g[ae];return new g(q,~B.h).add(F)}r.abs=function(){return _e(this)?te(this):this},r.add=function(B){const V=Math.max(this.g.length,B.g.length),q=[];let ae=0;for(let G=0;G<=V;G++){let ie=ae+(this.i(G)&65535)+(B.i(G)&65535),K=(ie>>>16)+(this.i(G)>>>16)+(B.i(G)>>>16);ae=K>>>16,ie&=65535,K&=65535,q[G]=K<<16|ie}return new g(q,q[q.length-1]&-2147483648?-1:0)};function Ee(B,V){return B.add(te(V))}r.j=function(B){if(Z(this)||Z(B))return k;if(_e(this))return _e(B)?te(this).j(te(B)):te(te(this).j(B));if(_e(B))return te(this.j(te(B)));if(this.l(Y)<0&&B.l(Y)<0)return T(this.m()*B.m());const V=this.g.length+B.g.length,q=[];for(var ae=0;ae<2*V;ae++)q[ae]=0;for(ae=0;ae<this.g.length;ae++)for(let G=0;G<B.g.length;G++){const ie=this.i(ae)>>>16,K=this.i(ae)&65535,st=B.i(G)>>>16,ce=B.i(G)&65535;q[2*ae+2*G]+=K*ce,X(q,2*ae+2*G),q[2*ae+2*G+1]+=ie*ce,X(q,2*ae+2*G+1),q[2*ae+2*G+1]+=K*st,X(q,2*ae+2*G+1),q[2*ae+2*G+2]+=ie*st,X(q,2*ae+2*G+2)}for(B=0;B<V;B++)q[B]=q[2*B+1]<<16|q[2*B];for(B=V;B<2*V;B++)q[B]=0;return new g(q,0)};function X(B,V){for(;(B[V]&65535)!=B[V];)B[V+1]+=B[V]>>>16,B[V]&=65535,V++}function ne(B,V){this.g=B,this.h=V}function oe(B,V){if(Z(V))throw Error("division by zero");if(Z(B))return new ne(k,k);if(_e(B))return V=oe(te(B),V),new ne(te(V.g),te(V.h));if(_e(V))return V=oe(B,te(V)),new ne(te(V.g),V.h);if(B.g.length>30){if(_e(B)||_e(V))throw Error("slowDivide_ only works with positive integers.");for(var q=F,ae=V;ae.l(B)<=0;)q=he(q),ae=he(ae);var G=xe(q,1),ie=xe(ae,1);for(ae=xe(ae,2),q=xe(q,2);!Z(ae);){var K=ie.add(ae);K.l(B)<=0&&(G=G.add(q),ie=K),ae=xe(ae,1),q=xe(q,1)}return V=Ee(B,G.j(V)),new ne(G,V)}for(G=k;B.l(V)>=0;){for(q=Math.max(1,Math.floor(B.m()/V.m())),ae=Math.ceil(Math.log(q)/Math.LN2),ae=ae<=48?1:Math.pow(2,ae-48),ie=T(q),K=ie.j(V);_e(K)||K.l(B)>0;)q-=ae,ie=T(q),K=ie.j(V);Z(ie)&&(ie=F),G=G.add(ie),B=Ee(B,K)}return new ne(G,B)}r.B=function(B){return oe(this,B).h},r.and=function(B){const V=Math.max(this.g.length,B.g.length),q=[];for(let ae=0;ae<V;ae++)q[ae]=this.i(ae)&B.i(ae);return new g(q,this.h&B.h)},r.or=function(B){const V=Math.max(this.g.length,B.g.length),q=[];for(let ae=0;ae<V;ae++)q[ae]=this.i(ae)|B.i(ae);return new g(q,this.h|B.h)},r.xor=function(B){const V=Math.max(this.g.length,B.g.length),q=[];for(let ae=0;ae<V;ae++)q[ae]=this.i(ae)^B.i(ae);return new g(q,this.h^B.h)};function he(B){const V=B.g.length+1,q=[];for(let ae=0;ae<V;ae++)q[ae]=B.i(ae)<<1|B.i(ae-1)>>>31;return new g(q,B.h)}function xe(B,V){const q=V>>5;V%=32;const ae=B.g.length-q,G=[];for(let ie=0;ie<ae;ie++)G[ie]=V>0?B.i(ie+q)>>>V|B.i(ie+q+1)<<32-V:B.i(ie+q);return new g(G,B.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,bT=s,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.B,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=T,g.fromString=x,eu=g}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TT,td,ST,ug,Uv,wT,AT,CT;(function(){var r,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var A=0;A<m.length;++A){var N=m[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=n(this);function u(m,A){if(A)e:{var N=s;m=m.split(".");for(var H=0;H<m.length-1;H++){var Re=m[H];if(!(Re in N))break e;N=N[Re]}m=m[m.length-1],H=N[m],A=A(H),A!=H&&A!=null&&e(N,m,{configurable:!0,writable:!0,value:A})}}u("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(m){return m||function(A){var N=[],H;for(H in A)Object.prototype.hasOwnProperty.call(A,H)&&N.push([H,A[H]]);return N}});var d=d||{},g=this||self;function E(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function b(m,A,N){return m.call.apply(m.bind,arguments)}function T(m,A,N){return T=b,T.apply(null,arguments)}function x(m,A){var N=Array.prototype.slice.call(arguments,1);return function(){var H=N.slice();return H.push.apply(H,arguments),m.apply(this,H)}}function k(m,A){function N(){}N.prototype=A.prototype,m.Z=A.prototype,m.prototype=new N,m.prototype.constructor=m,m.Ob=function(H,Re,Oe){for(var Ke=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)Ke[Lt-2]=arguments[Lt];return A.prototype[Re].apply(H,Ke)}}var F=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function Y(m){const A=m.length;if(A>0){const N=Array(A);for(let H=0;H<A;H++)N[H]=m[H];return N}return[]}function Z(m,A){for(let H=1;H<arguments.length;H++){const Re=arguments[H];var N=typeof Re;if(N=N!="object"?N:Re?Array.isArray(Re)?"array":N:"null",N=="array"||N=="object"&&typeof Re.length=="number"){N=m.length||0;const Oe=Re.length||0;m.length=N+Oe;for(let Ke=0;Ke<Oe;Ke++)m[N+Ke]=Re[Ke]}else m.push(Re)}}class _e{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function te(m){g.setTimeout(()=>{throw m},0)}function Ee(){var m=B;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class X{constructor(){this.h=this.g=null}add(A,N){const H=ne.get();H.set(A,N),this.h?this.h.next=H:this.g=H,this.h=H}}var ne=new _e(()=>new oe,m=>m.reset());class oe{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let he,xe=!1,B=new X,V=()=>{const m=Promise.resolve(void 0);he=()=>{m.then(q)}};function q(){for(var m;m=Ee();){try{m.h.call(m.g)}catch(N){te(N)}var A=ne;A.j(m),A.h<100&&(A.h++,m.next=A.g,A.g=m)}xe=!1}function ae(){this.u=this.u,this.C=this.C}ae.prototype.u=!1,ae.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ae.prototype[Symbol.dispose]=function(){this.dispose()},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var ie=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};g.addEventListener("test",N,A),g.removeEventListener("test",N,A)}catch{}return m})();function K(m){return/^[\s\xa0]*$/.test(m)}function st(m,A){G.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,A)}k(st,G),st.prototype.init=function(m,A){const N=this.type=m.type,H=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget,A||(N=="mouseover"?A=m.fromElement:N=="mouseout"&&(A=m.toElement)),this.relatedTarget=A,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),ue=0;function we(m,A,N,H,Re){this.listener=m,this.proxy=null,this.src=A,this.type=N,this.capture=!!H,this.ha=Re,this.key=++ue,this.da=this.fa=!1}function Ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ot(m,A,N){for(const H in m)A.call(N,m[H],H,m)}function St(m,A){for(const N in m)A.call(void 0,m[N],N,m)}function fe(m){const A={};for(const N in m)A[N]=m[N];return A}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,A){let N,H;for(let Re=1;Re<arguments.length;Re++){H=arguments[Re];for(N in H)m[N]=H[N];for(let Oe=0;Oe<z.length;Oe++)N=z[Oe],Object.prototype.hasOwnProperty.call(H,N)&&(m[N]=H[N])}}function ge(m){this.src=m,this.g={},this.h=0}ge.prototype.add=function(m,A,N,H,Re){const Oe=m.toString();m=this.g[Oe],m||(m=this.g[Oe]=[],this.h++);const Ke=$e(m,A,H,Re);return Ke>-1?(A=m[Ke],N||(A.fa=!1)):(A=new we(A,this.src,Oe,!!H,Re),A.fa=N,m.push(A)),A};function Je(m,A){const N=A.type;if(N in m.g){var H=m.g[N],Re=Array.prototype.indexOf.call(H,A,void 0),Oe;(Oe=Re>=0)&&Array.prototype.splice.call(H,Re,1),Oe&&(Ve(A),m.g[N].length==0&&(delete m.g[N],m.h--))}}function $e(m,A,N,H){for(let Re=0;Re<m.length;++Re){const Oe=m[Re];if(!Oe.da&&Oe.listener==A&&Oe.capture==!!N&&Oe.ha==H)return Re}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),kt={};function Tt(m,A,N,H,Re){if(Array.isArray(A)){for(let Oe=0;Oe<A.length;Oe++)Tt(m,A[Oe],N,H,Re);return null}return N=yn(N),m&&m[ce]?m.J(A,N,E(H)?!!H.capture:!1,Re):Kt(m,A,N,!1,H,Re)}function Kt(m,A,N,H,Re,Oe){if(!A)throw Error("Invalid event type");const Ke=E(Re)?!!Re.capture:!!Re;let Lt=Fn(m);if(Lt||(m[dt]=Lt=new ge(m)),N=Lt.add(A,N,H,Ke,Oe),N.proxy)return N;if(H=xt(),N.proxy=H,H.src=m,H.listener=N,m.addEventListener)ie||(Re=Ke),Re===void 0&&(Re=!1),m.addEventListener(A.toString(),H,Re);else if(m.attachEvent)m.attachEvent(sn(A.toString()),H);else if(m.addListener&&m.removeListener)m.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return N}function xt(){function m(N){return A.call(m.src,m.listener,N)}const A=ut;return m}function Ft(m,A,N,H,Re){if(Array.isArray(A))for(var Oe=0;Oe<A.length;Oe++)Ft(m,A[Oe],N,H,Re);else H=E(H)?!!H.capture:!!H,N=yn(N),m&&m[ce]?(m=m.i,Oe=String(A).toString(),Oe in m.g&&(A=m.g[Oe],N=$e(A,N,H,Re),N>-1&&(Ve(A[N]),Array.prototype.splice.call(A,N,1),A.length==0&&(delete m.g[Oe],m.h--)))):m&&(m=Fn(m))&&(A=m.g[A.toString()],m=-1,A&&(m=$e(A,N,H,Re)),(N=m>-1?A[m]:null)&&un(N))}function un(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[ce])Je(A.i,m);else{var N=m.type,H=m.proxy;A.removeEventListener?A.removeEventListener(N,H,m.capture):A.detachEvent?A.detachEvent(sn(N),H):A.addListener&&A.removeListener&&A.removeListener(H),(N=Fn(A))?(Je(N,m),N.h==0&&(N.src=null,A[dt]=null)):Ve(m)}}}function sn(m){return m in kt?kt[m]:kt[m]="on"+m}function ut(m,A){if(m.da)m=!0;else{A=new st(A,this);const N=m.listener,H=m.ha||m.src;m.fa&&un(m),m=N.call(H,A)}return m}function Fn(m){return m=m[dt],m instanceof ge?m:null}var li="__closure_events_fn_"+(Math.random()*1e9>>>0);function yn(m){return typeof m=="function"?m:(m[li]||(m[li]=function(A){return m.handleEvent(A)}),m[li])}function tn(){ae.call(this),this.i=new ge(this),this.M=this,this.G=null}k(tn,ae),tn.prototype[ce]=!0,tn.prototype.removeEventListener=function(m,A,N,H){Ft(this,m,A,N,H)};function et(m,A){var N,H=m.G;if(H)for(N=[];H;H=H.G)N.push(H);if(m=m.M,H=A.type||A,typeof A=="string")A=new G(A,m);else if(A instanceof G)A.target=A.target||m;else{var Re=A;A=new G(H,m),I(A,Re)}Re=!0;let Oe,Ke;if(N)for(Ke=N.length-1;Ke>=0;Ke--)Oe=A.g=N[Ke],Re=mn(Oe,H,!0,A)&&Re;if(Oe=A.g=m,Re=mn(Oe,H,!0,A)&&Re,Re=mn(Oe,H,!1,A)&&Re,N)for(Ke=0;Ke<N.length;Ke++)Oe=A.g=N[Ke],Re=mn(Oe,H,!1,A)&&Re}tn.prototype.N=function(){if(tn.Z.N.call(this),this.i){var m=this.i;for(const A in m.g){const N=m.g[A];for(let H=0;H<N.length;H++)Ve(N[H]);delete m.g[A],m.h--}}this.G=null},tn.prototype.J=function(m,A,N,H){return this.i.add(String(m),A,!1,N,H)},tn.prototype.K=function(m,A,N,H){return this.i.add(String(m),A,!0,N,H)};function mn(m,A,N,H){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();let Re=!0;for(let Oe=0;Oe<A.length;++Oe){const Ke=A[Oe];if(Ke&&!Ke.da&&Ke.capture==N){const Lt=Ke.listener,jn=Ke.ha||Ke.src;Ke.fa&&Je(m.i,Ke),Re=Lt.call(jn,H)!==!1&&Re}}return Re&&!H.defaultPrevented}function er(m,A){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=T(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:g.setTimeout(m,A||0)}function Kr(m){m.g=er(()=>{m.g=null,m.i&&(m.i=!1,Kr(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Se extends ae{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ce(m){ae.call(this),this.h=m,this.g={}}k(Ce,ae);var de=[];function P(m){ot(m.g,function(A,N){this.g.hasOwnProperty(N)&&un(A)},m),m.g={}}Ce.prototype.N=function(){Ce.Z.N.call(this),P(this)},Ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var M=g.JSON.stringify,le=g.JSON.parse,w=class{stringify(m){return g.JSON.stringify(m,void 0)}parse(m){return g.JSON.parse(m,void 0)}};function L(){}function W(){}var $={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ee(){G.call(this,"d")}k(ee,G);function ye(){G.call(this,"c")}k(ye,G);var re={},J=null;function Te(){return J=J||new tn}re.Ia="serverreachability";function me(m){G.call(this,re.Ia,m)}k(me,G);function Qe(m){const A=Te();et(A,new me(A))}re.STAT_EVENT="statevent";function nt(m,A){G.call(this,re.STAT_EVENT,m),this.stat=A}k(nt,G);function Xe(m){const A=Te();et(A,new nt(A,m))}re.Ja="timingevent";function We(m,A){G.call(this,re.Ja,m),this.size=A}k(We,G);function pt(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){m()},A)}function mt(){this.g=!0}mt.prototype.ua=function(){this.g=!1};function At(m,A,N,H,Re,Oe){m.info(function(){if(m.g)if(Oe){var Ke="",Lt=Oe.split("&");for(let qt=0;qt<Lt.length;qt++){var jn=Lt[qt].split("=");if(jn.length>1){const On=jn[0];jn=jn[1];const Tr=On.split("_");Ke=Tr.length>=2&&Tr[1]=="type"?Ke+(On+"="+jn+"&"):Ke+(On+"=redacted&")}}}else Ke=null;else Ke=Oe;return"XMLHTTP REQ ("+H+") [attempt "+Re+"]: "+A+`
`+N+`
`+Ke})}function yt(m,A,N,H,Re,Oe,Ke){m.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+Re+"]: "+A+`
`+N+`
`+Oe+" "+Ke})}function Bt(m,A,N,H){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+Bn(m,N)+(H?" "+H:"")})}function Yt(m,A){m.info(function(){return"TIMEOUT: "+A})}mt.prototype.info=function(){};function Bn(m,A){if(!m.g)return A;if(!A)return null;try{const Oe=JSON.parse(A);if(Oe){for(m=0;m<Oe.length;m++)if(Array.isArray(Oe[m])){var N=Oe[m];if(!(N.length<2)){var H=N[1];if(Array.isArray(H)&&!(H.length<1)){var Re=H[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(let Ke=1;Ke<H.length;Ke++)H[Ke]=""}}}}return M(Oe)}catch{return A}}var zn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ha;function kr(){}k(kr,L),kr.prototype.g=function(){return new XMLHttpRequest},ha=new kr;function Ir(m){return encodeURIComponent(String(m))}function ys(m){var A=1;m=m.split(":");const N=[];for(;A>0&&m.length;)N.push(m.shift()),A--;return m.length&&N.push(m.join(":")),N}function Ui(m,A,N,H){this.j=m,this.i=A,this.l=N,this.S=H||1,this.V=new Ce(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var Hn={},Ht={};function ui(m,A,N){m.M=1,m.A=va(Fe(A)),m.u=N,m.R=!0,Li(m,null)}function Li(m,A){m.F=Date.now(),yr(m),m.B=Fe(m.A);var N=m.B,H=m.S;Array.isArray(H)||(H=[String(H)]),ao(N.i,"t",H),m.C=0,N=m.j.L,m.h=new Vi,m.g=mc(m.j,N?A:null,!m.u),m.P>0&&(m.O=new Se(T(m.Y,m,m.g),m.P)),A=m.V,N=m.g,H=m.ba;var Re="readystatechange";Array.isArray(Re)||(Re&&(de[0]=Re.toString()),Re=de);for(let Oe=0;Oe<Re.length;Oe++){const Ke=Tt(N,Re[Oe],H||A.handleEvent,!1,A.h||A);if(!Ke)break;A.g[Ke.key]=Ke}A=m.J?fe(m.J):{},m.u?(m.v||(m.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,A)):(m.v="GET",m.g.ea(m.B,m.v,null,A)),Qe(),At(m.i,m.v,m.B,m.l,m.S,m.u)}Ui.prototype.ba=function(m){m=m.target;const A=this.O;A&&Er(m)==3?A.j():this.Y(m)},Ui.prototype.Y=function(m){try{if(m==this.g)e:{const Lt=Er(this.g),jn=this.g.ya(),qt=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||pi(this.g)))){this.K||Lt!=4||jn==7||(jn==8||qt<=0?Qe(3):Qe(2)),Hi(this);var A=this.g.ca();this.X=A;var N=zi(this);if(this.o=A==200,yt(this.i,this.v,this.B,this.l,this.S,Lt,A),this.o){if(this.U&&!this.L){t:{if(this.g){var H,Re=this.g;if((H=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(H)){var Oe=H;break t}}Oe=null}if(m=Oe)Bt(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,m);else{this.o=!1,this.m=3,Xe(12),_r(this),Ci(this);break e}}if(this.R){m=!0;let On;for(;!this.K&&this.C<N.length;)if(On=da(this,N),On==Ht){Lt==4&&(this.m=4,Xe(14),m=!1),Bt(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Hn){this.m=4,Xe(15),Bt(this.i,this.l,N,"[Invalid Chunk]"),m=!1;break}else Bt(this.i,this.l,On,null),Oi(this,On);if(Ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||N.length!=0||this.h.h||(this.m=1,Xe(16),m=!1),this.o=this.o&&m,!m)Bt(this.i,this.l,N,"[Invalid Chunked Response]"),_r(this),Ci(this);else if(N.length>0&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.aa&&!Ke.P&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),oo(Ke),Ke.P=!0,Xe(11))}}else Bt(this.i,this.l,N,null),Oi(this,N);Lt==4&&_r(this),this.o&&!this.K&&(Lt==4?pc(this.j,this):(this.o=!1,yr(this)))}else Ta(this.g),A==400&&N.indexOf("Unknown SID")>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),_r(this),Ci(this)}}}catch{}};function zi(m){if(!Ai(m))return m.g.la();const A=pi(m.g);if(A==="")return"";let N="";const H=A.length,Re=Er(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return _r(m),Ci(m),"";m.h.i=new g.TextDecoder}for(let Oe=0;Oe<H;Oe++)m.h.h=!0,N+=m.h.i.decode(A[Oe],{stream:!(Re&&Oe==H-1)});return A.length=0,m.h.g+=N,m.C=0,m.h.g}function Ai(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function da(m,A){var N=m.C,H=A.indexOf(`
`,N);return H==-1?Ht:(N=Number(A.substring(N,H)),isNaN(N)?Hn:(H+=1,H+N>A.length?Ht:(A=A.slice(H,H+N),m.C=H+N,A)))}Ui.prototype.cancel=function(){this.K=!0,_r(this)};function yr(m){m.T=Date.now()+m.H,Yr(m,m.H)}function Yr(m,A){if(m.D!=null)throw Error("WatchDog timer not null");m.D=pt(T(m.aa,m),A)}function Hi(m){m.D&&(g.clearTimeout(m.D),m.D=null)}Ui.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Yt(this.i,this.B),this.M!=2&&(Qe(),Xe(17)),_r(this),this.m=2,Ci(this)):Yr(this,this.T-m)};function Ci(m){m.j.I==0||m.K||pc(m.j,m)}function _r(m){Hi(m);var A=m.O;A&&typeof A.dispose=="function"&&A.dispose(),m.O=null,P(m.V),m.g&&(A=m.g,m.g=null,A.abort(),A.dispose())}function Oi(m,A){try{var N=m.j;if(N.I!=0&&(N.g==m||Mi(N.h,m))){if(!m.L&&Mi(N.h,m)&&N.I==3){try{var H=N.Ba.g.parse(A)}catch{H=null}if(Array.isArray(H)&&H.length==3){var Re=H;if(Re[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<m.F)el(N),gi(N);else break e;wa(N),Xe(18)}}else N.xa=Re[1],0<N.xa-N.K&&Re[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=pt(T(N.Va,N),6e3));rt(N.h)<=1&&N.ta&&(N.ta=void 0)}else Aa(N,11)}else if((m.L||N.g==m)&&el(N),!K(A))for(Re=N.Ba.g.parse(A),A=0;A<Re.length;A++){let qt=Re[A];const On=qt[0];if(!(On<=N.K))if(N.K=On,qt=qt[1],N.I==2)if(qt[0]=="c"){N.M=qt[1],N.ba=qt[2];const Tr=qt[3];Tr!=null&&(N.ka=Tr,N.j.info("VER="+N.ka));const Da=qt[4];Da!=null&&(N.za=Da,N.j.info("SVER="+N.za));const Sr=qt[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(H=1.5*Sr,N.O=H,N.j.info("backChannelRequestTimeoutMs_="+H)),H=N;const Pr=m.g;if(Pr){const lo=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var Oe=H.h;Oe.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(eo(Oe,Oe.h),Oe.h=null))}if(H.G){const tl=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(H.wa=tl,nn(H.J,H.G,tl))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-m.F,N.j.info("Handshake RTT: "+N.T+"ms")),H=N;var Ke=m;if(H.na=Eu(H,H.L?H.ba:null,H.W),Ke.L){tr(H.h,Ke);var Lt=Ke,jn=H.O;jn&&(Lt.H=jn),Lt.D&&(Hi(Lt),yr(Lt)),H.g=Ke}else Mr(H);N.i.length>0&&Sa(N)}else qt[0]!="stop"&&qt[0]!="close"||Aa(N,7);else N.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Aa(N,7):Xo(N):qt[0]!="noop"&&N.l&&N.l.qa(qt),N.A=0)}}Qe(4)}catch{}}var qn=class{constructor(m,A){this.g=m,this.map=A}};function Go(m){this.l=m||10,g.PerformanceNavigationTiming?(m=g.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kn(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function rt(m){return m.h?1:m.g?m.g.size:0}function Mi(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function eo(m,A){m.g?m.g.add(A):m.h=A}function tr(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}Go.prototype.cancel=function(){if(this.i=Qt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Qt(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const N of m.g.values())A=A.concat(N.G);return A}return Y(m.i)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(m,A){if(m){m=m.split("&");for(let N=0;N<m.length;N++){const H=m[N].indexOf("=");let Re,Oe=null;H>=0?(Re=m[N].substring(0,H),Oe=m[N].substring(H+1)):Re=m[N],A(Re,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function qi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;m instanceof qi?(this.l=m.l,ct(this,m.j),this.o=m.o,this.g=m.g,ma(this,m.u),this.h=m.h,to(this,vu(m.i)),this.m=m.m):m&&(A=String(m).match(pa))?(this.l=!1,ct(this,A[1]||"",!0),this.o=Qr(A[2]||""),this.g=Qr(A[3]||"",!0),ma(this,A[4]),this.h=Qr(A[5]||"",!0),to(this,A[6]||"",!0),this.m=Qr(A[7]||"")):(this.l=!1,this.i=new Nr(null,this.l))}qi.prototype.toString=function(){const m=[];var A=this.j;A&&m.push(_t(A,no,!0),":");var N=this.g;return(N||A=="file")&&(m.push("//"),(A=this.o)&&m.push(_t(A,no,!0),"@"),m.push(Ir(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&m.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(_t(N,N.charAt(0)=="/"?ir:io,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",_t(N,gu)),m.join("")},qi.prototype.resolve=function(m){const A=Fe(this);let N=!!m.j;N?ct(A,m.j):N=!!m.o,N?A.o=m.o:N=!!m.g,N?A.g=m.g:N=m.u!=null;var H=m.h;if(N)ma(A,m.u);else if(N=!!m.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var Re=A.h.lastIndexOf("/");Re!=-1&&(H=A.h.slice(0,Re+1)+H)}if(Re=H,Re==".."||Re==".")H="";else if(Re.indexOf("./")!=-1||Re.indexOf("/.")!=-1){H=Re.lastIndexOf("/",0)==0,Re=Re.split("/");const Oe=[];for(let Ke=0;Ke<Re.length;){const Lt=Re[Ke++];Lt=="."?H&&Ke==Re.length&&Oe.push(""):Lt==".."?((Oe.length>1||Oe.length==1&&Oe[0]!="")&&Oe.pop(),H&&Ke==Re.length&&Oe.push("")):(Oe.push(Lt),H=!0)}H=Oe.join("/")}else H=Re}return N?A.h=H:N=m.i.toString()!=="",N?to(A,vu(m.i)):N=!!m.m,N&&(A.m=m.m),A};function Fe(m){return new qi(m)}function ct(m,A,N){m.j=N?Qr(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function ma(m,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);m.u=A}else m.u=null}function to(m,A,N){A instanceof Nr?(m.i=A,Ko(m.i,m.l)):(N||(A=_t(A,za)),m.i=new Nr(A,m.l))}function nn(m,A,N){m.i.set(A,N)}function va(m){return nn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Qr(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function _t(m,A,N){return typeof m=="string"?(m=encodeURI(m).replace(A,nr),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function nr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var no=/[#\/\?@]/g,io=/[#\?:]/g,ir=/[#\?]/g,za=/[#\?@]/g,gu=/#/g;function Nr(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function Pi(m){m.g||(m.g=new Map,m.h=0,m.i&&ga(m.i,function(A,N){m.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}r=Nr.prototype,r.add=function(m,A){Pi(this),this.i=null,m=Ha(this,m);let N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(A),this.h+=1,this};function mu(m,A){Pi(m),A=Ha(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function ro(m,A){return Pi(m),A=Ha(m,A),m.g.has(A)}r.forEach=function(m,A){Pi(this),this.g.forEach(function(N,H){N.forEach(function(Re){m.call(A,Re,H,this)},this)},this)};function Wo(m,A){Pi(m);let N=[];if(typeof A=="string")ro(m,A)&&(N=N.concat(m.g.get(Ha(m,A))));else for(m=Array.from(m.g.values()),A=0;A<m.length;A++)N=N.concat(m[A]);return N}r.set=function(m,A){return Pi(this),this.i=null,m=Ha(this,m),ro(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},r.get=function(m,A){return m?(m=Wo(this,m),m.length>0?String(m[0]):A):A};function ao(m,A,N){mu(m,A),N.length>0&&(m.i=null,m.g.set(Ha(m,A),Y(N)),m.h+=N.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(let H=0;H<A.length;H++){var N=A[H];const Re=Ir(N);N=Wo(this,N);for(let Oe=0;Oe<N.length;Oe++){let Ke=Re;N[Oe]!==""&&(Ke+="="+Ir(N[Oe])),m.push(Ke)}}return this.i=m.join("&")};function vu(m){const A=new Nr;return A.i=m.i,m.g&&(A.g=new Map(m.g),A.h=m.h),A}function Ha(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function Ko(m,A){A&&!m.j&&(Pi(m),m.i=null,m.g.forEach(function(N,H){const Re=H.toLowerCase();H!=Re&&(mu(this,H),ao(this,Re,N))},m)),m.j=A}function Xr(m,A){const N=new mt;if(g.Image){const H=new Image;H.onload=x(ti,N,"TestLoadImage: loaded",!0,A,H),H.onerror=x(ti,N,"TestLoadImage: error",!1,A,H),H.onabort=x(ti,N,"TestLoadImage: abort",!1,A,H),H.ontimeout=x(ti,N,"TestLoadImage: timeout",!1,A,H),g.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=m}else A(!1)}function Yo(m,A){const N=new mt,H=new AbortController,Re=setTimeout(()=>{H.abort(),ti(N,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:H.signal}).then(Oe=>{clearTimeout(Re),Oe.ok?ti(N,"TestPingServer: ok",!0,A):ti(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Re),ti(N,"TestPingServer: error",!1,A)})}function ti(m,A,N,H,Re){try{Re&&(Re.onload=null,Re.onerror=null,Re.onabort=null,Re.ontimeout=null),H(N)}catch{}}function _s(){this.g=new w}function ya(m){this.i=m.Sb||null,this.h=m.ab||!1}k(ya,L),ya.prototype.g=function(){return new _a(this.i,this.h)};function _a(m,A){tn.call(this),this.H=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}k(_a,tn),r=_a.prototype,r.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=A,this.readyState=1,$r(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(A.body=m),(this.H||g).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},r.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}r.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?Es(this):$r(this),this.readyState==3&&Ea(this)}},r.Oa=function(m){this.g&&(this.response=this.responseText=m,Es(this))},r.Na=function(m){this.g&&(this.response=m,Es(this))},r.ga=function(){this.g&&Es(this)};function Es(m){m.readyState=4,m.l=null,m.j=null,m.B=null,$r(m)}r.setRequestHeader=function(m,A){this.A.append(m,A)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=A.next();return m.join(`\r
`)};function $r(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Lr(m){let A="";return ot(m,function(N,H){A+=H,A+=":",A+=N,A+=`\r
`}),A}function so(m,A,N){e:{for(H in N){var H=!1;break e}H=!0}H||(N=Lr(N),typeof m=="string"?N!=null&&Ir(N):nn(m,A,N))}function cn(m){tn.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}k(cn,tn);var Zr=/^https?$/i,yu=["POST","PUT"];r=cn.prototype,r.Fa=function(m){this.H=m},r.ea=function(m,A,N,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ha.g(),this.g.onreadystatechange=F(T(this.Ca,this));try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(Oe){bs(this,Oe);return}if(m=N||"",N=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var Re in H)N.set(Re,H[Re]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const Oe of H.keys())N.set(Oe,H.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(N.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Re=g.FormData&&m instanceof g.FormData,!(Array.prototype.indexOf.call(yu,A,void 0)>=0)||H||Re||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Ke]of N)this.g.setRequestHeader(Oe,Ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Oe){bs(this,Oe)}};function bs(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.o=5,Qo(m),Or(m)}function Qo(m){m.A||(m.A=!0,et(m,"complete"),et(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,et(this,"complete"),et(this,"abort"),Or(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Or(this,!0)),cn.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ba(this):this.Xa())},r.Xa=function(){ba(this)};function ba(m){if(m.h&&typeof d<"u"){if(m.v&&Er(m)==4)setTimeout(m.Ca.bind(m),0);else if(et(m,"readystatechange"),Er(m)==4){m.h=!1;try{const Oe=m.ca();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var H;if(H=Oe===0){let Ke=String(m.D).match(pa)[1]||null;!Ke&&g.self&&g.self.location&&(Ke=g.self.location.protocol.slice(0,-1)),H=!Zr.test(Ke?Ke.toLowerCase():"")}N=H}if(N)et(m,"complete"),et(m,"success");else{m.o=6;try{var Re=Er(m)>2?m.g.statusText:""}catch{Re=""}m.l=Re+" ["+m.ca()+"]",Qo(m)}}finally{Or(m)}}}}function Or(m,A){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const N=m.g;m.g=null,A||et(m,"ready");try{N.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Er(m){return m.g?m.g.readyState:0}r.ca=function(){try{return Er(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),le(A)}};function pi(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(m){const A={};m=(m.g&&Er(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<m.length;H++){if(K(m[H]))continue;var N=ys(m[H]);const Re=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Oe=A[Re]||[];A[Re]=Oe,Oe.push(N)}St(A,function(H){return H.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(m,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||A}function Ts(m){this.za=0,this.i=[],this.j=new mt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=br("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=br("baseRetryDelayMs",5e3,m),this.Za=br("retryDelaySeedMs",1e4,m),this.Ta=br("forwardChannelMaxRetries",2,m),this.va=br("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(m&&m.concurrentRequestLimit),this.Ba=new _s,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ts.prototype,r.ka=8,r.I=1,r.connect=function(m,A,N,H){Xe(0),this.W=m,this.H=A||{},N&&H!==void 0&&(this.H.OSID=N,this.H.OAID=H),this.F=this.X,this.J=Eu(this,null,this.W),Sa(this)};function Xo(m){if($o(m),m.I==3){var A=m.V++,N=Fe(m.J);if(nn(N,"SID",m.M),nn(N,"RID",A),nn(N,"TYPE","terminate"),rr(m,N),A=new Ui(m,m.j,A),A.M=2,A.A=va(Fe(N)),N=!1,g.navigator&&g.navigator.sendBeacon)try{N=g.navigator.sendBeacon(A.A.toString(),"")}catch{}!N&&g.Image&&(new Image().src=A.A,N=!0),N||(A.g=mc(A.j,null),A.g.ea(A.A)),A.F=Date.now(),yr(A)}_u(m)}function gi(m){m.g&&(oo(m),m.g.cancel(),m.g=null)}function $o(m){gi(m),m.v&&(g.clearTimeout(m.v),m.v=null),el(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&g.clearTimeout(m.m),m.m=null)}function Sa(m){if(!kn(m.h)&&!m.m){m.m=!0;var A=m.Ea;he||V(),xe||(he(),xe=!0),B.add(A,m),m.D=0}}function Ss(m,A){return rt(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=A.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=pt(T(m.Ea,m,A),gc(m,m.D)),m.D++,!0)}r.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Re=new Ui(this,this.j,m);let Oe=this.o;if(this.U&&(Oe?(Oe=fe(Oe),I(Oe,this.U)):Oe=this.U),this.u!==null||this.R||(Re.J=Oe,Oe=null),this.S)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var H=this.i[N];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(A+=H,A>4096){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=Jo(this,Re,A),N=Fe(this.J),nn(N,"RID",m),nn(N,"CVER",22),this.G&&nn(N,"X-HTTP-Session-Id",this.G),rr(this,N),Oe&&(this.R?A="headers="+Ir(Lr(Oe))+"&"+A:this.u&&so(N,this.u,Oe)),eo(this.h,Re),this.Ra&&nn(N,"TYPE","init"),this.S?(nn(N,"$req",A),nn(N,"SID","null"),Re.U=!0,ui(Re,N,null)):ui(Re,N,A),this.I=2}}else this.I==3&&(m?Zo(this,m):this.i.length==0||kn(this.h)||Zo(this))};function Zo(m,A){var N;A?N=A.l:N=m.V++;const H=Fe(m.J);nn(H,"SID",m.M),nn(H,"RID",N),nn(H,"AID",m.K),rr(m,H),m.u&&m.o&&so(H,m.u,m.o),N=new Ui(m,m.j,N,m.D+1),m.u===null&&(N.J=m.o),A&&(m.i=A.G.concat(m.i)),A=Jo(m,N,1e3),N.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),eo(m.h,N),ui(N,H,A)}function rr(m,A){m.H&&ot(m.H,function(N,H){nn(A,H,N)}),m.l&&ot({},function(N,H){nn(A,H,N)})}function Jo(m,A,N){N=Math.min(m.i.length,N);const H=m.l?T(m.l.Ka,m.l,m):null;e:{var Re=m.i;let Lt=-1;for(;;){const jn=["count="+N];Lt==-1?N>0?(Lt=Re[0].g,jn.push("ofs="+Lt)):Lt=0:jn.push("ofs="+Lt);let qt=!0;for(let On=0;On<N;On++){var Oe=Re[On].g;const Tr=Re[On].map;if(Oe-=Lt,Oe<0)Lt=Math.max(0,Re[On].g-100),qt=!1;else try{Oe="req"+Oe+"_"||"";try{var Ke=Tr instanceof Map?Tr:Object.entries(Tr);for(const[Da,Sr]of Ke){let Pr=Sr;E(Sr)&&(Pr=M(Sr)),jn.push(Oe+Da+"="+encodeURIComponent(Pr))}}catch(Da){throw jn.push(Oe+"type="+encodeURIComponent("_badmap")),Da}}catch{H&&H(Tr)}}if(qt){Ke=jn.join("&");break e}}Ke=void 0}return m=m.i.splice(0,N),A.G=m,Ke}function Mr(m){if(!m.g&&!m.v){m.Y=1;var A=m.Da;he||V(),xe||(he(),xe=!0),B.add(A,m),m.A=0}}function wa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=pt(T(m.Da,m),gc(m,m.A)),m.A++,!0)}r.Da=function(){if(this.v=null,qa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=pt(T(this.Wa,this),m)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xe(10),gi(this),qa(this))};function oo(m){m.B!=null&&(g.clearTimeout(m.B),m.B=null)}function qa(m){m.g=new Ui(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var A=Fe(m.na);nn(A,"RID","rpc"),nn(A,"SID",m.M),nn(A,"AID",m.K),nn(A,"CI",m.F?"0":"1"),!m.F&&m.ia&&nn(A,"TO",m.ia),nn(A,"TYPE","xmlhttp"),rr(m,A),m.u&&m.o&&so(A,m.u,m.o),m.O&&(m.g.H=m.O);var N=m.g;m=m.ba,N.M=1,N.A=va(Fe(A)),N.u=null,N.R=!0,Li(N,m)}r.Va=function(){this.C!=null&&(this.C=null,gi(this),wa(this),Xe(19))};function el(m){m.C!=null&&(g.clearTimeout(m.C),m.C=null)}function pc(m,A){var N=null;if(m.g==A){el(m),oo(m),m.g=null;var H=2}else if(Mi(m.h,A))N=A.G,tr(m.h,A),H=1;else return;if(m.I!=0){if(A.o)if(H==1){N=A.u?A.u.length:0,A=Date.now()-A.F;var Re=m.D;H=Te(),et(H,new We(H,N)),Sa(m)}else Mr(m);else if(Re=A.m,Re==3||Re==0&&A.X>0||!(H==1&&Ss(m,A)||H==2&&wa(m)))switch(N&&N.length>0&&(A=m.h,A.i=A.i.concat(N)),Re){case 1:Aa(m,5);break;case 4:Aa(m,10);break;case 3:Aa(m,6);break;default:Aa(m,2)}}}function gc(m,A){let N=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(N*=2),N*A}function Aa(m,A){if(m.j.info("Error code "+A),A==2){var N=T(m.bb,m),H=m.Ua;const Re=!H;H=new qi(H||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ct(H,"https"),va(H),Re?Xr(H.toString(),N):Yo(H.toString(),N)}else Xe(2);m.I=0,m.l&&m.l.pa(A),_u(m),$o(m)}r.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function _u(m){if(m.I=0,m.ja=[],m.l){const A=Qt(m.h);(A.length!=0||m.i.length!=0)&&(Z(m.ja,A),Z(m.ja,m.i),m.h.i.length=0,Y(m.i),m.i.length=0),m.l.oa()}}function Eu(m,A,N){var H=N instanceof qi?Fe(N):new qi(N);if(H.g!="")A&&(H.g=A+"."+H.g),ma(H,H.u);else{var Re=g.location;H=Re.protocol,A=A?A+"."+Re.hostname:Re.hostname,Re=+Re.port;const Oe=new qi(null);H&&ct(Oe,H),A&&(Oe.g=A),Re&&ma(Oe,Re),N&&(Oe.h=N),H=Oe}return N=m.G,A=m.wa,N&&A&&nn(H,N,A),nn(H,"VER",m.ka),rr(m,H),H}function mc(m,A,N){if(A&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Aa&&!m.ma?new cn(new ya({ab:N})):new cn(m.ma),A.Fa(m.L),A}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}r=vc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ws(){}ws.prototype.g=function(m,A){return new ji(m,A)};function ji(m,A){tn.call(this),this.g=new Ts(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(m?m["X-WebChannel-Client-Profile"]=A.sa:m={"X-WebChannel-Client-Profile":A.sa}),this.g.U=m,(m=A&&A.Qb)&&!K(m)&&(this.g.u=m),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!K(A)&&(this.g.G=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Ca(this)}k(ji,tn),ji.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ji.prototype.close=function(){Xo(this.g)},ji.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.v&&(N={},N.__data__=M(m),m=N);A.i.push(new qn(A.Ya++,m)),A.I==3&&Sa(A)},ji.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,ji.Z.N.call(this)};function bu(m){ee.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const N in A){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}k(bu,ee);function yc(){ye.call(this),this.status=1}k(yc,ye);function Ca(m){this.g=m}k(Ca,vc),Ca.prototype.ra=function(){et(this.g,"a")},Ca.prototype.qa=function(m){et(this.g,new bu(m))},Ca.prototype.pa=function(m){et(this.g,new yc)},Ca.prototype.oa=function(){et(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,ji.prototype.send=ji.prototype.o,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,CT=function(){return new ws},AT=function(){return Te()},wT=re,Uv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zn.NO_ERROR=0,zn.TIMEOUT=8,zn.HTTP_ERROR=6,ug=zn,Qn.COMPLETE="complete",ST=Qn,W.EventType=$,$.OPEN="a",$.CLOSE="b",$.ERROR="c",$.MESSAGE="d",tn.prototype.listen=tn.prototype.J,td=W,cn.prototype.listenOnce=cn.prototype.K,cn.prototype.getLastError=cn.prototype.Ha,cn.prototype.getLastErrorCode=cn.prototype.ya,cn.prototype.getStatus=cn.prototype.ca,cn.prototype.getResponseJson=cn.prototype.La,cn.prototype.getResponseText=cn.prototype.la,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Fa,TT=cn}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore",AE="4.9.3";class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");let Ff="12.7.0";const ac=new my("@firebase/firestore");function gf(){return ac.logLevel}function lt(r,...e){if(ac.logLevel<=Zt.DEBUG){const n=e.map(Dy);ac.debug(`Firestore (${Ff}): ${r}`,...n)}}function Ho(r,...e){if(ac.logLevel<=Zt.ERROR){const n=e.map(Dy);ac.error(`Firestore (${Ff}): ${r}`,...n)}}function Df(r,...e){if(ac.logLevel<=Zt.WARN){const n=e.map(Dy);ac.warn(`Firestore (${Ff}): ${r}`,...n)}}function Dy(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Dt(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,DT(r,s,n)}function DT(r,e,n){let s=`FIRESTORE (${Ff}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ho(s),new Error(s)}function vn(r,e,n,s){let u="Unexpected state";typeof n=="string"?u=n:s=n,r||DT(e,u,s)}function Mt(r,e){return r}const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tu{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class xT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gr.UNAUTHENTICATED)))}shutdown(){}}class r2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class a2{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vn(this.o===void 0,42304);let s=this.i;const u=b=>this.i!==s?(s=this.i,n(b)):Promise.resolve();let d=new tu;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new tu,e.enqueueRetryable((()=>u(this.currentUser)))};const g=()=>{const b=d;e.enqueueRetryable((async()=>{await b.promise,await u(this.currentUser)}))},E=b=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit((b=>E(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?E(b):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new tu)}}),0),g()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vn(typeof s.accessToken=="string",31837,{l:s}),new xT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string",2055,{h:e}),new gr(e)}}class s2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new s2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vn(this.o===void 0,3512);const s=d=>{d.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.m;return this.m=d.token,lt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable((()=>s(d)))};const u=d=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((d=>u(d))),setTimeout((()=>{if(!this.appCheck){const d=this.V.getImmediate({optional:!0});d?u(d):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function u2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class xy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=u2(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<n&&(s+=e.charAt(u[d]%62))}return s}}function Jt(r,e){return r<e?-1:r>e?1:0}function Vv(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const u=r.charAt(s),d=e.charAt(s);if(u!==d)return gv(u)===gv(d)?Jt(u,d):gv(u)?1:-1}return Jt(r.length,e.length)}const c2=55296,f2=57343;function gv(r){const e=r.charCodeAt(0);return e>=c2&&e<=f2}function xf(r,e,n){return r.length===e.length&&r.every(((s,u)=>n(s,e[u])))}const DE="__name__";class zs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Dt(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Dt(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let u=0;u<s;u++){const d=zs.compareSegments(e.get(u),n.get(u));if(d!==0)return d}return Jt(e.length,n.length)}static compareSegments(e,n){const s=zs.isNumericId(e),u=zs.isNumericId(n);return s&&!u?-1:!s&&u?1:s&&u?zs.extractNumericId(e).compare(zs.extractNumericId(n)):Vv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eu.fromString(e.substring(4,e.length-2))}}class Pn extends zs{construct(e,n,s){return new Pn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(He.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((u=>u.length>0)))}return new Pn(n)}static emptyPath(){return new Pn([])}}const h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends zs{construct(e,n,s){return new Zi(e,n,s)}static isValidIdentifier(e){return h2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new Zi([DE])}static fromServerFormat(e){const n=[];let s="",u=0;const d=()=>{if(s.length===0)throw new at(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let g=!1;for(;u<e.length;){const E=e[u];if(E==="\\"){if(u+1===e.length)throw new at(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[u+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new at(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=b,u+=2}else E==="`"?(g=!g,u++):E!=="."||g?(s+=E,u++):(d(),u++)}if(d(),g)throw new at(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(n)}static emptyPath(){return new Zi([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(Pn.fromString(e))}static fromName(e){return new bt(Pn.fromString(e).popFirst(5))}static empty(){return new bt(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new Pn(e.slice()))}}function RT(r,e,n){if(!n)throw new at(He.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function d2(r,e,n,s){if(e===!0&&s===!0)throw new at(He.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xE(r){if(!bt.isDocumentKey(r))throw new at(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function RE(r){if(bt.isDocumentKey(r))throw new at(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Dt(12329,{type:typeof r})}function sc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qg(r);throw new at(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function wi(r,e){const n={typeString:r};return e&&(n.value=e),n}function Id(r,e){if(!kT(r))throw new at(He.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const u=e[s].typeString,d="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const g=r[s];if(u&&typeof g!==u){n=`JSON field '${s}' must be a ${u}.`;break}if(d!==void 0&&g!==d.value){n=`Expected '${s}' field to equal '${d.value}'`;break}}if(n)throw new at(He.INVALID_ARGUMENT,n);return!0}const kE=-62135596800,IE=1e6;class Vn{static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*IE);return new Vn(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new at(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kE)throw new at(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Id(e,Vn._jsonSchema))return new Vn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vn._jsonSchemaVersion="firestore/timestamp/1.0",Vn._jsonSchema={type:wi("string",Vn._jsonSchemaVersion),seconds:wi("number"),nanoseconds:wi("number")};class Nt{static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Vn(0,0))}static max(){return new Nt(new Vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gd=-1;function p2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=Nt.fromTimestamp(s===1e9?new Vn(n+1,0):new Vn(n,s));return new ru(u,bt.empty(),e)}function g2(r){return new ru(r.readTime,r.key,gd)}class ru{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ru(Nt.min(),bt.empty(),gd)}static max(){return new ru(Nt.max(),bt.empty(),gd)}}function m2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=bt.comparator(r.documentKey,e.documentKey),n!==0?n:Jt(r.largestBatchId,e.largestBatchId))}const v2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bf(r){if(r.code!==He.FAILED_PRECONDITION||r.message!==v2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je(((s,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,u)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,u)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):je.reject(n)}static resolve(e){return new je(((n,s)=>{n(e)}))}static reject(e){return new je(((n,s)=>{s(e)}))}static waitFor(e){return new je(((n,s)=>{let u=0,d=0,g=!1;e.forEach((E=>{++u,E.next((()=>{++d,g&&d===u&&n()}),(b=>s(b)))})),g=!0,d===u&&n()}))}static or(e){let n=je.resolve(!1);for(const s of e)n=n.next((u=>u?je.resolve(u):s()));return n}static forEach(e,n){const s=[];return e.forEach(((u,d)=>{s.push(n.call(this,u,d))})),this.waitFor(s)}static mapArray(e,n){return new je(((s,u)=>{const d=e.length,g=new Array(d);let E=0;for(let b=0;b<d;b++){const T=b;n(e[T]).next((x=>{g[T]=x,++E,E===d&&s(g)}),(x=>u(x)))}}))}static doWhile(e,n){return new je(((s,u)=>{const d=()=>{e()===!0?n().next((()=>{d()}),u):s()};d()}))}}function _2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uf(r){return r.name==="IndexedDbTransactionError"}class jg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jg.ce=-1;const Ry=-1;function Gg(r){return r==null}function Ag(r){return r===0&&1/r==-1/0}function E2(r){return typeof r=="number"&&Number.isInteger(r)&&!Ag(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const IT="";function b2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=NE(e)),e=T2(r.get(n),e);return NE(e)}function T2(r,e){let n=e;const s=r.length;for(let u=0;u<s;u++){const d=r.charAt(u);switch(d){case"\0":n+="";break;case IT:n+="";break;default:n+=d}}return n}function NE(r){return r+IT+""}function LE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function du(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function NT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ei{constructor(e,n){this.comparator=e,this.root=n||$i.EMPTY}insert(e,n){return new ei(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return n+s.left.size;u<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yp(this.root,e,this.comparator,!0)}}class Yp{constructor(e,n,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?s(e.key,n):1,n&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(d===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,n,s,u,d){this.key=e,this.value=n,this.color=s??$i.RED,this.left=u??$i.EMPTY,this.right=d??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,u,d){return new $i(e??this.key,n??this.value,s??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let u=this;const d=s(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,n,s),null):d===0?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),n(e,u.key)===0){if(u.right.isEmpty())return $i.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Dt(27949);return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1;$i.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(e,n,s,u,d){return this}insert(e,n,s){return new $i(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ni{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ni)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=s.getNext().key;if(this.comparator(u,d)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ni(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class la{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new la([])}unionWith(e){let n=new Ni(Zi.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new la(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xf(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ji{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(u){try{return atob(u)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new LT("Invalid base64 string: "+d):d}})(e);return new Ji(n)}static fromUint8Array(e){const n=(function(u){let d="";for(let g=0;g<u.length;++g)d+=String.fromCharCode(u[g]);return d})(e);return new Ji(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ji.EMPTY_BYTE_STRING=new Ji("");const S2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function au(r){if(vn(!!r,39018),typeof r=="string"){let e=0;const n=S2.exec(r);if(vn(!!n,46558,{timestamp:r}),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:di(r.seconds),nanos:di(r.nanos)}}function di(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function su(r){return typeof r=="string"?Ji.fromBase64String(r):Ji.fromUint8Array(r)}const OT="server_timestamp",MT="__type__",PT="__previous_value__",FT="__local_write_time__";function ky(r){return(r?.mapValue?.fields||{})[MT]?.stringValue===OT}function Wg(r){const e=r.mapValue.fields[PT];return ky(e)?Wg(e):e}function md(r){const e=au(r.mapValue.fields[FT].timestampValue);return new Vn(e.seconds,e.nanos)}class w2{constructor(e,n,s,u,d,g,E,b,T,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=E,this.longPollingOptions=b,this.useFetchStreams=T,this.isUsingEmulator=x}}const Cg="(default)";class vd{constructor(e,n){this.projectId=e,this.database=n||Cg}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===Cg}isEqual(e){return e instanceof vd&&e.projectId===this.projectId&&e.database===this.database}}const BT="__type__",A2="__max__",Qp={mapValue:{}},UT="__vector__",Dg="value";function ou(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ky(r)?4:D2(r)?9007199254740991:C2(r)?10:11:Dt(28295,{value:r})}function Xs(r,e){if(r===e)return!0;const n=ou(r);if(n!==ou(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return md(r).isEqual(md(e));case 3:return(function(u,d){if(typeof u.timestampValue=="string"&&typeof d.timestampValue=="string"&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const g=au(u.timestampValue),E=au(d.timestampValue);return g.seconds===E.seconds&&g.nanos===E.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,d){return su(u.bytesValue).isEqual(su(d.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,d){return di(u.geoPointValue.latitude)===di(d.geoPointValue.latitude)&&di(u.geoPointValue.longitude)===di(d.geoPointValue.longitude)})(r,e);case 2:return(function(u,d){if("integerValue"in u&&"integerValue"in d)return di(u.integerValue)===di(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const g=di(u.doubleValue),E=di(d.doubleValue);return g===E?Ag(g)===Ag(E):isNaN(g)&&isNaN(E)}return!1})(r,e);case 9:return xf(r.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:case 11:return(function(u,d){const g=u.mapValue.fields||{},E=d.mapValue.fields||{};if(LE(g)!==LE(E))return!1;for(const b in g)if(g.hasOwnProperty(b)&&(E[b]===void 0||!Xs(g[b],E[b])))return!1;return!0})(r,e);default:return Dt(52216,{left:r})}}function yd(r,e){return(r.values||[]).find((n=>Xs(n,e)))!==void 0}function Rf(r,e){if(r===e)return 0;const n=ou(r),s=ou(e);if(n!==s)return Jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(r.booleanValue,e.booleanValue);case 2:return(function(d,g){const E=di(d.integerValue||d.doubleValue),b=di(g.integerValue||g.doubleValue);return E<b?-1:E>b?1:E===b?0:isNaN(E)?isNaN(b)?0:-1:1})(r,e);case 3:return ME(r.timestampValue,e.timestampValue);case 4:return ME(md(r),md(e));case 5:return Vv(r.stringValue,e.stringValue);case 6:return(function(d,g){const E=su(d),b=su(g);return E.compareTo(b)})(r.bytesValue,e.bytesValue);case 7:return(function(d,g){const E=d.split("/"),b=g.split("/");for(let T=0;T<E.length&&T<b.length;T++){const x=Jt(E[T],b[T]);if(x!==0)return x}return Jt(E.length,b.length)})(r.referenceValue,e.referenceValue);case 8:return(function(d,g){const E=Jt(di(d.latitude),di(g.latitude));return E!==0?E:Jt(di(d.longitude),di(g.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return PE(r.arrayValue,e.arrayValue);case 10:return(function(d,g){const E=d.fields||{},b=g.fields||{},T=E[Dg]?.arrayValue,x=b[Dg]?.arrayValue,k=Jt(T?.values?.length||0,x?.values?.length||0);return k!==0?k:PE(T,x)})(r.mapValue,e.mapValue);case 11:return(function(d,g){if(d===Qp.mapValue&&g===Qp.mapValue)return 0;if(d===Qp.mapValue)return 1;if(g===Qp.mapValue)return-1;const E=d.fields||{},b=Object.keys(E),T=g.fields||{},x=Object.keys(T);b.sort(),x.sort();for(let k=0;k<b.length&&k<x.length;++k){const F=Vv(b[k],x[k]);if(F!==0)return F;const Y=Rf(E[b[k]],T[x[k]]);if(Y!==0)return Y}return Jt(b.length,x.length)})(r.mapValue,e.mapValue);default:throw Dt(23264,{he:n})}}function ME(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Jt(r,e);const n=au(r),s=au(e),u=Jt(n.seconds,s.seconds);return u!==0?u:Jt(n.nanos,s.nanos)}function PE(r,e){const n=r.values||[],s=e.values||[];for(let u=0;u<n.length&&u<s.length;++u){const d=Rf(n[u],s[u]);if(d)return d}return Jt(n.length,s.length)}function kf(r){return zv(r)}function zv(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=au(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return su(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return bt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",u=!0;for(const d of n.values||[])u?u=!1:s+=",",s+=zv(d);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let u="{",d=!0;for(const g of s)d?d=!1:u+=",",u+=`${g}:${zv(n.fields[g])}`;return u+"}"})(r.mapValue):Dt(61005,{value:r})}function cg(r){switch(ou(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wg(r);return e?16+cg(e):16;case 5:return 2*r.stringValue.length;case 6:return su(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,d)=>u+cg(d)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return du(s.fields,((d,g)=>{u+=d.length+cg(g)})),u})(r.mapValue);default:throw Dt(13486,{value:r})}}function FE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hv(r){return!!r&&"integerValue"in r}function Iy(r){return!!r&&"arrayValue"in r}function BE(r){return!!r&&"nullValue"in r}function UE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fg(r){return!!r&&"mapValue"in r}function C2(r){return(r?.mapValue?.fields||{})[BT]?.stringValue===UT}function sd(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return du(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=sd(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sd(r.arrayValue.values[n]);return e}return{...r}}function D2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===A2}class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!fg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(n)}setAll(e){let n=Zi.emptyPath(),s={},u=[];e.forEach(((g,E)=>{if(!n.isImmediateParentOf(E)){const b=this.getFieldsMap(n);this.applyChanges(b,s,u),s={},u=[],n=E.popLast()}g?s[E.lastSegment()]=sd(g):u.push(E.lastSegment())}));const d=this.getFieldsMap(n);this.applyChanges(d,s,u)}delete(e){const n=this.field(e.popLast());fg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=n.mapValue.fields[e.get(s)];fg(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,s){du(n,((u,d)=>e[u]=d));for(const u of s)delete e[u]}clone(){return new Wr(sd(this.value))}}function VT(r){const e=[];return du(r.fields,((n,s)=>{const u=new Zi([n]);if(fg(s)){const d=VT(s.mapValue).fields;if(d.length===0)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)})),new la(e)}class mr{constructor(e,n,s,u,d,g,E){this.key=e,this.documentType=n,this.version=s,this.readTime=u,this.createTime=d,this.data=g,this.documentState=E}static newInvalidDocument(e){return new mr(e,0,Nt.min(),Nt.min(),Nt.min(),Wr.empty(),0)}static newFoundDocument(e,n,s,u){return new mr(e,1,n,Nt.min(),s,u,0)}static newNoDocument(e,n){return new mr(e,2,n,Nt.min(),Nt.min(),Wr.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Nt.min(),Nt.min(),Wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xg{constructor(e,n){this.position=e,this.inclusive=n}}function VE(r,e,n){let s=0;for(let u=0;u<r.position.length;u++){const d=e[u],g=r.position[u];if(d.field.isKeyField()?s=bt.comparator(bt.fromName(g.referenceValue),n.key):s=Rf(g,n.data.field(d.field)),d.dir==="desc"&&(s*=-1),s!==0)break}return s}function zE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xs(r.position[n],e.position[n]))return!1;return!0}class _d{constructor(e,n="asc"){this.field=e,this.dir=n}}function x2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class zT{}class Si extends zT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new k2(e,n,s):n==="array-contains"?new L2(e,s):n==="in"?new O2(e,s):n==="not-in"?new M2(e,s):n==="array-contains-any"?new P2(e,s):new Si(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new I2(e,s):new N2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rf(n,this.value)):n!==null&&ou(this.value)===ou(n)&&this.matchesComparison(Rf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends zT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vs(e,n)}matches(e){return HT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HT(r){return r.op==="and"}function qT(r){return R2(r)&&HT(r)}function R2(r){for(const e of r.filters)if(e instanceof vs)return!1;return!0}function qv(r){if(r instanceof Si)return r.field.canonicalString()+r.op.toString()+kf(r.value);if(qT(r))return r.filters.map((e=>qv(e))).join(",");{const e=r.filters.map((n=>qv(n))).join(",");return`${r.op}(${e})`}}function jT(r,e){return r instanceof Si?(function(s,u){return u instanceof Si&&s.op===u.op&&s.field.isEqual(u.field)&&Xs(s.value,u.value)})(r,e):r instanceof vs?(function(s,u){return u instanceof vs&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((d,g,E)=>d&&jT(g,u.filters[E])),!0):!1})(r,e):void Dt(19439)}function GT(r){return r instanceof Si?(function(n){return`${n.field.canonicalString()} ${n.op} ${kf(n.value)}`})(r):r instanceof vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(GT).join(" ,")+"}"})(r):"Filter"}class k2 extends Si{constructor(e,n,s){super(e,n,s),this.key=bt.fromName(s.referenceValue)}matches(e){const n=bt.comparator(e.key,this.key);return this.matchesComparison(n)}}class I2 extends Si{constructor(e,n){super(e,"in",n),this.keys=WT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class N2 extends Si{constructor(e,n){super(e,"not-in",n),this.keys=WT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function WT(r,e){return(e.arrayValue?.values||[]).map((n=>bt.fromName(n.referenceValue)))}class L2 extends Si{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iy(n)&&yd(n.arrayValue,this.value)}}class O2 extends Si{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yd(this.value.arrayValue,n)}}class M2 extends Si{constructor(e,n){super(e,"not-in",n)}matches(e){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yd(this.value.arrayValue,n)}}class P2 extends Si{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yd(this.value.arrayValue,s)))}}class F2{constructor(e,n=null,s=[],u=[],d=null,g=null,E=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=u,this.limit=d,this.startAt=g,this.endAt=E,this.Te=null}}function HE(r,e=null,n=[],s=[],u=null,d=null,g=null){return new F2(r,e,n,s,u,d,g)}function Ny(r){const e=Mt(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>qv(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(d){return d.field.canonicalString()+d.dir})(s))).join(","),Gg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>kf(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>kf(s))).join(",")),e.Te=n}return e.Te}function Ly(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!x2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!zE(r.startAt,e.startAt)&&zE(r.endAt,e.endAt)}function jv(r){return bt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Vf{constructor(e,n=null,s=[],u=[],d=null,g="F",E=null,b=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=g,this.startAt=E,this.endAt=b,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B2(r,e,n,s,u,d,g,E){return new Vf(r,e,n,s,u,d,g,E)}function KT(r){return new Vf(r)}function qE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YT(r){return r.collectionGroup!==null}function od(r){const e=Mt(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const d of e.explicitOrderBy)e.Ie.push(d),n.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let E=new Ni(Zi.comparator);return g.filters.forEach((b=>{b.getFlattenedFilters().forEach((T=>{T.isInequality()&&(E=E.add(T.field))}))})),E})(e).forEach((d=>{n.has(d.canonicalString())||d.isKeyField()||e.Ie.push(new _d(d,s))})),n.has(Zi.keyField().canonicalString())||e.Ie.push(new _d(Zi.keyField(),s))}return e.Ie}function Ws(r){const e=Mt(r);return e.Ee||(e.Ee=U2(e,od(r))),e.Ee}function U2(r,e){if(r.limitType==="F")return HE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const d=u.dir==="desc"?"asc":"desc";return new _d(u.field,d)}));const n=r.endAt?new xg(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xg(r.startAt.position,r.startAt.inclusive):null;return HE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Gv(r,e){const n=r.filters.concat([e]);return new Vf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wv(r,e,n){return new Vf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Kg(r,e){return Ly(Ws(r),Ws(e))&&r.limitType===e.limitType}function QT(r){return`${Ny(Ws(r))}|lt:${r.limitType}`}function mf(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((u=>GT(u))).join(", ")}]`),Gg(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((u=>(function(g){return`${g.field.canonicalString()} (${g.dir})`})(u))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((u=>kf(u))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((u=>kf(u))).join(",")),`Target(${s})`})(Ws(r))}; limitType=${r.limitType})`}function Yg(r,e){return e.isFoundDocument()&&(function(s,u){const d=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):bt.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)})(r,e)&&(function(s,u){for(const d of od(s))if(!d.field.isKeyField()&&u.data.field(d.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const d of s.filters)if(!d.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(g,E,b){const T=VE(g,E,b);return g.inclusive?T<=0:T<0})(s.startAt,od(s),u)||s.endAt&&!(function(g,E,b){const T=VE(g,E,b);return g.inclusive?T>=0:T>0})(s.endAt,od(s),u))})(r,e)}function V2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XT(r){return(e,n)=>{let s=!1;for(const u of od(r)){const d=z2(u,e,n);if(d!==0)return d;s=s||u.field.isKeyField()}return 0}}function z2(r,e,n){const s=r.field.isKeyField()?bt.comparator(e.key,n.key):(function(d,g,E){const b=g.data.field(d),T=E.data.field(d);return b!==null&&T!==null?Rf(b,T):Dt(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Dt(19790,{direction:r.dir})}}class fc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[u,d]of s)if(this.equalsFn(u,e))return d}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[n]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){du(this.inner,((n,s)=>{for(const[u,d]of s)e(u,d)}))}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}const H2=new ei(bt.comparator);function qo(){return H2}const $T=new ei(bt.comparator);function nd(...r){let e=$T;for(const n of r)e=e.insert(n.key,n);return e}function ZT(r){let e=$T;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ju(){return ld()}function JT(){return ld()}function ld(){return new fc((r=>r.toString()),((r,e)=>r.isEqual(e)))}const q2=new ei(bt.comparator),j2=new Ni(bt.comparator);function en(...r){let e=j2;for(const n of r)e=e.add(n);return e}const G2=new Ni(Jt);function W2(){return G2}function Oy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ag(e)?"-0":e}}function eS(r){return{integerValue:""+r}}function K2(r,e){return E2(e)?eS(e):Oy(r,e)}class Qg{constructor(){this._=void 0}}function Y2(r,e,n){return r instanceof Ed?(function(u,d){const g={fields:{[MT]:{stringValue:OT},[FT]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&ky(d)&&(d=Wg(d)),d&&(g.fields[PT]=d),{mapValue:g}})(n,e):r instanceof bd?nS(r,e):r instanceof Td?iS(r,e):(function(u,d){const g=tS(u,d),E=jE(g)+jE(u.Ae);return Hv(g)&&Hv(u.Ae)?eS(E):Oy(u.serializer,E)})(r,e)}function Q2(r,e,n){return r instanceof bd?nS(r,e):r instanceof Td?iS(r,e):n}function tS(r,e){return r instanceof Rg?(function(s){return Hv(s)||(function(d){return!!d&&"doubleValue"in d})(s)})(e)?e:{integerValue:0}:null}class Ed extends Qg{}class bd extends Qg{constructor(e){super(),this.elements=e}}function nS(r,e){const n=rS(e);for(const s of r.elements)n.some((u=>Xs(u,s)))||n.push(s);return{arrayValue:{values:n}}}class Td extends Qg{constructor(e){super(),this.elements=e}}function iS(r,e){let n=rS(e);for(const s of r.elements)n=n.filter((u=>!Xs(u,s)));return{arrayValue:{values:n}}}class Rg extends Qg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jE(r){return di(r.integerValue||r.doubleValue)}function rS(r){return Iy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class X2{constructor(e,n){this.field=e,this.transform=n}}function $2(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof bd&&u instanceof bd||s instanceof Td&&u instanceof Td?xf(s.elements,u.elements,Xs):s instanceof Rg&&u instanceof Rg?Xs(s.Ae,u.Ae):s instanceof Ed&&u instanceof Ed})(r.transform,e.transform)}class Z2{constructor(e,n){this.version=e,this.transformResults=n}}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hg(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Xg{}function aS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new My(r.key,gs.none()):new Nd(r.key,r.data,gs.none());{const n=r.data,s=Wr.empty();let u=new Ni(Zi.comparator);for(let d of e.fields)if(!u.has(d)){let g=n.field(d);g===null&&d.length>1&&(d=d.popLast(),g=n.field(d)),g===null?s.delete(d):s.set(d,g),u=u.add(d)}return new pu(r.key,s,new la(u.toArray()),gs.none())}}function J2(r,e,n){r instanceof Nd?(function(u,d,g){const E=u.value.clone(),b=WE(u.fieldTransforms,d,g.transformResults);E.setAll(b),d.convertToFoundDocument(g.version,E).setHasCommittedMutations()})(r,e,n):r instanceof pu?(function(u,d,g){if(!hg(u.precondition,d))return void d.convertToUnknownDocument(g.version);const E=WE(u.fieldTransforms,d,g.transformResults),b=d.data;b.setAll(sS(u)),b.setAll(E),d.convertToFoundDocument(g.version,b).setHasCommittedMutations()})(r,e,n):(function(u,d,g){d.convertToNoDocument(g.version).setHasCommittedMutations()})(0,e,n)}function ud(r,e,n,s){return r instanceof Nd?(function(d,g,E,b){if(!hg(d.precondition,g))return E;const T=d.value.clone(),x=KE(d.fieldTransforms,b,g);return T.setAll(x),g.convertToFoundDocument(g.version,T).setHasLocalMutations(),null})(r,e,n,s):r instanceof pu?(function(d,g,E,b){if(!hg(d.precondition,g))return E;const T=KE(d.fieldTransforms,b,g),x=g.data;return x.setAll(sS(d)),x.setAll(T),g.convertToFoundDocument(g.version,x).setHasLocalMutations(),E===null?null:E.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map((k=>k.field)))})(r,e,n,s):(function(d,g,E){return hg(d.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):E})(r,e,n)}function eI(r,e){let n=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),d=tS(s.transform,u||null);d!=null&&(n===null&&(n=Wr.empty()),n.set(s.field,d))}return n||null}function GE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&xf(s,u,((d,g)=>$2(d,g)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nd extends Xg{constructor(e,n,s,u=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class pu extends Xg{constructor(e,n,s,u,d=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function sS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function WE(r,e,n){const s=new Map;vn(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let u=0;u<n.length;u++){const d=r[u],g=d.transform,E=e.data.field(d.field);s.set(d.field,Q2(g,E,n[u]))}return s}function KE(r,e,n){const s=new Map;for(const u of r){const d=u.transform,g=n.data.field(u.field);s.set(u.field,Y2(d,g,e))}return s}class My extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tI extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nI{constructor(e,n,s,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&J2(d,e,s[u])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ud(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ud(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=JT();return this.mutations.forEach((u=>{const d=e.get(u.key),g=d.overlayedDocument;let E=this.applyToLocalView(g,d.mutatedFields);E=n.has(u.key)?null:E;const b=aS(g,E);b!==null&&s.set(u.key,b),g.isValidDocument()||g.convertToNoDocument(Nt.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),en())}isEqual(e){return this.batchId===e.batchId&&xf(this.mutations,e.mutations,((n,s)=>GE(n,s)))&&xf(this.baseMutations,e.baseMutations,((n,s)=>GE(n,s)))}}class Py{constructor(e,n,s,u){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=u}static from(e,n,s){vn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return q2})();const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,s[g].version);return new Py(e,n,s,u)}}class iI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ti,an;function aI(r){switch(r){case He.OK:return Dt(64938);case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0;default:return Dt(15467,{code:r})}}function oS(r){if(r===void 0)return Ho("GRPC error has no .code"),He.UNKNOWN;switch(r){case Ti.OK:return He.OK;case Ti.CANCELLED:return He.CANCELLED;case Ti.UNKNOWN:return He.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return He.INTERNAL;case Ti.UNAVAILABLE:return He.UNAVAILABLE;case Ti.UNAUTHENTICATED:return He.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case Ti.NOT_FOUND:return He.NOT_FOUND;case Ti.ALREADY_EXISTS:return He.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return He.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case Ti.ABORTED:return He.ABORTED;case Ti.OUT_OF_RANGE:return He.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return He.UNIMPLEMENTED;case Ti.DATA_LOSS:return He.DATA_LOSS;default:return Dt(39323,{code:r})}}(an=Ti||(Ti={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";function sI(){return new TextEncoder}const oI=new eu([4294967295,4294967295],0);function YE(r){const e=sI().encode(r),n=new bT;return n.update(e),new Uint8Array(n.digest())}function QE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new eu([n,s],0),new eu([u,d],0)]}class Fy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new id(`Invalid padding: ${n}`);if(s<0)throw new id(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new id(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new id(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=eu.fromNumber(this.ge)}ye(e,n,s){let u=e.add(n.multiply(eu.fromNumber(s)));return u.compare(oI)===1&&(u=new eu([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YE(e),[s,u]=QE(n);for(let d=0;d<this.hashCount;d++){const g=this.ye(s,u,d);if(!this.we(g))return!1}return!0}static create(e,n,s){const u=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new Fy(d,u,n);return s.forEach((E=>g.insert(E))),g}insert(e){if(this.ge===0)return;const n=YE(e),[s,u]=QE(n);for(let d=0;d<this.hashCount;d++){const g=this.ye(s,u,d);this.Se(g)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $g{constructor(e,n,s,u,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const u=new Map;return u.set(e,Ld.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $g(Nt.min(),u,new ei(Jt),qo(),en())}}class Ld{constructor(e,n,s,u,d){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ld(s,n,en(),en(),en())}}class dg{constructor(e,n,s,u){this.be=e,this.removedTargetIds=n,this.key=s,this.De=u}}class lS{constructor(e,n){this.targetId=e,this.Ce=n}}class uS{constructor(e,n,s=Ji.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=u}}class XE{constructor(){this.ve=0,this.Fe=$E(),this.Me=Ji.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=en(),n=en(),s=en();return this.Fe.forEach(((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:s=s.add(u);break;default:Dt(38017,{changeType:d})}})),new Ld(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=$E()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lI{constructor(e){this.Ge=e,this.ze=new Map,this.je=qo(),this.Je=Xp(),this.He=Xp(),this.Ye=new ei(Jt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Dt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,u)=>{this.rt(u)&&n(u)}))}st(e){const n=e.targetId,s=e.Ce.count,u=this.ot(n);if(u){const d=u.target;if(jv(d))if(s===0){const g=new bt(d.path);this.et(n,g,mr.newNoDocument(g,Nt.min()))}else vn(s===1,20013,{expectedCount:s});else{const g=this._t(n);if(g!==s){const E=this.ut(e),b=E?this.ct(E,e,g):1;if(b!==0){this.it(n);const T=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,T)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:d=0}=n;let g,E;try{g=su(s).toUint8Array()}catch(b){if(b instanceof LT)return Df("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{E=new Fy(g,u,d)}catch(b){return Df(b instanceof id?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return E.ge===0?null:E}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let u=0;return s.forEach((d=>{const g=this.Ge.ht(),E=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.mightContain(E)||(this.et(n,d,null),u++)})),u}Tt(e){const n=new Map;this.ze.forEach(((d,g)=>{const E=this.ot(g);if(E){if(d.current&&jv(E.target)){const b=new bt(E.target.path);this.It(b).has(g)||this.Et(g,b)||this.et(g,b,mr.newNoDocument(b,e))}d.Be&&(n.set(g,d.ke()),d.qe())}}));let s=en();this.He.forEach(((d,g)=>{let E=!0;g.forEachWhile((b=>{const T=this.ot(b);return!T||T.purpose==="TargetPurposeLimboResolution"||(E=!1,!1)})),E&&(s=s.add(d))})),this.je.forEach(((d,g)=>g.setReadTime(e)));const u=new $g(e,n,this.Ye,this.je,s);return this.je=qo(),this.Je=Xp(),this.He=Xp(),this.Ye=new ei(Jt),u}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,n)?u.Qe(n,1):u.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ni(Jt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ni(Jt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xp(){return new ei(bt.comparator)}function $E(){return new ei(bt.comparator)}const uI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fI={and:"AND",or:"OR"};class hI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kv(r,e){return r.useProto3Json||Gg(e)?e:{value:e}}function kg(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dI(r,e){return kg(r,e.toTimestamp())}function Ks(r){return vn(!!r,49232),Nt.fromTimestamp((function(n){const s=au(n);return new Vn(s.seconds,s.nanos)})(r))}function By(r,e){return Yv(r,e).canonicalString()}function Yv(r,e){const n=(function(u){return new Pn(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?n:n.child(e)}function fS(r){const e=Pn.fromString(r);return vn(mS(e),10190,{key:e.toString()}),e}function Qv(r,e){return By(r.databaseId,e.path)}function mv(r,e){const n=fS(e);if(n.get(1)!==r.databaseId.projectId)throw new at(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new bt(dS(n))}function hS(r,e){return By(r.databaseId,e)}function pI(r){const e=fS(r);return e.length===4?Pn.emptyPath():dS(e)}function Xv(r){return new Pn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dS(r){return vn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ZE(r,e,n){return{name:Qv(r,e),fields:n.value.mapValue.fields}}function gI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Dt(39313,{state:T})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],d=(function(T,x){return T.useProto3Json?(vn(x===void 0||typeof x=="string",58123),Ji.fromBase64String(x||"")):(vn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Ji.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),g=e.targetChange.cause,E=g&&(function(T){const x=T.code===void 0?He.UNKNOWN:oS(T.code);return new at(x,T.message||"")})(g);n=new uS(s,u,d,E||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=mv(r,s.document.name),d=Ks(s.document.updateTime),g=s.document.createTime?Ks(s.document.createTime):Nt.min(),E=new Wr({mapValue:{fields:s.document.fields}}),b=mr.newFoundDocument(u,d,g,E),T=s.targetIds||[],x=s.removedTargetIds||[];n=new dg(T,x,b.key,b)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=mv(r,s.document),d=s.readTime?Ks(s.readTime):Nt.min(),g=mr.newNoDocument(u,d),E=s.removedTargetIds||[];n=new dg([],E,g.key,g)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=mv(r,s.document),d=s.removedTargetIds||[];n=new dg([],d,u,null)}else{if(!("filter"in e))return Dt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:d}=s,g=new rI(u,d),E=s.targetId;n=new lS(E,g)}}return n}function mI(r,e){let n;if(e instanceof Nd)n={update:ZE(r,e.key,e.value)};else if(e instanceof My)n={delete:Qv(r,e.key)};else if(e instanceof pu)n={update:ZE(r,e.key,e.data),updateMask:AI(e.fieldMask)};else{if(!(e instanceof tI))return Dt(16599,{Vt:e.type});n={verify:Qv(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(d,g){const E=g.transform;if(E instanceof Ed)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof bd)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Td)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Rg)return{fieldPath:g.field.canonicalString(),increment:E.Ae};throw Dt(20930,{transform:g.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(u,d){return d.updateTime!==void 0?{updateTime:dI(u,d.updateTime)}:d.exists!==void 0?{exists:d.exists}:Dt(27497)})(r,e.precondition)),n}function vI(r,e){return r&&r.length>0?(vn(e!==void 0,14353),r.map((n=>(function(u,d){let g=u.updateTime?Ks(u.updateTime):Ks(d);return g.isEqual(Nt.min())&&(g=Ks(d)),new Z2(g,u.transformResults||[])})(n,e)))):[]}function yI(r,e){return{documents:[hS(r,e.path)]}}function _I(r,e){const n={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hS(r,u);const d=(function(T){if(T.length!==0)return gS(vs.create(T,"and"))})(e.filters);d&&(n.structuredQuery.where=d);const g=(function(T){if(T.length!==0)return T.map((x=>(function(F){return{field:vf(F.field),direction:TI(F.dir)}})(x)))})(e.orderBy);g&&(n.structuredQuery.orderBy=g);const E=Kv(r,e.limit);return E!==null&&(n.structuredQuery.limit=E),e.startAt&&(n.structuredQuery.startAt=(function(T){return{before:T.inclusive,values:T.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(T){return{before:!T.inclusive,values:T.position}})(e.endAt)),{ft:n,parent:u}}function EI(r){let e=pI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let u=null;if(s>0){vn(s===1,65062);const x=n.from[0];x.allDescendants?u=x.collectionId:e=e.child(x.collectionId)}let d=[];n.where&&(d=(function(k){const F=pS(k);return F instanceof vs&&qT(F)?F.getFilters():[F]})(n.where));let g=[];n.orderBy&&(g=(function(k){return k.map((F=>(function(Z){return new _d(yf(Z.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(F)))})(n.orderBy));let E=null;n.limit&&(E=(function(k){let F;return F=typeof k=="object"?k.value:k,Gg(F)?null:F})(n.limit));let b=null;n.startAt&&(b=(function(k){const F=!!k.before,Y=k.values||[];return new xg(Y,F)})(n.startAt));let T=null;return n.endAt&&(T=(function(k){const F=!k.before,Y=k.values||[];return new xg(Y,F)})(n.endAt)),B2(e,u,g,d,E,"F",b,T)}function bI(r,e){const n=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:u})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yf(n.unaryFilter.field);return Si.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=yf(n.unaryFilter.field);return Si.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=yf(n.unaryFilter.field);return Si.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=yf(n.unaryFilter.field);return Si.create(g,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Si.create(yf(n.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return vs.create(n.compositeFilter.filters.map((s=>pS(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(n.compositeFilter.op))})(r):Dt(30097,{filter:r})}function TI(r){return uI[r]}function SI(r){return cI[r]}function wI(r){return fI[r]}function vf(r){return{fieldPath:r.canonicalString()}}function yf(r){return Zi.fromServerFormat(r.fieldPath)}function gS(r){return r instanceof Si?(function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:vf(n.field),op:"IS_NAN"}};if(BE(n.value))return{unaryFilter:{field:vf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:vf(n.field),op:"IS_NOT_NAN"}};if(BE(n.value))return{unaryFilter:{field:vf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vf(n.field),op:SI(n.op),value:n.value}}})(r):r instanceof vs?(function(n){const s=n.getFilters().map((u=>gS(u)));return s.length===1?s[0]:{compositeFilter:{op:wI(n.op),filters:s}}})(r):Dt(54877,{filter:r})}function AI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $l{constructor(e,n,s,u,d=Nt.min(),g=Nt.min(),E=Ji.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=E,this.expectedCount=b}withSequenceNumber(e){return new $l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CI{constructor(e){this.yt=e}}function DI(r){const e=EI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wv(e,e.limit,"L"):e}class xI{constructor(){this.Cn=new RI}addToCollectionParentIndex(e,n){return this.Cn.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(ru.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(ru.min())}updateCollectionGroup(e,n,s){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class RI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n]||new Ni(Pn.comparator),d=!u.has(s);return this.index[n]=u.add(s),d}has(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ni(Pn.comparator)).toArray()}}const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class Gr{static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(vS,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);class If{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new If(0)}static cr(){return new If(-1)}}const eb="LruGarbageCollector",kI=1048576;function tb([r,e],[n,s]){const u=Jt(r,n);return u===0?Jt(e,s):u}class II{constructor(e){this.Ir=e,this.buffer=new Ni(tb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(eb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uf(n)?lt(eb,"Ignoring IndexedDB error during garbage collection: ",n):await Bf(n)}await this.Vr(3e5)}))}}class LI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return je.resolve(jg.ce);const s=new II(n);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(JE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,u,d,g,E,b,T;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((k=>(k>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),u=this.params.maximumSequenceNumbersToCollect):u=k,g=Date.now(),this.nthSequenceNumber(e,u)))).next((k=>(s=k,E=Date.now(),this.removeTargets(e,s,n)))).next((k=>(d=k,b=Date.now(),this.removeOrphanedDocuments(e,s)))).next((k=>(T=Date.now(),gf()<=Zt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${g-x}ms
	Determined least recently used ${u} in `+(E-g)+`ms
	Removed ${d} targets in `+(b-E)+`ms
	Removed ${k} documents in `+(T-b)+`ms
Total Duration: ${T-x}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:k}))))}}function OI(r,e){return new LI(r,e)}class MI{constructor(){this.changes=new fc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?je.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FI{constructor(e,n,s,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,n)))).next((u=>(s!==null&&ud(s.mutation,u,la.empty(),Vn.now()),u)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,en()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=en()){const u=Ju();return this.populateOverlays(e,u,n).next((()=>this.computeViews(e,n,u,s).next((d=>{let g=nd();return d.forEach(((E,b)=>{g=g.insert(E,b.overlayedDocument)})),g}))))}getOverlayedDocuments(e,n){const s=Ju();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,en())))}populateOverlays(e,n,s){const u=[];return s.forEach((d=>{n.has(d)||u.push(d)})),this.documentOverlayCache.getOverlays(e,u).next((d=>{d.forEach(((g,E)=>{n.set(g,E)}))}))}computeViews(e,n,s,u){let d=qo();const g=ld(),E=(function(){return ld()})();return n.forEach(((b,T)=>{const x=s.get(T.key);u.has(T.key)&&(x===void 0||x.mutation instanceof pu)?d=d.insert(T.key,T):x!==void 0?(g.set(T.key,x.mutation.getFieldMask()),ud(x.mutation,T,x.mutation.getFieldMask(),Vn.now())):g.set(T.key,la.empty())})),this.recalculateAndSaveOverlays(e,d).next((b=>(b.forEach(((T,x)=>g.set(T,x))),n.forEach(((T,x)=>E.set(T,new PI(x,g.get(T)??null)))),E)))}recalculateAndSaveOverlays(e,n){const s=ld();let u=new ei(((g,E)=>g-E)),d=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((g=>{for(const E of g)E.keys().forEach((b=>{const T=n.get(b);if(T===null)return;let x=s.get(b)||la.empty();x=E.applyToLocalView(T,x),s.set(b,x);const k=(u.get(E.batchId)||en()).add(b);u=u.insert(E.batchId,k)}))})).next((()=>{const g=[],E=u.getReverseIterator();for(;E.hasNext();){const b=E.getNext(),T=b.key,x=b.value,k=JT();x.forEach((F=>{if(!d.has(F)){const Y=aS(n.get(F),s.get(F));Y!==null&&k.set(F,Y),d=d.add(F)}})),g.push(this.documentOverlayCache.saveOverlays(e,T,k))}return je.waitFor(g)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,u){return(function(g){return bt.isDocumentKey(g.path)&&g.collectionGroup===null&&g.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,u):this.getDocumentsMatchingCollectionQuery(e,n,s,u)}getNextDocuments(e,n,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,u).next((d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,u-d.size):je.resolve(Ju());let E=gd,b=d;return g.next((T=>je.forEach(T,((x,k)=>(E<k.largestBatchId&&(E=k.largestBatchId),d.get(x)?je.resolve():this.remoteDocumentCache.getEntry(e,x).next((F=>{b=b.insert(x,F)}))))).next((()=>this.populateOverlays(e,T,d))).next((()=>this.computeViews(e,b,T,en()))).next((x=>({batchId:E,changes:ZT(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new bt(n)).next((s=>{let u=nd();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,u){const d=n.collectionGroup;let g=nd();return this.indexManager.getCollectionParents(e,d).next((E=>je.forEach(E,(b=>{const T=(function(k,F){return new Vf(F,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)})(n,b.child(d));return this.getDocumentsMatchingCollectionQuery(e,T,s,u).next((x=>{x.forEach(((k,F)=>{g=g.insert(k,F)}))}))})).next((()=>g))))}getDocumentsMatchingCollectionQuery(e,n,s,u){let d;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,d,u)))).next((g=>{d.forEach(((b,T)=>{const x=T.getKey();g.get(x)===null&&(g=g.insert(x,mr.newInvalidDocument(x)))}));let E=nd();return g.forEach(((b,T)=>{const x=d.get(b);x!==void 0&&ud(x.mutation,T,la.empty(),Vn.now()),Yg(n,T)&&(E=E.insert(b,T))})),E}))}}class BI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(u){return{id:u.id,version:u.version,createTime:Ks(u.createTime)}})(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(u){return{name:u.name,query:DI(u.bundledQuery),readTime:Ks(u.readTime)}})(n)),je.resolve()}}class UI{constructor(){this.overlays=new ei(bt.comparator),this.qr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ju();return je.forEach(n,(u=>this.getOverlay(e,u).next((d=>{d!==null&&s.set(u,d)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((u,d)=>{this.St(e,n,d)})),je.resolve()}removeOverlaysForBatchId(e,n,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((d=>this.overlays=this.overlays.remove(d))),this.qr.delete(s)),je.resolve()}getOverlaysForCollection(e,n,s){const u=Ju(),d=n.length+1,g=new bt(n.child("")),E=this.overlays.getIteratorFrom(g);for(;E.hasNext();){const b=E.getNext().value,T=b.getKey();if(!n.isPrefixOf(T.path))break;T.path.length===d&&b.largestBatchId>s&&u.set(b.getKey(),b)}return je.resolve(u)}getOverlaysForCollectionGroup(e,n,s,u){let d=new ei(((T,x)=>T-x));const g=this.overlays.getIterator();for(;g.hasNext();){const T=g.getNext().value;if(T.getKey().getCollectionGroup()===n&&T.largestBatchId>s){let x=d.get(T.largestBatchId);x===null&&(x=Ju(),d=d.insert(T.largestBatchId,x)),x.set(T.getKey(),T)}}const E=Ju(),b=d.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((T,x)=>E.set(T,x))),!(E.size()>=u)););return je.resolve(E)}St(e,n,s){const u=this.overlays.get(s.key);if(u!==null){const g=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new iI(n,s));let d=this.qr.get(n);d===void 0&&(d=en(),this.qr.set(n,d)),this.qr.set(n,d.add(s.key))}}class VI{constructor(){this.sessionToken=Ji.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}class Uy{constructor(){this.Qr=new Ni(Bi.$r),this.Ur=new Ni(Bi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bi(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bi(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new bt(new Pn([])),s=new Bi(n,e),u=new Bi(n,e+1),d=[];return this.Ur.forEachInRange([s,u],(g=>{this.Gr(g),d.push(g.key)})),d}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new bt(new Pn([])),s=new Bi(n,e),u=new Bi(n,e+1);let d=en();return this.Ur.forEachInRange([s,u],(g=>{d=d.add(g.key)})),d}containsKey(e){const n=new Bi(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return bt.comparator(e.key,n.key)||Jt(e.Yr,n.Yr)}static Kr(e,n){return Jt(e.Yr,n.Yr)||bt.comparator(e.key,n.key)}}class zI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ni(Bi.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,u){const d=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const g=new nI(d,n,s,u);this.mutationQueue.push(g);for(const E of u)this.Zr=this.Zr.add(new Bi(E.key,d)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return je.resolve(g)}lookupMutationBatch(e,n){return je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,u=this.ei(s),d=u<0?0:u;return je.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?Ry:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bi(n,0),u=new Bi(n,Number.POSITIVE_INFINITY),d=[];return this.Zr.forEachInRange([s,u],(g=>{const E=this.Xr(g.Yr);d.push(E)})),je.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ni(Jt);return n.forEach((u=>{const d=new Bi(u,0),g=new Bi(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([d,g],(E=>{s=s.add(E.Yr)}))})),je.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1;let d=s;bt.isDocumentKey(d)||(d=d.child(""));const g=new Bi(new bt(d),0);let E=new Ni(Jt);return this.Zr.forEachWhile((b=>{const T=b.key.path;return!!s.isPrefixOf(T)&&(T.length===u&&(E=E.add(b.Yr)),!0)}),g),je.resolve(this.ti(E))}ti(e){const n=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&n.push(u)})),n}removeMutationBatch(e,n){vn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return je.forEach(n.mutations,(u=>{const d=new Bi(u.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bi(n,0),u=this.Zr.firstAfterOrEqual(s);return je.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HI{constructor(e){this.ri=e,this.docs=(function(){return new ei(bt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,u=this.docs.get(s),d=u?u.size:0,g=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return je.resolve(s?s.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let s=qo();return n.forEach((u=>{const d=this.docs.get(u);s=s.insert(u,d?d.document.mutableCopy():mr.newInvalidDocument(u))})),je.resolve(s)}getDocumentsMatchingQuery(e,n,s,u){let d=qo();const g=n.path,E=new bt(g.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(E);for(;b.hasNext();){const{key:T,value:{document:x}}=b.getNext();if(!g.isPrefixOf(T.path))break;T.path.length>g.length+1||m2(g2(x),s)<=0||(u.has(x.key)||Yg(n,x))&&(d=d.insert(x.key,x.mutableCopy()))}return je.resolve(d)}getAllFromCollectionGroup(e,n,s,u){Dt(9500)}ii(e,n){return je.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new qI(this)}getSize(e){return je.resolve(this.size)}}class qI extends MI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?n.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class jI{constructor(e){this.persistence=e,this.si=new fc((n=>Ny(n)),Ly),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new Uy,this.targetCount=0,this.ai=If.ur()}forEachTarget(e,n){return this.si.forEach(((s,u)=>n(u))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new If(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Pr(n),je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,s){let u=0;const d=[];return this.si.forEach(((g,E)=>{E.sequenceNumber<=n&&s.get(E.targetId)===null&&(this.si.delete(g),d.push(this.removeMatchingKeysForTargetId(e,E.targetId)),u++)})),je.waitFor(d).next((()=>u))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return je.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),je.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const u=this.persistence.referenceDelegate,d=[];return u&&n.forEach((g=>{d.push(u.markPotentiallyOrphaned(e,g))})),je.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return je.resolve(s)}containsKey(e,n){return je.resolve(this._i.containsKey(n))}}class yS{constructor(e,n){this.ui={},this.overlays={},this.ci=new jg(0),this.li=!1,this.li=!0,this.hi=new VI,this.referenceDelegate=e(this),this.Pi=new jI(this),this.indexManager=new xI,this.remoteDocumentCache=(function(u){return new HI(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CI(n),this.Ii=new BI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new zI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){lt("MemoryPersistence","Starting transaction:",e);const u=new GI(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((d=>this.referenceDelegate.di(u).next((()=>d)))).toPromise().then((d=>(u.raiseOnCommittedEvent(),d)))}Ai(e,n){return je.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class GI extends y2{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Ri=new Uy,this.Vi=null}static mi(e){return new Vy(e)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),je.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((u=>{u.forEach((d=>this.fi.add(d.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,(s=>{const u=bt.fromPath(s);return this.gi(e,u).next((d=>{d||n.removeEntry(u,Nt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ig{constructor(e,n){this.persistence=e,this.pi=new fc((s=>b2(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=OI(this,n)}static mi(e,n){return new Ig(e,n)}Ei(){}di(e){return je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((u=>s+u))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return je.forEach(this.pi,((s,u)=>this.br(e,s,u).next((d=>d?je.resolve():n(u)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const u=this.persistence.getRemoteDocumentCache(),d=u.newChangeBuffer();return u.ii(e,(g=>this.br(e,g,n).next((E=>{E||(s++,d.removeEntry(g,Nt.min()))})))).next((()=>d.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),je.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cg(e.data.value)),n}br(e,n,s){return je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const u=this.pi.get(n);return je.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zy{constructor(e,n,s,u){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=u}static As(e,n){let s=en(),u=en();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new zy(e,n.fromCache,s,u)}}class WI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TD()?8:_2(vr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,u){const d={result:null};return this.ys(e,n).next((g=>{d.result=g})).next((()=>{if(!d.result)return this.ws(e,n,u,s).next((g=>{d.result=g}))})).next((()=>{if(d.result)return;const g=new WI;return this.Ss(e,n,g).next((E=>{if(d.result=E,this.Vs)return this.bs(e,n,g,E.size)}))})).next((()=>d.result))}bs(e,n,s,u){return s.documentReadCount<this.fs?(gf()<=Zt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",mf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(gf()<=Zt.DEBUG&&lt("QueryEngine","Query:",mf(n),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(gf()<=Zt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",mf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ws(n))):je.resolve())}ys(e,n){if(qE(n))return je.resolve(null);let s=Ws(n);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(n.limit!==null&&u===1&&(n=Wv(n,null,"F"),s=Ws(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((d=>{const g=en(...d);return this.ps.getDocuments(e,g).next((E=>this.indexManager.getMinOffset(e,s).next((b=>{const T=this.Ds(n,E);return this.Cs(n,T,g,b.readTime)?this.ys(e,Wv(n,null,"F")):this.vs(e,T,n,b)}))))})))))}ws(e,n,s,u){return qE(n)||u.isEqual(Nt.min())?je.resolve(null):this.ps.getDocuments(e,s).next((d=>{const g=this.Ds(n,d);return this.Cs(n,g,s,u)?je.resolve(null):(gf()<=Zt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),mf(n)),this.vs(e,g,n,p2(u,gd)).next((E=>E)))}))}Ds(e,n){let s=new Ni(XT(e));return n.forEach(((u,d)=>{Yg(e,d)&&(s=s.add(d))})),s}Cs(e,n,s,u){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const d=e.limitType==="F"?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Ss(e,n,s){return gf()<=Zt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",mf(n)),this.ps.getDocumentsMatchingQuery(e,n,ru.min(),s)}vs(e,n,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((d=>(n.forEach((g=>{d=d.insert(g.key,g)})),d)))}}const Hy="LocalStore",YI=3e8;class QI{constructor(e,n,s,u){this.persistence=e,this.Fs=n,this.serializer=u,this.Ms=new ei(Jt),this.xs=new fc((d=>Ny(d)),Ly),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function XI(r,e,n,s){return new QI(r,e,n,s)}async function _S(r,e){const n=Mt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return n.mutationQueue.getAllMutationBatches(s).next((d=>(u=d,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((d=>{const g=[],E=[];let b=en();for(const T of u){g.push(T.batchId);for(const x of T.mutations)b=b.add(x.key)}for(const T of d){E.push(T.batchId);for(const x of T.mutations)b=b.add(x.key)}return n.localDocuments.getDocuments(s,b).next((T=>({Ls:T,removedBatchIds:g,addedBatchIds:E})))}))}))}function $I(r,e){const n=Mt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),d=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(E,b,T,x){const k=T.batch,F=k.keys();let Y=je.resolve();return F.forEach((Z=>{Y=Y.next((()=>x.getEntry(b,Z))).next((_e=>{const te=T.docVersions.get(Z);vn(te!==null,48541),_e.version.compareTo(te)<0&&(k.applyToRemoteDocument(_e,T),_e.isValidDocument()&&(_e.setReadTime(T.commitVersion),x.addEntry(_e)))}))})),Y.next((()=>E.mutationQueue.removeMutationBatch(b,k)))})(n,s,e,d).next((()=>d.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(E){let b=en();for(let T=0;T<E.mutationResults.length;++T)E.mutationResults[T].transformResults.length>0&&(b=b.add(E.batch.mutations[T].key));return b})(e)))).next((()=>n.localDocuments.getDocuments(s,u)))}))}function ES(r){const e=Mt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ZI(r,e){const n=Mt(r),s=e.snapshotVersion;let u=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(d=>{const g=n.Ns.newChangeBuffer({trackRemovals:!0});u=n.Ms;const E=[];e.targetChanges.forEach(((x,k)=>{const F=u.get(k);if(!F)return;E.push(n.Pi.removeMatchingKeys(d,x.removedDocuments,k).next((()=>n.Pi.addMatchingKeys(d,x.addedDocuments,k))));let Y=F.withSequenceNumber(d.currentSequenceNumber);e.targetMismatches.get(k)!==null?Y=Y.withResumeToken(Ji.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):x.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(x.resumeToken,s)),u=u.insert(k,Y),(function(_e,te,Ee){return _e.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-_e.snapshotVersion.toMicroseconds()>=YI?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0})(F,Y,x)&&E.push(n.Pi.updateTargetData(d,Y))}));let b=qo(),T=en();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&E.push(n.persistence.referenceDelegate.updateLimboDocument(d,x))})),E.push(JI(d,g,e.documentUpdates).next((x=>{b=x.ks,T=x.qs}))),!s.isEqual(Nt.min())){const x=n.Pi.getLastRemoteSnapshotVersion(d).next((k=>n.Pi.setTargetsMetadata(d,d.currentSequenceNumber,s)));E.push(x)}return je.waitFor(E).next((()=>g.apply(d))).next((()=>n.localDocuments.getLocalViewOfDocuments(d,b,T))).next((()=>b))})).then((d=>(n.Ms=u,d)))}function JI(r,e,n){let s=en(),u=en();return n.forEach((d=>s=s.add(d))),e.getEntries(r,s).next((d=>{let g=qo();return n.forEach(((E,b)=>{const T=d.get(E);b.isFoundDocument()!==T.isFoundDocument()&&(u=u.add(E)),b.isNoDocument()&&b.version.isEqual(Nt.min())?(e.removeEntry(E,b.readTime),g=g.insert(E,b)):!T.isValidDocument()||b.version.compareTo(T.version)>0||b.version.compareTo(T.version)===0&&T.hasPendingWrites?(e.addEntry(b),g=g.insert(E,b)):lt(Hy,"Ignoring outdated watch update for ",E,". Current version:",T.version," Watch version:",b.version)})),{ks:g,qs:u}}))}function eN(r,e){const n=Mt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ry),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function tN(r,e){const n=Mt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return n.Pi.getTargetData(s,e).next((d=>d?(u=d,je.resolve(u)):n.Pi.allocateTargetId(s).next((g=>(u=new $l(e,g,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=n.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function $v(r,e,n){const s=Mt(r),u=s.Ms.get(e),d=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",d,(g=>s.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Uf(g))throw g;lt(Hy,`Failed to update sequence numbers for target ${e}: ${g}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function nb(r,e,n){const s=Mt(r);let u=Nt.min(),d=en();return s.persistence.runTransaction("Execute query","readwrite",(g=>(function(b,T,x){const k=Mt(b),F=k.xs.get(x);return F!==void 0?je.resolve(k.Ms.get(F)):k.Pi.getTargetData(T,x)})(s,g,Ws(e)).next((E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(g,E.targetId).next((b=>{d=b}))})).next((()=>s.Fs.getDocumentsMatchingQuery(g,e,n?u:Nt.min(),n?d:en()))).next((E=>(nN(s,V2(e),E),{documents:E,Qs:d})))))}function nN(r,e,n){let s=r.Os.get(e)||Nt.min();n.forEach(((u,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)})),r.Os.set(e,s)}class ib{constructor(){this.activeTargetIds=W2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iN{constructor(){this.Mo=new ib,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ib,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rN{Oo(e){}shutdown(){}}const rb="ConnectivityMonitor";class ab{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(rb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(rb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $p=null;function Zv(){return $p===null?$p=(function(){return 268435456+Math.round(2147483648*Math.random())})():$p++,"0x"+$p.toString(16)}const vv="RestConnection",aN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===Cg?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,n,s,u,d){const g=Zv(),E=this.zo(e,n.toUriEncodedString());lt(vv,`Sending RPC '${e}' ${g}:`,E,s);const b={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(b,u,d);const{host:T}=new URL(E),x=cu(T);return this.Jo(e,E,b,s,x).then((k=>(lt(vv,`Received RPC '${e}' ${g}: `,k),k)),(k=>{throw Df(vv,`RPC '${e}' ${g} failed with error: `,k,"url: ",E,"request:",s),k}))}Ho(e,n,s,u,d,g){return this.Go(e,n,s,u,d)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ff})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((u,d)=>e[d]=u)),s&&s.headers.forEach(((u,d)=>e[d]=u))}zo(e,n){const s=aN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class oN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pr="WebChannelConnection";class lN extends sN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,u,d){const g=Zv();return new Promise(((E,b)=>{const T=new TT;T.setWithCredentials(!0),T.listenOnce(ST.COMPLETE,(()=>{try{switch(T.getLastErrorCode()){case ug.NO_ERROR:const k=T.getResponseJson();lt(pr,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(k)),E(k);break;case ug.TIMEOUT:lt(pr,`RPC '${e}' ${g} timed out`),b(new at(He.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const F=T.getStatus();if(lt(pr,`RPC '${e}' ${g} failed with status:`,F,"response text:",T.getResponseText()),F>0){let Y=T.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const Z=Y?.error;if(Z&&Z.status&&Z.message){const _e=(function(Ee){const X=Ee.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(X)>=0?X:He.UNKNOWN})(Z.status);b(new at(_e,Z.message))}else b(new at(He.UNKNOWN,"Server responded with status "+T.getStatus()))}else b(new at(He.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:e,streamId:g,h_:T.getLastErrorCode(),P_:T.getLastError()})}}finally{lt(pr,`RPC '${e}' ${g} completed.`)}}));const x=JSON.stringify(u);lt(pr,`RPC '${e}' ${g} sending request:`,u),T.send(n,"POST",x,s,15)}))}T_(e,n,s){const u=Zv(),d=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=CT(),E=AT(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(b.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(b.useFetchStreams=!0),this.jo(b.initMessageHeaders,n,s),b.encodeInitMessageHeaders=!0;const x=d.join("");lt(pr,`Creating RPC '${e}' stream ${u}: ${x}`,b);const k=g.createWebChannel(x,b);this.I_(k);let F=!1,Y=!1;const Z=new oN({Yo:te=>{Y?lt(pr,`Not sending because RPC '${e}' stream ${u} is closed:`,te):(F||(lt(pr,`Opening RPC '${e}' stream ${u} transport.`),k.open(),F=!0),lt(pr,`RPC '${e}' stream ${u} sending:`,te),k.send(te))},Zo:()=>k.close()}),_e=(te,Ee,X)=>{te.listen(Ee,(ne=>{try{X(ne)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return _e(k,td.EventType.OPEN,(()=>{Y||(lt(pr,`RPC '${e}' stream ${u} transport opened.`),Z.o_())})),_e(k,td.EventType.CLOSE,(()=>{Y||(Y=!0,lt(pr,`RPC '${e}' stream ${u} transport closed`),Z.a_(),this.E_(k))})),_e(k,td.EventType.ERROR,(te=>{Y||(Y=!0,Df(pr,`RPC '${e}' stream ${u} transport errored. Name:`,te.name,"Message:",te.message),Z.a_(new at(He.UNAVAILABLE,"The operation could not be completed")))})),_e(k,td.EventType.MESSAGE,(te=>{if(!Y){const Ee=te.data[0];vn(!!Ee,16349);const X=Ee,ne=X?.error||X[0]?.error;if(ne){lt(pr,`RPC '${e}' stream ${u} received error:`,ne);const oe=ne.status;let he=(function(V){const q=Ti[V];if(q!==void 0)return oS(q)})(oe),xe=ne.message;he===void 0&&(he=He.INTERNAL,xe="Unknown error status: "+oe+" with message "+ne.message),Y=!0,Z.a_(new at(he,xe)),k.close()}else lt(pr,`RPC '${e}' stream ${u} received:`,Ee),Z.u_(Ee)}})),_e(E,wT.STAT_EVENT,(te=>{te.stat===Uv.PROXY?lt(pr,`RPC '${e}' stream ${u} detected buffering proxy`):te.stat===Uv.NOPROXY&&lt(pr,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function yv(){return typeof document<"u"?document:null}function Zg(r){return new hI(r,!0)}class bS{constructor(e,n,s=1e3,u=1.5,d=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=u,this.R_=d,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,n-s);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sb="PersistentStream";class TS{constructor(e,n,s,u,d,g,E,b){this.Mi=e,this.S_=s,this.b_=u,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=E,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===He.RESOURCE_EXHAUSTED?(Ho(n.toString()),Ho("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===n&&this.G_(s,u)}),(s=>{e((()=>{const u=new at(He.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(sb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(lt(sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uN extends TS{constructor(e,n,s,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,u,g),this.serializer=d}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gI(this.serializer,e),s=(function(d){if(!("targetChange"in d))return Nt.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?Nt.min():g.readTime?Ks(g.readTime):Nt.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Xv(this.serializer),n.addTarget=(function(d,g){let E;const b=g.target;if(E=jv(b)?{documents:yI(d,b)}:{query:_I(d,b).ft},E.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){E.resumeToken=cS(d,g.resumeToken);const T=Kv(d,g.expectedCount);T!==null&&(E.expectedCount=T)}else if(g.snapshotVersion.compareTo(Nt.min())>0){E.readTime=kg(d,g.snapshotVersion.toTimestamp());const T=Kv(d,g.expectedCount);T!==null&&(E.expectedCount=T)}return E})(this.serializer,e);const s=bI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Xv(this.serializer),n.removeTarget=e,this.q_(n)}}class cN extends TS{constructor(e,n,s,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,u,g),this.serializer=d}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vI(e.writeResults,e.commitTime),s=Ks(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Xv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>mI(this.serializer,s)))};this.q_(n)}}class fN{}class hN extends fN{constructor(e,n,s,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new at(He.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Go(e,Yv(n,s),u,d,g))).catch((d=>{throw d.name==="FirebaseError"?(d.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(He.UNKNOWN,d.toString())}))}Ho(e,n,s,u,d){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([g,E])=>this.connection.Ho(e,Yv(n,s),u,g,E,d))).catch((g=>{throw g.name==="FirebaseError"?(g.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new at(He.UNKNOWN,g.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ho(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oc="RemoteStore";class pN{constructor(e,n,s,u,d){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=d,this.Aa.Oo((g=>{s.enqueueAndForget((async()=>{hc(this)&&(lt(oc,"Restarting streams for network reachability change."),await(async function(b){const T=Mt(b);T.Ea.add(4),await Od(T),T.Ra.set("Unknown"),T.Ea.delete(4),await Jg(T)})(this))}))})),this.Ra=new dN(s,u)}}async function Jg(r){if(hc(r))for(const e of r.da)await e(!0)}async function Od(r){for(const e of r.da)await e(!1)}function SS(r,e){const n=Mt(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wy(n)?Gy(n):zf(n).O_()&&jy(n,e))}function qy(r,e){const n=Mt(r),s=zf(n);n.Ia.delete(e),s.O_()&&wS(n,e),n.Ia.size===0&&(s.O_()?s.L_():hc(n)&&n.Ra.set("Unknown"))}function jy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zf(r).Y_(e)}function wS(r,e){r.Va.Ue(e),zf(r).Z_(e)}function Gy(r){r.Va=new lI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),zf(r).start(),r.Ra.ua()}function Wy(r){return hc(r)&&!zf(r).x_()&&r.Ia.size>0}function hc(r){return Mt(r).Ea.size===0}function AS(r){r.Va=void 0}async function gN(r){r.Ra.set("Online")}async function mN(r){r.Ia.forEach(((e,n)=>{jy(r,e)}))}async function vN(r,e){AS(r),Wy(r)?(r.Ra.ha(e),Gy(r)):r.Ra.set("Unknown")}async function yN(r,e,n){if(r.Ra.set("Online"),e instanceof uS&&e.state===2&&e.cause)try{await(async function(u,d){const g=d.cause;for(const E of d.targetIds)u.Ia.has(E)&&(await u.remoteSyncer.rejectListen(E,g),u.Ia.delete(E),u.Va.removeTarget(E))})(r,e)}catch(s){lt(oc,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ng(r,s)}else if(e instanceof dg?r.Va.Ze(e):e instanceof lS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Nt.min()))try{const s=await ES(r.localStore);n.compareTo(s)>=0&&await(function(d,g){const E=d.Va.Tt(g);return E.targetChanges.forEach(((b,T)=>{if(b.resumeToken.approximateByteSize()>0){const x=d.Ia.get(T);x&&d.Ia.set(T,x.withResumeToken(b.resumeToken,g))}})),E.targetMismatches.forEach(((b,T)=>{const x=d.Ia.get(b);if(!x)return;d.Ia.set(b,x.withResumeToken(Ji.EMPTY_BYTE_STRING,x.snapshotVersion)),wS(d,b);const k=new $l(x.target,b,T,x.sequenceNumber);jy(d,k)})),d.remoteSyncer.applyRemoteEvent(E)})(r,n)}catch(s){lt(oc,"Failed to raise snapshot:",s),await Ng(r,s)}}async function Ng(r,e,n){if(!Uf(e))throw e;r.Ea.add(1),await Od(r),r.Ra.set("Offline"),n||(n=()=>ES(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(oc,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Jg(r)}))}function CS(r,e){return e().catch((n=>Ng(r,n,e)))}async function em(r){const e=Mt(r),n=lu(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ry;for(;_N(e);)try{const u=await eN(e.localStore,s);if(u===null){e.Ta.length===0&&n.L_();break}s=u.batchId,EN(e,u)}catch(u){await Ng(e,u)}DS(e)&&xS(e)}function _N(r){return hc(r)&&r.Ta.length<10}function EN(r,e){r.Ta.push(e);const n=lu(r);n.O_()&&n.X_&&n.ea(e.mutations)}function DS(r){return hc(r)&&!lu(r).x_()&&r.Ta.length>0}function xS(r){lu(r).start()}async function bN(r){lu(r).ra()}async function TN(r){const e=lu(r);for(const n of r.Ta)e.ea(n.mutations)}async function SN(r,e,n){const s=r.Ta.shift(),u=Py.from(s,e,n);await CS(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await em(r)}async function wN(r,e){e&&lu(r).X_&&await(async function(s,u){if((function(g){return aI(g)&&g!==He.ABORTED})(u.code)){const d=s.Ta.shift();lu(s).B_(),await CS(s,(()=>s.remoteSyncer.rejectFailedWrite(d.batchId,u))),await em(s)}})(r,e),DS(r)&&xS(r)}async function ob(r,e){const n=Mt(r);n.asyncQueue.verifyOperationInProgress(),lt(oc,"RemoteStore received new credentials");const s=hc(n);n.Ea.add(3),await Od(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jg(n)}async function AN(r,e){const n=Mt(r);e?(n.Ea.delete(2),await Jg(n)):e||(n.Ea.add(2),await Od(n),n.Ra.set("Unknown"))}function zf(r){return r.ma||(r.ma=(function(n,s,u){const d=Mt(n);return d.sa(),new uN(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)})(r.datastore,r.asyncQueue,{Xo:gN.bind(null,r),t_:mN.bind(null,r),r_:vN.bind(null,r),H_:yN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Wy(r)?Gy(r):r.Ra.set("Unknown")):(await r.ma.stop(),AS(r))}))),r.ma}function lu(r){return r.fa||(r.fa=(function(n,s,u){const d=Mt(n);return d.sa(),new cN(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:bN.bind(null,r),r_:wN.bind(null,r),ta:TN.bind(null,r),na:SN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await em(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(oc,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ky{constructor(e,n,s,u,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new tu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((g=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,u,d){const g=Date.now()+s,E=new Ky(e,n,g,u,d);return E.start(s),E}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(r,e){if(Ho("AsyncQueue",`${e}: ${r}`),Uf(r))return new at(He.UNAVAILABLE,`${e}: ${r}`);throw r}class wf{static emptySet(e){return new wf(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||bt.comparator(n.key,s.key):(n,s)=>bt.comparator(n.key,s.key),this.keyedMap=nd(),this.sortedSet=new ei(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=s.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wf;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class lb{constructor(){this.ga=new ei(bt.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Dt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Nf{constructor(e,n,s,u,d,g,E,b,T){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=E,this.excludesMetadataChanges=b,this.hasCachedResults=T}static fromInitialDocuments(e,n,s,u,d){const g=[];return n.forEach((E=>{g.push({type:0,doc:E})})),new Nf(e,n,wf.emptySet(n),g,s,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==s[u].type||!n[u].doc.isEqual(s[u].doc))return!1;return!0}}class CN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DN{constructor(){this.queries=ub(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const u=Mt(n),d=u.queries;u.queries=ub(),d.forEach(((g,E)=>{for(const b of E.Sa)b.onError(s)}))})(this,new at(He.ABORTED,"Firestore shutting down"))}}function ub(){return new fc((r=>QT(r)),Kg)}async function xN(r,e){const n=Mt(r);let s=3;const u=e.query;let d=n.queries.get(u);d?!d.ba()&&e.Da()&&(s=2):(d=new CN,s=e.Da()?0:1);try{switch(s){case 0:d.wa=await n.onListen(u,!0);break;case 1:d.wa=await n.onListen(u,!1);break;case 2:await n.onFirstRemoteStoreListen(u)}}catch(g){const E=Yy(g,`Initialization of query '${mf(e.query)}' failed`);return void e.onError(E)}n.queries.set(u,d),d.Sa.push(e),e.va(n.onlineState),d.wa&&e.Fa(d.wa)&&Qy(n)}async function RN(r,e){const n=Mt(r),s=e.query;let u=3;const d=n.queries.get(s);if(d){const g=d.Sa.indexOf(e);g>=0&&(d.Sa.splice(g,1),d.Sa.length===0?u=e.Da()?0:1:!d.ba()&&e.Da()&&(u=2))}switch(u){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kN(r,e){const n=Mt(r);let s=!1;for(const u of e){const d=u.query,g=n.queries.get(d);if(g){for(const E of g.Sa)E.Fa(u)&&(s=!0);g.wa=u}}s&&Qy(n)}function IN(r,e,n){const s=Mt(r),u=s.queries.get(e);if(u)for(const d of u.Sa)d.onError(n);s.queries.delete(e)}function Qy(r){r.Ca.forEach((e=>{e.next()}))}var Jv,cb;(cb=Jv||(Jv={})).Ma="default",cb.Cache="cache";class NN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Nf(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jv.Cache}}class RS{constructor(e){this.key=e}}class kS{constructor(e){this.key=e}}class LN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=en(),this.mutatedKeys=en(),this.eu=XT(e),this.tu=new wf(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new lb,u=n?n.tu:this.tu;let d=n?n.mutatedKeys:this.mutatedKeys,g=u,E=!1;const b=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,T=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((x,k)=>{const F=u.get(x),Y=Yg(this.query,k)?k:null,Z=!!F&&this.mutatedKeys.has(F.key),_e=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let te=!1;F&&Y?F.data.isEqual(Y.data)?Z!==_e&&(s.track({type:3,doc:Y}),te=!0):this.su(F,Y)||(s.track({type:2,doc:Y}),te=!0,(b&&this.eu(Y,b)>0||T&&this.eu(Y,T)<0)&&(E=!0)):!F&&Y?(s.track({type:0,doc:Y}),te=!0):F&&!Y&&(s.track({type:1,doc:F}),te=!0,(b||T)&&(E=!0)),te&&(Y?(g=g.add(Y),d=_e?d.add(x):d.delete(x)):(g=g.delete(x),d=d.delete(x)))})),this.query.limit!==null)for(;g.size>this.query.limit;){const x=this.query.limitType==="F"?g.last():g.first();g=g.delete(x.key),d=d.delete(x.key),s.track({type:1,doc:x})}return{tu:g,iu:s,Cs:E,mutatedKeys:d}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,u){const d=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const g=e.iu.ya();g.sort(((x,k)=>(function(Y,Z){const _e=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:te})}};return _e(Y)-_e(Z)})(x.type,k.type)||this.eu(x.doc,k.doc))),this.ou(s),u=u??!1;const E=n&&!u?this._u():[],b=this.Xa.size===0&&this.current&&!u?1:0,T=b!==this.Za;return this.Za=b,g.length!==0||T?{snapshot:new Nf(this.query,e.tu,d,g,e.mutatedKeys,b===0,T,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:E}:{au:E}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=en(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new kS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new RS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=en();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xy="SyncEngine";class ON{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class MN{constructor(e){this.key=e,this.hu=!1}}class PN{constructor(e,n,s,u,d,g){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.Pu={},this.Tu=new fc((E=>QT(E)),Kg),this.Iu=new Map,this.Eu=new Set,this.du=new ei(bt.comparator),this.Au=new Map,this.Ru=new Uy,this.Vu={},this.mu=new Map,this.fu=If.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FN(r,e,n=!0){const s=PS(r);let u;const d=s.Tu.get(e);return d?(s.sharedClientState.addLocalQueryTarget(d.targetId),u=d.view.lu()):u=await IS(s,e,n,!0),u}async function BN(r,e){const n=PS(r);await IS(n,e,!0,!1)}async function IS(r,e,n,s){const u=await tN(r.localStore,Ws(e)),d=u.targetId,g=r.sharedClientState.addLocalQueryTarget(d,n);let E;return s&&(E=await UN(r,e,d,g==="current",u.resumeToken)),r.isPrimaryClient&&n&&SS(r.remoteStore,u),E}async function UN(r,e,n,s,u){r.pu=(k,F,Y)=>(async function(_e,te,Ee,X){let ne=te.view.ru(Ee);ne.Cs&&(ne=await nb(_e.localStore,te.query,!1).then((({documents:B})=>te.view.ru(B,ne))));const oe=X&&X.targetChanges.get(te.targetId),he=X&&X.targetMismatches.get(te.targetId)!=null,xe=te.view.applyChanges(ne,_e.isPrimaryClient,oe,he);return hb(_e,te.targetId,xe.au),xe.snapshot})(r,k,F,Y);const d=await nb(r.localStore,e,!0),g=new LN(e,d.Qs),E=g.ru(d.documents),b=Ld.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",u),T=g.applyChanges(E,r.isPrimaryClient,b);hb(r,n,T.au);const x=new ON(e,n,g);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),T.snapshot}async function VN(r,e,n){const s=Mt(r),u=s.Tu.get(e),d=s.Iu.get(u.targetId);if(d.length>1)return s.Iu.set(u.targetId,d.filter((g=>!Kg(g,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await $v(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),n&&qy(s.remoteStore,u.targetId),ey(s,u.targetId)})).catch(Bf)):(ey(s,u.targetId),await $v(s.localStore,u.targetId,!0))}async function zN(r,e){const n=Mt(r),s=n.Tu.get(e),u=n.Iu.get(s.targetId);n.isPrimaryClient&&u.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qy(n.remoteStore,s.targetId))}async function HN(r,e,n){const s=QN(r);try{const u=await(function(g,E){const b=Mt(g),T=Vn.now(),x=E.reduce(((Y,Z)=>Y.add(Z.key)),en());let k,F;return b.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let Z=qo(),_e=en();return b.Ns.getEntries(Y,x).next((te=>{Z=te,Z.forEach(((Ee,X)=>{X.isValidDocument()||(_e=_e.add(Ee))}))})).next((()=>b.localDocuments.getOverlayedDocuments(Y,Z))).next((te=>{k=te;const Ee=[];for(const X of E){const ne=eI(X,k.get(X.key).overlayedDocument);ne!=null&&Ee.push(new pu(X.key,ne,VT(ne.value.mapValue),gs.exists(!0)))}return b.mutationQueue.addMutationBatch(Y,T,Ee,E)})).next((te=>{F=te;const Ee=te.applyToLocalDocumentSet(k,_e);return b.documentOverlayCache.saveOverlays(Y,te.batchId,Ee)}))})).then((()=>({batchId:F.batchId,changes:ZT(k)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(g,E,b){let T=g.Vu[g.currentUser.toKey()];T||(T=new ei(Jt)),T=T.insert(E,b),g.Vu[g.currentUser.toKey()]=T})(s,u.batchId,n),await Md(s,u.changes),await em(s.remoteStore)}catch(u){const d=Yy(u,"Failed to persist write");n.reject(d)}}async function NS(r,e){const n=Mt(r);try{const s=await ZI(n.localStore,e);e.targetChanges.forEach(((u,d)=>{const g=n.Au.get(d);g&&(vn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?g.hu=!0:u.modifiedDocuments.size>0?vn(g.hu,14607):u.removedDocuments.size>0&&(vn(g.hu,42227),g.hu=!1))})),await Md(n,s,e)}catch(s){await Bf(s)}}function fb(r,e,n){const s=Mt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const u=[];s.Tu.forEach(((d,g)=>{const E=g.view.va(e);E.snapshot&&u.push(E.snapshot)})),(function(g,E){const b=Mt(g);b.onlineState=E;let T=!1;b.queries.forEach(((x,k)=>{for(const F of k.Sa)F.va(E)&&(T=!0)})),T&&Qy(b)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qN(r,e,n){const s=Mt(r);s.sharedClientState.updateQueryState(e,"rejected",n);const u=s.Au.get(e),d=u&&u.key;if(d){let g=new ei(bt.comparator);g=g.insert(d,mr.newNoDocument(d,Nt.min()));const E=en().add(d),b=new $g(Nt.min(),new Map,new ei(Jt),g,E);await NS(s,b),s.du=s.du.remove(d),s.Au.delete(e),$y(s)}else await $v(s.localStore,e,!1).then((()=>ey(s,e,n))).catch(Bf)}async function jN(r,e){const n=Mt(r),s=e.batch.batchId;try{const u=await $I(n.localStore,e);OS(n,s,null),LS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Md(n,u)}catch(u){await Bf(u)}}async function GN(r,e,n){const s=Mt(r);try{const u=await(function(g,E){const b=Mt(g);return b.persistence.runTransaction("Reject batch","readwrite-primary",(T=>{let x;return b.mutationQueue.lookupMutationBatch(T,E).next((k=>(vn(k!==null,37113),x=k.keys(),b.mutationQueue.removeMutationBatch(T,k)))).next((()=>b.mutationQueue.performConsistencyCheck(T))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(T,x,E))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,x))).next((()=>b.localDocuments.getDocuments(T,x)))}))})(s.localStore,e);OS(s,e,n),LS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Md(s,u)}catch(u){await Bf(u)}}function LS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function OS(r,e,n){const s=Mt(r);let u=s.Vu[s.currentUser.toKey()];if(u){const d=u.get(e);d&&(n?d.reject(n):d.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function ey(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||MS(r,s)}))}function MS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(qy(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),$y(r))}function hb(r,e,n){for(const s of n)s instanceof RS?(r.Ru.addReference(s.key,e),WN(r,s)):s instanceof kS?(lt(Xy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||MS(r,s.key)):Dt(19791,{wu:s})}function WN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(lt(Xy,"New document in limbo: "+n),r.Eu.add(s),$y(r))}function $y(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new bt(Pn.fromString(e)),s=r.fu.next();r.Au.set(s,new MN(n)),r.du=r.du.insert(n,s),SS(r.remoteStore,new $l(Ws(KT(n.path)),s,"TargetPurposeLimboResolution",jg.ce))}}async function Md(r,e,n){const s=Mt(r),u=[],d=[],g=[];s.Tu.isEmpty()||(s.Tu.forEach(((E,b)=>{g.push(s.pu(b,e,n).then((T=>{if((T||n)&&s.isPrimaryClient){const x=T?!T.fromCache:n?.targetChanges.get(b.targetId)?.current;s.sharedClientState.updateQueryState(b.targetId,x?"current":"not-current")}if(T){u.push(T);const x=zy.As(b.targetId,T);d.push(x)}})))})),await Promise.all(g),s.Pu.H_(u),await(async function(b,T){const x=Mt(b);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(k=>je.forEach(T,(F=>je.forEach(F.Es,(Y=>x.persistence.referenceDelegate.addReference(k,F.targetId,Y))).next((()=>je.forEach(F.ds,(Y=>x.persistence.referenceDelegate.removeReference(k,F.targetId,Y)))))))))}catch(k){if(!Uf(k))throw k;lt(Hy,"Failed to update sequence numbers: "+k)}for(const k of T){const F=k.targetId;if(!k.fromCache){const Y=x.Ms.get(F),Z=Y.snapshotVersion,_e=Y.withLastLimboFreeSnapshotVersion(Z);x.Ms=x.Ms.insert(F,_e)}}})(s.localStore,d))}async function KN(r,e){const n=Mt(r);if(!n.currentUser.isEqual(e)){lt(Xy,"User change. New user:",e.toKey());const s=await _S(n.localStore,e);n.currentUser=e,(function(d,g){d.mu.forEach((E=>{E.forEach((b=>{b.reject(new at(He.CANCELLED,g))}))})),d.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Md(n,s.Ls)}}function YN(r,e){const n=Mt(r),s=n.Au.get(e);if(s&&s.hu)return en().add(s.key);{let u=en();const d=n.Iu.get(e);if(!d)return u;for(const g of d){const E=n.Tu.get(g);u=u.unionWith(E.view.nu)}return u}}function PS(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qN.bind(null,e),e.Pu.H_=kN.bind(null,e.eventManager),e.Pu.yu=IN.bind(null,e.eventManager),e}function QN(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GN.bind(null,e),e}class Lg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XI(this.persistence,new KI,e.initialUser,this.serializer)}Cu(e){return new yS(Vy.mi,this.serializer)}Du(e){return new iN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lg.provider={build:()=>new Lg};class XN extends Lg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vn(this.persistence.referenceDelegate instanceof Ig,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new yS((s=>Ig.mi(s,n)),this.serializer)}}class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KN.bind(null,this.syncEngine),await AN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DN})()}createDatastore(e){const n=Zg(e.databaseInfo.databaseId),s=(function(d){return new lN(d)})(e.databaseInfo);return(function(d,g,E,b){return new hN(d,g,E,b)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,u,d,g,E){return new pN(s,u,d,g,E)})(this.localStore,this.datastore,e.asyncQueue,(n=>fb(this.syncEngine,n,0)),(function(){return ab.v()?new ab:new rN})())}createSyncEngine(e,n){return(function(u,d,g,E,b,T,x){const k=new PN(u,d,g,E,b,T);return x&&(k.gu=!0),k})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Mt(n);lt(oc,"RemoteStore shutting down."),s.Ea.add(5),await Od(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ty.provider={build:()=>new ty};class $N{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ho("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const uu="FirestoreClient";class ZN{constructor(e,n,s,u,d){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=u,this.user=gr.UNAUTHENTICATED,this.clientId=xy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=d,this.authCredentials.start(s,(async g=>{lt(uu,"Received user=",g.uid),await this.authCredentialListener(g),this.user=g})),this.appCheckCredentials.start(s,(g=>(lt(uu,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function _v(r,e){r.asyncQueue.verifyOperationInProgress(),lt(uu,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await _S(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function db(r,e){r.asyncQueue.verifyOperationInProgress();const n=await JN(r);lt(uu,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>ob(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>ob(e.remoteStore,u))),r._onlineComponents=e}async function JN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(uu,"Using user provided OfflineComponentProvider");try{await _v(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(u){return u.name==="FirebaseError"?u.code===He.FAILED_PRECONDITION||u.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(n))throw n;Df("Error using user provided cache. Falling back to memory cache: "+n),await _v(r,new Lg)}}else lt(uu,"Using default OfflineComponentProvider"),await _v(r,new XN(void 0));return r._offlineComponents}async function FS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(uu,"Using user provided OnlineComponentProvider"),await db(r,r._uninitializedComponentsProvider._online)):(lt(uu,"Using default OnlineComponentProvider"),await db(r,new ty))),r._onlineComponents}function eL(r){return FS(r).then((e=>e.syncEngine))}async function tL(r){const e=await FS(r),n=e.eventManager;return n.onListen=FN.bind(null,e.syncEngine),n.onUnlisten=VN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zN.bind(null,e.syncEngine),n}function nL(r,e,n={}){const s=new tu;return r.asyncQueue.enqueueAndForget((async()=>(function(d,g,E,b,T){const x=new $N({next:F=>{x.Nu(),g.enqueueAndForget((()=>RN(d,k))),F.fromCache&&b.source==="server"?T.reject(new at(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(F)},error:F=>T.reject(F)}),k=new NN(E,x,{includeMetadataChanges:!0,qa:!0});return xN(d,k)})(await tL(r),r.asyncQueue,e,n,s))),s.promise}function BS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const pb=new Map;const US="firestore.googleapis.com",gb=!0;class mb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=US,this.ssl=gb}else this.host=e.host,this.ssl=e.ssl??gb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kI)throw new at(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,n,s,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new i2;switch(s.type){case"firstParty":return new o2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=pb.get(n);s&&(lt("ComponentProvider","Removing Datastore"),pb.delete(n),s.terminate())})(this),Promise.resolve()}}function iL(r,e,n,s={}){r=sc(r,tm);const u=cu(e),d=r._getSettings(),g={...d,emulatorOptions:r._getEmulatorOptions()},E=`${e}:${n}`;u&&(py(`https://${E}`),gy("Firestore",!0)),d.host!==US&&d.host!==E&&Df("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...d,host:E,ssl:u,emulatorOptions:s};if(!tc(b,g)&&(r._setSettings(b),s.mockUserToken)){let T,x;if(typeof s.mockUserToken=="string")T=s.mockUserToken,x=gr.MOCK_USER;else{T=M1(s.mockUserToken,r._app?.options.projectId);const k=s.mockUserToken.sub||s.mockUserToken.user_id;if(!k)throw new at(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new gr(k)}r._authCredentials=new r2(new xT(T,x))}}class dc{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new dc(this.firestore,e,this._query)}}class Ii{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ii(this.firestore,e,this._key)}toJSON(){return{type:Ii._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Id(n,Ii._jsonSchema))return new Ii(e,s||null,new bt(Pn.fromString(n.referencePath)))}}Ii._jsonSchemaVersion="firestore/documentReference/1.0",Ii._jsonSchema={type:wi("string",Ii._jsonSchemaVersion),referencePath:wi("string")};class nu extends dc{constructor(e,n,s){super(e,n,KT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ii(this.firestore,null,new bt(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function Ev(r,e,...n){if(r=ai(r),RT("collection","path",e),r instanceof tm){const s=Pn.fromString(e,...n);return RE(s),new nu(r,null,s)}{if(!(r instanceof Ii||r instanceof nu))throw new at(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pn.fromString(e,...n));return RE(s),new nu(r.firestore,null,s)}}function ny(r,e,...n){if(r=ai(r),arguments.length===1&&(e=xy.newId()),RT("doc","path",e),r instanceof tm){const s=Pn.fromString(e,...n);return xE(s),new Ii(r,null,new bt(s))}{if(!(r instanceof Ii||r instanceof nu))throw new at(He.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pn.fromString(e,...n));return xE(s),new Ii(r.firestore,r instanceof nu?r.converter:null,new bt(s))}}const vb="AsyncQueue";class yb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bS(this,"async_queue_retry"),this._c=()=>{const s=yv();s&&lt(vb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=yv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uf(e))throw e;lt(vb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ho("INTERNAL UNHANDLED ERROR: ",_b(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const u=Ky.createAndSchedule(this,e,n,s,(d=>this.hc(d)));return this.tc.push(u),u}uc(){this.nc&&Dt(47125,{Pc:_b(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _b(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Pd extends tm{constructor(e,n,s,u){super(e,n,s,u),this.type="firestore",this._queue=new yb,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yb(e),this._firestoreClient=void 0,await e}}}function rL(r,e){const n=typeof r=="object"?r:yy(),s=typeof r=="string"?r:Cg,u=Ug(n,"firestore").getImmediate({identifier:s});if(!u._initialized){const d=N1("firestore");d&&iL(u,...d)}return u}function VS(r){if(r._terminated)throw new at(He.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aL(r),r._firestoreClient}function aL(r){const e=r._freezeSettings(),n=(function(u,d,g,E){return new w2(u,d,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,BS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ZN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}})(r._componentsProvider))}class Ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ua(Ji.fromBase64String(e))}catch(n){throw new at(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ua(Ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ua._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Id(e,Ua._jsonSchema))return Ua.fromBase64String(e.bytes)}}Ua._jsonSchemaVersion="firestore/bytes/1.0",Ua._jsonSchema={type:wi("string",Ua._jsonSchemaVersion),bytes:wi("string")};class nm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new at(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class im{constructor(e){this._methodName=e}}class Ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new at(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new at(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ys._jsonSchemaVersion}}static fromJSON(e){if(Id(e,Ys._jsonSchema))return new Ys(e.latitude,e.longitude)}}Ys._jsonSchemaVersion="firestore/geoPoint/1.0",Ys._jsonSchema={type:wi("string",Ys._jsonSchemaVersion),latitude:wi("number"),longitude:wi("number")};class Qs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let d=0;d<s.length;++d)if(s[d]!==u[d])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Id(e,Qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qs(e.vectorValues);throw new at(He.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:wi("string",Qs._jsonSchemaVersion),vectorValues:wi("object")};const sL=/^__.*__$/;class oL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new pu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nd(e,this.data,n,this.fieldTransforms)}}class zS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new pu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:r})}}class Zy{constructor(e,n,s,u,d,g){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=u,d===void 0&&this.Rc(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Og(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HS(this.Ac)&&sL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zg(e)}Cc(e,n,s,u=!1){return new Zy({Ac:e,methodName:n,Dc:s,path:Zi.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jy(r){const e=r._freezeSettings(),n=Zg(r._databaseId);return new lL(r._databaseId,!!e.ignoreUndefinedProperties,n)}function uL(r,e,n,s,u,d={}){const g=r.Cc(d.merge||d.mergeFields?2:0,e,n,u);t0("Data must be an object, but it was:",g,s);const E=qS(s,g);let b,T;if(d.merge)b=new la(g.fieldMask),T=g.fieldTransforms;else if(d.mergeFields){const x=[];for(const k of d.mergeFields){const F=iy(e,k,n);if(!g.contains(F))throw new at(He.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);GS(x,F)||x.push(F)}b=new la(x),T=g.fieldTransforms.filter((k=>b.covers(k.field)))}else b=null,T=g.fieldTransforms;return new oL(new Wr(E),b,T)}class rm extends im{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rm}}class e0 extends im{_toFieldTransform(e){return new X2(e.path,new Ed)}isEqual(e){return e instanceof e0}}function cL(r,e,n,s){const u=r.Cc(1,e,n);t0("Data must be an object, but it was:",u,s);const d=[],g=Wr.empty();du(s,((b,T)=>{const x=n0(e,b,n);T=ai(T);const k=u.yc(x);if(T instanceof rm)d.push(x);else{const F=Fd(T,k);F!=null&&(d.push(x),g.set(x,F))}}));const E=new la(d);return new zS(g,E,u.fieldTransforms)}function fL(r,e,n,s,u,d){const g=r.Cc(1,e,n),E=[iy(e,s,n)],b=[u];if(d.length%2!=0)throw new at(He.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<d.length;F+=2)E.push(iy(e,d[F])),b.push(d[F+1]);const T=[],x=Wr.empty();for(let F=E.length-1;F>=0;--F)if(!GS(T,E[F])){const Y=E[F];let Z=b[F];Z=ai(Z);const _e=g.yc(Y);if(Z instanceof rm)T.push(Y);else{const te=Fd(Z,_e);te!=null&&(T.push(Y),x.set(Y,te))}}const k=new la(T);return new zS(x,k,g.fieldTransforms)}function hL(r,e,n,s=!1){return Fd(n,r.Cc(s?4:3,e))}function Fd(r,e){if(jS(r=ai(r)))return t0("Unsupported field value:",e,r),qS(r,e);if(r instanceof im)return(function(s,u){if(!HS(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(u);d&&u.fieldTransforms.push(d)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const d=[];let g=0;for(const E of s){let b=Fd(E,u.wc(g));b==null&&(b={nullValue:"NULL_VALUE"}),d.push(b),g++}return{arrayValue:{values:d}}})(r,e)}return(function(s,u){if((s=ai(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return K2(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const d=Vn.fromDate(s);return{timestampValue:kg(u.serializer,d)}}if(s instanceof Vn){const d=new Vn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kg(u.serializer,d)}}if(s instanceof Ys)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ua)return{bytesValue:cS(u.serializer,s._byteString)};if(s instanceof Ii){const d=u.databaseId,g=s.firestore._databaseId;if(!g.isEqual(d))throw u.Sc(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:By(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Qs)return(function(g,E){return{mapValue:{fields:{[BT]:{stringValue:UT},[Dg]:{arrayValue:{values:g.toArray().map((T=>{if(typeof T!="number")throw E.Sc("VectorValues must only contain numeric values.");return Oy(E.serializer,T)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${qg(s)}`)})(r,e)}function qS(r,e){const n={};return NT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):du(r,((s,u)=>{const d=Fd(u,e.mc(s));d!=null&&(n[s]=d)})),{mapValue:{fields:n}}}function jS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Vn||r instanceof Ys||r instanceof Ua||r instanceof Ii||r instanceof im||r instanceof Qs)}function t0(r,e,n){if(!jS(n)||!kT(n)){const s=qg(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function iy(r,e,n){if((e=ai(e))instanceof nm)return e._internalPath;if(typeof e=="string")return n0(r,e);throw Og("Field path arguments must be of type string or ",r,!1,void 0,n)}const dL=new RegExp("[~\\*/\\[\\]]");function n0(r,e,n){if(e.search(dL)>=0)throw Og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new nm(...e.split("."))._internalPath}catch{throw Og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Og(r,e,n,s,u){const d=s&&!s.isEmpty(),g=u!==void 0;let E=`Function ${e}() called with invalid data`;n&&(E+=" (via `toFirestore()`)"),E+=". ";let b="";return(d||g)&&(b+=" (found",d&&(b+=` in field ${s}`),g&&(b+=` in document ${u}`),b+=")"),new at(He.INVALID_ARGUMENT,E+r+b)}function GS(r,e){return r.some((n=>n.isEqual(e)))}class WS{constructor(e,n,s,u,d){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pL extends WS{data(){return super.data()}}function am(r,e){return typeof e=="string"?n0(r,e):e instanceof nm?e._internalPath:e._delegate._internalPath}function gL(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i0{}class KS extends i0{}function Eb(r,e,...n){let s=[];e instanceof i0&&s.push(e),s=s.concat(n),(function(d){const g=d.filter((b=>b instanceof r0)).length,E=d.filter((b=>b instanceof sm)).length;if(g>1||g>0&&E>0)throw new at(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class sm extends KS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new sm(e,n,s)}_apply(e){const n=this._parse(e);return YS(e._query,n),new dc(e.firestore,e.converter,Gv(e._query,n))}_parse(e){const n=Jy(e.firestore);return(function(d,g,E,b,T,x,k){let F;if(T.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new at(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){wb(k,x);const Z=[];for(const _e of k)Z.push(Sb(b,d,_e));F={arrayValue:{values:Z}}}else F=Sb(b,d,k)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||wb(k,x),F=hL(E,g,k,x==="in"||x==="not-in");return Si.create(T,x,F)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bb(r,e,n){const s=e,u=am("where",r);return sm._create(u,s,n)}class r0 extends i0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(u,d){let g=u;const E=d.getFlattenedFilters();for(const b of E)YS(g,b),g=Gv(g,b)})(e._query,n),new dc(e.firestore,e.converter,Gv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a0 extends KS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new a0(e,n)}_apply(e){const n=(function(u,d,g){if(u.startAt!==null)throw new at(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new at(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _d(d,g)})(e._query,this._field,this._direction);return new dc(e.firestore,e.converter,(function(u,d){const g=u.explicitOrderBy.concat([d]);return new Vf(u.path,u.collectionGroup,g,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)})(e._query,n))}}function Tb(r,e="asc"){const n=e,s=am("orderBy",r);return a0._create(s,n)}function Sb(r,e,n){if(typeof(n=ai(n))=="string"){if(n==="")throw new at(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YT(e)&&n.indexOf("/")!==-1)throw new at(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Pn.fromString(n));if(!bt.isDocumentKey(s))throw new at(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return FE(r,new bt(s))}if(n instanceof Ii)return FE(r,n._key);throw new at(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(n)}.`)}function wb(r,e){if(!Array.isArray(r)||r.length===0)throw new at(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YS(r,e){const n=(function(u,d){for(const g of u)for(const E of g.getFlattenedFilters())if(d.indexOf(E.op)>=0)return E.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new at(He.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(He.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mL{convertValue(e,n="none"){switch(ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return du(e,((u,d)=>{s[u]=this.convertValue(d,n)})),s}convertVectorValue(e){const n=e.fields?.[Dg].arrayValue?.values?.map((s=>di(s.doubleValue)));return new Qs(n)}convertGeoPoint(e){return new Ys(di(e.latitude),di(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wg(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const n=au(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pn.fromString(e);vn(mS(s),9688,{name:e});const u=new vd(s.get(1),s.get(3)),d=new bt(s.popFirst(5));return u.isEqual(n)||Ho(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function vL(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Zp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Af extends WS{constructor(e,n,s,u,d,g){super(e,n,s,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(am("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(He.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Af._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Af._jsonSchemaVersion="firestore/documentSnapshot/1.0",Af._jsonSchema={type:wi("string",Af._jsonSchemaVersion),bundleSource:wi("string","DocumentSnapshot"),bundleName:wi("string"),bundle:wi("string")};class pg extends Af{data(e={}){return super.data(e)}}class Cf{constructor(e,n,s,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Zp(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new pg(this._firestore,this._userDataWriter,s.key,s,new Zp(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(u,d){if(u._snapshot.oldDocs.isEmpty()){let g=0;return u._snapshot.docChanges.map((E=>{const b=new pg(u._firestore,u._userDataWriter,E.doc.key,E.doc,new Zp(u._snapshot.mutatedKeys.has(E.doc.key),u._snapshot.fromCache),u.query.converter);return E.doc,{type:"added",doc:b,oldIndex:-1,newIndex:g++}}))}{let g=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((E=>d||E.type!==3)).map((E=>{const b=new pg(u._firestore,u._userDataWriter,E.doc.key,E.doc,new Zp(u._snapshot.mutatedKeys.has(E.doc.key),u._snapshot.fromCache),u.query.converter);let T=-1,x=-1;return E.type!==0&&(T=g.indexOf(E.doc.key),g=g.delete(E.doc.key)),E.type!==1&&(g=g.add(E.doc),x=g.indexOf(E.doc.key)),{type:yL(E.type),doc:b,oldIndex:T,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(He.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],u=[];return this.docs.forEach((d=>{d._document!==null&&(n.push(d._document),s.push(this._userDataWriter.convertObjectMap(d._document.data.value.mapValue.fields,"previous")),u.push(d.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:r})}}Cf._jsonSchemaVersion="firestore/querySnapshot/1.0",Cf._jsonSchema={type:wi("string",Cf._jsonSchemaVersion),bundleSource:wi("string","QuerySnapshot"),bundleName:wi("string"),bundle:wi("string")};class _L extends mL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ii(this.firestore,null,n)}}function Ab(r){r=sc(r,dc);const e=sc(r.firestore,Pd),n=VS(e),s=new _L(e);return gL(r._query),nL(n,r._query).then((u=>new Cf(e,s,r,u)))}function EL(r,e,n,...s){r=sc(r,Ii);const u=sc(r.firestore,Pd),d=Jy(u);let g;return g=typeof(e=ai(e))=="string"||e instanceof nm?fL(d,"updateDoc",r._key,e,n,s):cL(d,"updateDoc",r._key,e),s0(u,[g.toMutation(r._key,gs.exists(!0))])}function bL(r){return s0(sc(r.firestore,Pd),[new My(r._key,gs.none())])}function TL(r,e){const n=sc(r.firestore,Pd),s=ny(r),u=vL(r.converter,e);return s0(n,[uL(Jy(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,gs.exists(!1))]).then((()=>s))}function s0(r,e){return(function(s,u){const d=new tu;return s.asyncQueue.enqueueAndForget((async()=>HN(await eL(s),u,d))),d.promise})(VS(r),e)}function bv(){return new e0("serverTimestamp")}(function(e,n=!0){(function(u){Ff=u})(uc),nc(new iu("firestore",((s,{instanceIdentifier:u,options:d})=>{const g=s.getProvider("app").getImmediate(),E=new Pd(new a2(s.getProvider("auth-internal")),new l2(g,s.getProvider("app-check-internal")),(function(T,x){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new at(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(T.options.projectId,x)})(g,u),g);return d={useFetchStreams:n,...d},E._setSettings(d),E}),"PUBLIC").setMultipleInstances(!0)),qs(wE,AE,e),qs(wE,AE,"esm2020")})();const QS="firebasestorage.googleapis.com",XS="storageBucket",SL=120*1e3,wL=600*1e3;class oi extends Zs{constructor(e,n,s=0){super(Tv(e),`Firebase Storage: ${n} (${Tv(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var si;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(si||(si={}));function Tv(r){return"storage/"+r}function o0(){const r="An unknown error occurred, please check the error payload for server response.";return new oi(si.UNKNOWN,r)}function AL(r){return new oi(si.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function CL(r){return new oi(si.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DL(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new oi(si.UNAUTHENTICATED,r)}function xL(){return new oi(si.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RL(r){return new oi(si.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function kL(){return new oi(si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IL(){return new oi(si.CANCELED,"User canceled the upload/download.")}function NL(r){return new oi(si.INVALID_URL,"Invalid URL '"+r+"'.")}function LL(r){return new oi(si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function OL(){return new oi(si.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XS+"' property when initializing the app?")}function ML(){return new oi(si.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PL(){return new oi(si.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FL(r){return new oi(si.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ry(r){return new oi(si.INVALID_ARGUMENT,r)}function $S(){return new oi(si.APP_DELETED,"The Firebase app was deleted.")}function BL(r){return new oi(si.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cd(r,e){return new oi(si.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Qh(r){throw new oi(si.INTERNAL_ERROR,"Internal error: "+r)}class ua{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ua.makeFromUrl(e,n)}catch{return new ua(e,"")}if(s.path==="")return s;throw LL(e)}static makeFromUrl(e,n){let s=null;const u="([A-Za-z0-9.\\-_]+)";function d(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const g="(/(.*))?$",E=new RegExp("^gs://"+u+g,"i"),b={bucket:1,path:3};function T(oe){oe.path_=decodeURIComponent(oe.path)}const x="v[A-Za-z0-9_]+",k=n.replace(/[.]/g,"\\."),F="(/([^?#]*).*)?$",Y=new RegExp(`^https?://${k}/${x}/b/${u}/o${F}`,"i"),Z={bucket:1,path:3},_e=n===QS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,te="([^?#]*)",Ee=new RegExp(`^https?://${_e}/${u}/${te}`,"i"),ne=[{regex:E,indices:b,postModify:d},{regex:Y,indices:Z,postModify:T},{regex:Ee,indices:{bucket:1,path:2},postModify:T}];for(let oe=0;oe<ne.length;oe++){const he=ne[oe],xe=he.regex.exec(e);if(xe){const B=xe[he.indices.bucket];let V=xe[he.indices.path];V||(V=""),s=new ua(B,V),he.postModify(s);break}}if(s==null)throw NL(e);return s}}class UL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function VL(r,e,n){let s=1,u=null,d=null,g=!1,E=0;function b(){return E===2}let T=!1;function x(...te){T||(T=!0,e.apply(null,te))}function k(te){u=setTimeout(()=>{u=null,r(Y,b())},te)}function F(){d&&clearTimeout(d)}function Y(te,...Ee){if(T){F();return}if(te){F(),x.call(null,te,...Ee);return}if(b()||g){F(),x.call(null,te,...Ee);return}s<64&&(s*=2);let ne;E===1?(E=2,ne=0):ne=(s+Math.random())*1e3,k(ne)}let Z=!1;function _e(te){Z||(Z=!0,F(),!T&&(u!==null?(te||(E=2),clearTimeout(u),k(0)):te||(E=1)))}return k(0),d=setTimeout(()=>{g=!0,_e(!0)},n),_e}function zL(r){r(!1)}function HL(r){return r!==void 0}function qL(r){return typeof r=="object"&&!Array.isArray(r)}function l0(r){return typeof r=="string"||r instanceof String}function Cb(r){return u0()&&r instanceof Blob}function u0(){return typeof Blob<"u"}function Db(r,e,n,s){if(s<e)throw ry(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw ry(`Invalid value for '${r}'. Expected ${n} or less.`)}function c0(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function ZS(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const u=e(s)+"="+e(r[s]);n=n+u+"&"}return n=n.slice(0,-1),n}var ec;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ec||(ec={}));function jL(r,e){const n=r>=500&&r<600,u=[408,429].indexOf(r)!==-1,d=e.indexOf(r)!==-1;return n||u||d}class GL{constructor(e,n,s,u,d,g,E,b,T,x,k,F=!0,Y=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=u,this.successCodes_=d,this.additionalRetryCodes_=g,this.callback_=E,this.errorCallback_=b,this.timeout_=T,this.progressCallback_=x,this.connectionFactory_=k,this.retry=F,this.isUsingEmulator=Y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Z,_e)=>{this.resolve_=Z,this.reject_=_e,this.start_()})}start_(){const e=(s,u)=>{if(u){s(!1,new Jp(!1,null,!0));return}const d=this.connectionFactory_();this.pendingConnection_=d;const g=E=>{const b=E.loaded,T=E.lengthComputable?E.total:-1;this.progressCallback_!==null&&this.progressCallback_(b,T)};this.progressCallback_!==null&&d.addUploadProgressListener(g),d.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&d.removeUploadProgressListener(g),this.pendingConnection_=null;const E=d.getErrorCode()===ec.NO_ERROR,b=d.getStatus();if(!E||jL(b,this.additionalRetryCodes_)&&this.retry){const x=d.getErrorCode()===ec.ABORT;s(!1,new Jp(!1,null,x));return}const T=this.successCodes_.indexOf(b)!==-1;s(!0,new Jp(T,d))})},n=(s,u)=>{const d=this.resolve_,g=this.reject_,E=u.connection;if(u.wasSuccessCode)try{const b=this.callback_(E,E.getResponse());HL(b)?d(b):d()}catch(b){g(b)}else if(E!==null){const b=o0();b.serverResponse=E.getErrorText(),this.errorCallback_?g(this.errorCallback_(E,b)):g(b)}else if(u.canceled){const b=this.appDelete_?$S():IL();g(b)}else{const b=kL();g(b)}};this.canceled_?n(!1,new Jp(!1,null,!0)):this.backoffId_=VL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jp{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function WL(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function KL(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YL(r,e){e&&(r["X-Firebase-GMPID"]=e)}function QL(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function XL(r,e,n,s,u,d,g=!0,E=!1){const b=ZS(r.urlParams),T=r.url+b,x=Object.assign({},r.headers);return YL(x,e),WL(x,n),KL(x,d),QL(x,s),new GL(T,r.method,x,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,u,g,E)}function $L(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZL(...r){const e=$L();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(u0())return new Blob(r);throw new oi(si.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JL(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function eO(r){if(typeof atob>"u")throw FL("base-64");return atob(r)}const Hs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sv{constructor(e,n){this.data=e,this.contentType=n||null}}function tO(r,e){switch(r){case Hs.RAW:return new Sv(JS(e));case Hs.BASE64:case Hs.BASE64URL:return new Sv(ew(r,e));case Hs.DATA_URL:return new Sv(iO(e),rO(e))}throw o0()}function JS(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const d=s,g=r.charCodeAt(++n);s=65536|(d&1023)<<10|g&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function nO(r){let e;try{e=decodeURIComponent(r)}catch{throw cd(Hs.DATA_URL,"Malformed data URL.")}return JS(e)}function ew(r,e){switch(r){case Hs.BASE64:{const u=e.indexOf("-")!==-1,d=e.indexOf("_")!==-1;if(u||d)throw cd(r,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case Hs.BASE64URL:{const u=e.indexOf("+")!==-1,d=e.indexOf("/")!==-1;if(u||d)throw cd(r,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=eO(e)}catch(u){throw u.message.includes("polyfill")?u:cd(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s}class tw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cd(Hs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=aO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function iO(r){const e=new tw(r);return e.base64?ew(Hs.BASE64,e.rest):nO(e.rest)}function rO(r){return new tw(r).contentType}function aO(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class Xl{constructor(e,n){let s=0,u="";Cb(e)?(this.data_=e,s=e.size,u=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(e,n){if(Cb(this.data_)){const s=this.data_,u=JL(s,e,n);return u===null?null:new Xl(u)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Xl(s,!0)}}static getBlob(...e){if(u0()){const n=e.map(s=>s instanceof Xl?s.data_:s);return new Xl(ZL.apply(null,n))}else{const n=e.map(g=>l0(g)?tO(Hs.RAW,g).data:g.data_);let s=0;n.forEach(g=>{s+=g.byteLength});const u=new Uint8Array(s);let d=0;return n.forEach(g=>{for(let E=0;E<g.length;E++)u[d++]=g[E]}),new Xl(u,!0)}}uploadData(){return this.data_}}function nw(r){let e;try{e=JSON.parse(r)}catch{return null}return qL(e)?e:null}function sO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function oO(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function iw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function lO(r,e){return e}class Rr{constructor(e,n,s,u){this.server=e,this.local=n||e,this.writable=!!s,this.xform=u||lO}}let eg=null;function uO(r){return!l0(r)||r.length<2?r:iw(r)}function rw(){if(eg)return eg;const r=[];r.push(new Rr("bucket")),r.push(new Rr("generation")),r.push(new Rr("metageneration")),r.push(new Rr("name","fullPath",!0));function e(d,g){return uO(g)}const n=new Rr("name");n.xform=e,r.push(n);function s(d,g){return g!==void 0?Number(g):g}const u=new Rr("size");return u.xform=s,r.push(u),r.push(new Rr("timeCreated")),r.push(new Rr("updated")),r.push(new Rr("md5Hash",null,!0)),r.push(new Rr("cacheControl",null,!0)),r.push(new Rr("contentDisposition",null,!0)),r.push(new Rr("contentEncoding",null,!0)),r.push(new Rr("contentLanguage",null,!0)),r.push(new Rr("contentType",null,!0)),r.push(new Rr("metadata","customMetadata",!0)),eg=r,eg}function cO(r,e){function n(){const s=r.bucket,u=r.fullPath,d=new ua(s,u);return e._makeStorageReference(d)}Object.defineProperty(r,"ref",{get:n})}function fO(r,e,n){const s={};s.type="file";const u=n.length;for(let d=0;d<u;d++){const g=n[d];s[g.local]=g.xform(s,e[g.server])}return cO(s,r),s}function aw(r,e,n){const s=nw(e);return s===null?null:fO(r,s,n)}function hO(r,e,n,s){const u=nw(e);if(u===null||!l0(u.downloadTokens))return null;const d=u.downloadTokens;if(d.length===0)return null;const g=encodeURIComponent;return d.split(",").map(T=>{const x=r.bucket,k=r.fullPath,F="/b/"+g(x)+"/o/"+g(k),Y=c0(F,n,s),Z=ZS({alt:"media",token:T});return Y+Z})[0]}function dO(r,e){const n={},s=e.length;for(let u=0;u<s;u++){const d=e[u];d.writable&&(n[d.server]=r[d.local])}return JSON.stringify(n)}class sw{constructor(e,n,s,u){this.url=e,this.method=n,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ow(r){if(!r)throw o0()}function pO(r,e){function n(s,u){const d=aw(r,u,e);return ow(d!==null),d}return n}function gO(r,e){function n(s,u){const d=aw(r,u,e);return ow(d!==null),hO(d,u,r.host,r._protocol)}return n}function lw(r){function e(n,s){let u;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?u=xL():u=DL():n.getStatus()===402?u=CL(r.bucket):n.getStatus()===403?u=RL(r.path):u=s,u.status=n.getStatus(),u.serverResponse=s.serverResponse,u}return e}function mO(r){const e=lw(r);function n(s,u){let d=e(s,u);return s.getStatus()===404&&(d=AL(r.path)),d.serverResponse=u.serverResponse,d}return n}function vO(r,e,n){const s=e.fullServerUrl(),u=c0(s,r.host,r._protocol),d="GET",g=r.maxOperationRetryTime,E=new sw(u,d,gO(r,n),g);return E.errorHandler=mO(e),E}function yO(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function _O(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=yO(null,e)),s}function EO(r,e,n,s,u){const d=e.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"};function E(){let ne="";for(let oe=0;oe<2;oe++)ne=ne+Math.random().toString().slice(2);return ne}const b=E();g["Content-Type"]="multipart/related; boundary="+b;const T=_O(e,s,u),x=dO(T,n),k="--"+b+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+b+`\r
Content-Type: `+T.contentType+`\r
\r
`,F=`\r
--`+b+"--",Y=Xl.getBlob(k,s,F);if(Y===null)throw ML();const Z={name:T.fullPath},_e=c0(d,r.host,r._protocol),te="POST",Ee=r.maxUploadRetryTime,X=new sw(_e,te,pO(r,n),Ee);return X.urlParams=Z,X.headers=g,X.body=Y.uploadData(),X.errorHandler=lw(e),X}class bO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ec.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ec.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ec.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,u,d){if(this.sent_)throw Qh("cannot .send() more than once");if(cu(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),d!==void 0)for(const g in d)d.hasOwnProperty(g)&&this.xhr_.setRequestHeader(g,d[g].toString());return u!==void 0?this.xhr_.send(u):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TO extends bO{initXhr(){this.xhr_.responseType="text"}}function uw(){return new TO}class lc{constructor(e,n){this._service=e,n instanceof ua?this._location=n:this._location=ua.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lc(e,n)}get root(){const e=new ua(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iw(this._location.path)}get storage(){return this._service}get parent(){const e=sO(this._location.path);if(e===null)return null;const n=new ua(this._location.bucket,e);return new lc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BL(e)}}function SO(r,e,n){r._throwIfRoot("uploadBytes");const s=EO(r.storage,r._location,rw(),new Xl(e,!0),n);return r.storage.makeRequestWithTokens(s,uw).then(u=>({metadata:u,ref:r}))}function wO(r){r._throwIfRoot("getDownloadURL");const e=vO(r.storage,r._location,rw());return r.storage.makeRequestWithTokens(e,uw).then(n=>{if(n===null)throw PL();return n})}function AO(r,e){const n=oO(r._location.path,e),s=new ua(r._location.bucket,n);return new lc(r.storage,s)}function CO(r){return/^[A-Za-z]+:\/\//.test(r)}function DO(r,e){return new lc(r,e)}function cw(r,e){if(r instanceof f0){const n=r;if(n._bucket==null)throw OL();const s=new lc(n,n._bucket);return e!=null?cw(s,e):s}else return e!==void 0?AO(r,e):r}function xO(r,e){if(e&&CO(e)){if(r instanceof f0)return DO(r,e);throw ry("To use ref(service, url), the first argument must be a Storage instance.")}else return cw(r,e)}function xb(r,e){const n=e?.[XS];return n==null?null:ua.makeFromBucketSpec(n,r)}function RO(r,e,n,s={}){r.host=`${e}:${n}`;const u=cu(e);u&&(py(`https://${r.host}/b`),gy("Storage",!0)),r._isUsingEmulator=!0,r._protocol=u?"https":"http";const{mockUserToken:d}=s;d&&(r._overrideAuthToken=typeof d=="string"?d:M1(d,r.app.options.projectId))}class f0{constructor(e,n,s,u,d,g=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=u,this._firebaseVersion=d,this._isUsingEmulator=g,this._bucket=null,this._host=QS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SL,this._maxUploadRetryTime=wL,this._requests=new Set,u!=null?this._bucket=ua.makeFromBucketSpec(u,this._host):this._bucket=xb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ua.makeFromBucketSpec(this._url,e):this._bucket=xb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Db("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Db("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(oa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lc(this,e)}_makeRequest(e,n,s,u,d=!0){if(this._deleted)return new UL($S());{const g=XL(e,this._appId,s,u,n,this._firebaseVersion,d,this._isUsingEmulator);return this._requests.add(g),g.getPromise().then(()=>this._requests.delete(g),()=>this._requests.delete(g)),g}}async makeRequestWithTokens(e,n){const[s,u]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,u).getPromise()}}const Rb="@firebase/storage",kb="0.14.0";const fw="storage";function kO(r,e,n){return r=ai(r),SO(r,e,n)}function IO(r){return r=ai(r),wO(r)}function NO(r,e){return r=ai(r),xO(r,e)}function LO(r=yy(),e){r=ai(r);const s=Ug(r,fw).getImmediate({identifier:e}),u=N1("storage");return u&&OO(s,...u),s}function OO(r,e,n,s={}){RO(r,e,n,s)}function MO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),u=r.getProvider("app-check-internal");return new f0(n,s,u,e,uc)}function PO(){nc(new iu(fw,MO,"PUBLIC").setMultipleInstances(!0)),qs(Rb,kb,""),qs(Rb,kb,"esm2020")}PO();const FO={apiKey:"AIzaSyAGbKubYqydhVQAjgq4C5mEmR85MCSso1I",authDomain:"avid-ace-460612-j0.firebaseapp.com",projectId:"avid-ace-460612-j0",storageBucket:"avid-ace-460612-j0.firebasestorage.app",messagingSenderId:"95080649720",appId:"1:95080649720:web:86cd7cf7d312af21febc0d"},h0=B1(FO),tg=Jk(h0),Xh=rL(h0),BO=LO(h0),hw=De.createContext();function om(){return De.useContext(hw)}function UO({children:r}){const[e,n]=De.useState(null),[s,u]=De.useState(!0);function d(T,x){return FR(tg,T,x)}function g(T,x){return BR(tg,T,x)}function E(){return HR(tg)}De.useEffect(()=>zR(tg,x=>{n(x),u(!1)}),[]);const b={currentUser:e,signup:d,login:g,logout:E};return Ge.jsx(hw.Provider,{value:b,children:!s&&r})}function Ib({children:r}){const{currentUser:e}=om();return e?r:Ge.jsx(T1,{to:"/login",replace:!0})}function VO(){const[r,e]=De.useState(!0),[n,s]=De.useState(""),[u,d]=De.useState(""),[g,E]=De.useState(""),[b,T]=De.useState(!1),{login:x,signup:k}=om(),F=Pg();async function Y(Z){if(Z.preventDefault(),E(""),!n.endsWith("@stud.ase.ro"))return E("Access restricted to @stud.ase.ro accounts only.");if(u.length<6)return E("Password must be at least 6 characters.");try{T(!0),r?await x(n,u):await k(n,u),F("/")}catch(_e){console.error(_e);let te="Failed to "+(r?"log in":"create account");_e.code==="auth/invalid-credential"&&(te="Invalid email or password."),_e.code==="auth/email-already-in-use"&&(te="Email already in use."),E(te)}T(!1)}return Ge.jsx("div",{className:"login-container",children:Ge.jsxs("div",{className:"login-card",children:[Ge.jsx("h2",{className:"login-title",children:r?"Welcome Back":"Create Account"}),Ge.jsx("p",{className:"login-subtitle",children:"Course Notes Platform"}),g&&Ge.jsx("div",{className:"alert-error",children:g}),Ge.jsxs("form",{onSubmit:Y,className:"login-form",children:[Ge.jsxs("div",{className:"form-group",children:[Ge.jsx("label",{htmlFor:"email",children:"Institutional Email"}),Ge.jsx("input",{type:"email",id:"email",placeholder:"student@stud.ase.ro",value:n,onChange:Z=>s(Z.target.value),required:!0})]}),Ge.jsxs("div",{className:"form-group",children:[Ge.jsx("label",{htmlFor:"password",children:"Password"}),Ge.jsx("input",{type:"password",id:"password",placeholder:"",value:u,onChange:Z=>d(Z.target.value),required:!0})]}),Ge.jsx("button",{disabled:b,type:"submit",className:"btn-primary",children:r?"Log In":"Sign Up"})]}),Ge.jsxs("div",{className:"login-footer",children:[r?"Don't have an account? ":"Already have an account? ",Ge.jsx("button",{type:"button",className:"btn-link",onClick:()=>e(!r),children:r?"Sign Up":"Log In"})]})]})})}const $h="notes",Ef={async createNote(r,e){try{return(await TL(Ev(Xh,$h),{userId:r,title:e.title||"Untitled Note",content:e.content||"",markdown:e.markdown||"",tags:e.tags||[],subject:e.subject||"General",createdAt:bv(),updatedAt:bv()})).id}catch(n){throw console.error("Error creating note: ",n),n}},async getUserNotes(r,e){try{const n=Eb(Ev(Xh,$h),bb("userId","==",r),Tb("updatedAt","desc")),s=Eb(Ev(Xh,$h),bb("sharedWith","array-contains",e),Tb("updatedAt","desc")),[u,d]=await Promise.all([Ab(n),Ab(s)]),g=u.docs.map(b=>({id:b.id,...b.data(),isOwner:!0})),E=d.docs.map(b=>({id:b.id,...b.data(),isOwner:!1}));return[...g,...E].sort((b,T)=>T.updatedAt-b.updatedAt)}catch(n){throw console.error("Error fetching notes: ",n),n}},async updateNote(r,e){try{const n=ny(Xh,$h,r);await EL(n,{...e,updatedAt:bv()})}catch(n){throw console.error("Error updating note: ",n),n}},async deleteNote(r){try{await bL(ny(Xh,$h,r))}catch(e){throw console.error("Error deleting note: ",e),e}}};var gg={exports:{}},zO=gg.exports,Nb;function fa(){return Nb||(Nb=1,(function(r,e){(function(n,s){r.exports=s()})(zO,(function(){var n=navigator.userAgent,s=navigator.platform,u=/gecko\/\d/i.test(n),d=/MSIE \d/.test(n),g=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),E=/Edge\/(\d+)/.exec(n),b=d||g||E,T=b&&(d?document.documentMode||6:+(E||g)[1]),x=!E&&/WebKit\//.test(n),k=x&&/Qt\/\d+\.\d+/.test(n),F=!E&&/Chrome\/(\d+)/.exec(n),Y=F&&+F[1],Z=/Opera\//.test(n),_e=/Apple Computer/.test(navigator.vendor),te=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),Ee=/PhantomJS/.test(n),X=_e&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),ne=/Android/.test(n),oe=X||ne||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),he=X||/Mac/.test(s),xe=/\bCrOS\b/.test(n),B=/win/i.test(s),V=Z&&n.match(/Version\/(\d*\.\d*)/);V&&(V=Number(V[1])),V&&V>=15&&(Z=!1,x=!0);var q=he&&(k||Z&&(V==null||V<12.11)),ae=u||b&&T>=9;function G(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var ie=function(i,o){var f=i.className,c=G(o).exec(f);if(c){var p=f.slice(c.index+c[0].length);i.className=f.slice(0,c.index)+(p?c[1]+p:"")}};function K(i){for(var o=i.childNodes.length;o>0;--o)i.removeChild(i.firstChild);return i}function st(i,o){return K(i).appendChild(o)}function ce(i,o,f,c){var p=document.createElement(i);if(f&&(p.className=f),c&&(p.style.cssText=c),typeof o=="string")p.appendChild(document.createTextNode(o));else if(o)for(var y=0;y<o.length;++y)p.appendChild(o[y]);return p}function ue(i,o,f,c){var p=ce(i,o,f,c);return p.setAttribute("role","presentation"),p}var we;document.createRange?we=function(i,o,f,c){var p=document.createRange();return p.setEnd(c||i,f),p.setStart(i,o),p}:we=function(i,o,f){var c=document.body.createTextRange();try{c.moveToElementText(i.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",f),c.moveStart("character",o),c};function Ve(i,o){if(o.nodeType==3&&(o=o.parentNode),i.contains)return i.contains(o);do if(o.nodeType==11&&(o=o.host),o==i)return!0;while(o=o.parentNode)}function ot(i){var o=i.ownerDocument||i,f;try{f=i.activeElement}catch{f=o.body||null}for(;f&&f.shadowRoot&&f.shadowRoot.activeElement;)f=f.shadowRoot.activeElement;return f}function St(i,o){var f=i.className;G(o).test(f)||(i.className+=(f?" ":"")+o)}function fe(i,o){for(var f=i.split(" "),c=0;c<f.length;c++)f[c]&&!G(f[c]).test(o)&&(o+=" "+f[c]);return o}var z=function(i){i.select()};X?z=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:b&&(z=function(i){try{i.select()}catch{}});function I(i){return i.display.wrapper.ownerDocument}function ge(i){return Je(i.display.wrapper)}function Je(i){return i.getRootNode?i.getRootNode():i.ownerDocument}function $e(i){return I(i).defaultView}function dt(i){var o=Array.prototype.slice.call(arguments,1);return function(){return i.apply(null,o)}}function kt(i,o,f){o||(o={});for(var c in i)i.hasOwnProperty(c)&&(f!==!1||!o.hasOwnProperty(c))&&(o[c]=i[c]);return o}function Tt(i,o,f,c,p){o==null&&(o=i.search(/[^\s\u00a0]/),o==-1&&(o=i.length));for(var y=c||0,S=p||0;;){var C=i.indexOf("	",y);if(C<0||C>=o)return S+(o-y);S+=C-y,S+=f-S%f,y=C+1}}var Kt=function(){this.id=null,this.f=null,this.time=0,this.handler=dt(this.onTimeout,this)};Kt.prototype.onTimeout=function(i){i.id=0,i.time<=+new Date?i.f():setTimeout(i.handler,i.time-+new Date)},Kt.prototype.set=function(i,o){this.f=o;var f=+new Date+i;(!this.id||f<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,i),this.time=f)};function xt(i,o){for(var f=0;f<i.length;++f)if(i[f]==o)return f;return-1}var Ft=50,un={toString:function(){return"CodeMirror.Pass"}},sn={scroll:!1},ut={origin:"*mouse"},Fn={origin:"+move"};function li(i,o,f){for(var c=0,p=0;;){var y=i.indexOf("	",c);y==-1&&(y=i.length);var S=y-c;if(y==i.length||p+S>=o)return c+Math.min(S,o-p);if(p+=y-c,p+=f-p%f,c=y+1,p>=o)return c}}var yn=[""];function tn(i){for(;yn.length<=i;)yn.push(et(yn)+" ");return yn[i]}function et(i){return i[i.length-1]}function mn(i,o){for(var f=[],c=0;c<i.length;c++)f[c]=o(i[c],c);return f}function er(i,o,f){for(var c=0,p=f(o);c<i.length&&f(i[c])<=p;)c++;i.splice(c,0,o)}function Kr(){}function Se(i,o){var f;return Object.create?f=Object.create(i):(Kr.prototype=i,f=new Kr),o&&kt(o,f),f}var Ce=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function de(i){return/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||Ce.test(i))}function P(i,o){return o?o.source.indexOf("\\w")>-1&&de(i)?!0:o.test(i):de(i)}function M(i){for(var o in i)if(i.hasOwnProperty(o)&&i[o])return!1;return!0}var le=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function w(i){return i.charCodeAt(0)>=768&&le.test(i)}function L(i,o,f){for(;(f<0?o>0:o<i.length)&&w(i.charAt(o));)o+=f;return o}function W(i,o,f){for(var c=o>f?-1:1;;){if(o==f)return o;var p=(o+f)/2,y=c<0?Math.ceil(p):Math.floor(p);if(y==o)return i(y)?o:f;i(y)?f=y:o=y+c}}function $(i,o,f,c){if(!i)return c(o,f,"ltr",0);for(var p=!1,y=0;y<i.length;++y){var S=i[y];(S.from<f&&S.to>o||o==f&&S.to==o)&&(c(Math.max(S.from,o),Math.min(S.to,f),S.level==1?"rtl":"ltr",y),p=!0)}p||c(o,f,"ltr")}var ee=null;function ye(i,o,f){var c;ee=null;for(var p=0;p<i.length;++p){var y=i[p];if(y.from<o&&y.to>o)return p;y.to==o&&(y.from!=y.to&&f=="before"?c=p:ee=p),y.from==o&&(y.from!=y.to&&f!="before"?c=p:ee=p)}return c??ee}var re=(function(){var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",o="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function f(O){return O<=247?i.charAt(O):1424<=O&&O<=1524?"R":1536<=O&&O<=1785?o.charAt(O-1536):1774<=O&&O<=2220?"r":8192<=O&&O<=8203?"w":O==8204?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,p=/[stwN]/,y=/[LRr]/,S=/[Lb1n]/,C=/[1n]/;function D(O,j,Q){this.level=O,this.from=j,this.to=Q}return function(O,j){var Q=j=="ltr"?"L":"R";if(O.length==0||j=="ltr"&&!c.test(O))return!1;for(var be=O.length,pe=[],Le=0;Le<be;++Le)pe.push(f(O.charCodeAt(Le)));for(var Be=0,Ye=Q;Be<be;++Be){var Ze=pe[Be];Ze=="m"?pe[Be]=Ye:Ye=Ze}for(var tt=0,qe=Q;tt<be;++tt){var it=pe[tt];it=="1"&&qe=="r"?pe[tt]="n":y.test(it)&&(qe=it,it=="r"&&(pe[tt]="R"))}for(var vt=1,ht=pe[0];vt<be-1;++vt){var Rt=pe[vt];Rt=="+"&&ht=="1"&&pe[vt+1]=="1"?pe[vt]="1":Rt==","&&ht==pe[vt+1]&&(ht=="1"||ht=="n")&&(pe[vt]=ht),ht=Rt}for(var jt=0;jt<be;++jt){var ii=pe[jt];if(ii==",")pe[jt]="N";else if(ii=="%"){var Nn=void 0;for(Nn=jt+1;Nn<be&&pe[Nn]=="%";++Nn);for(var bi=jt&&pe[jt-1]=="!"||Nn<be&&pe[Nn]=="1"?"1":"N",Mn=jt;Mn<Nn;++Mn)pe[Mn]=bi;jt=Nn-1}}for(var Wn=0,Ri=Q;Wn<be;++Wn){var fi=pe[Wn];Ri=="L"&&fi=="1"?pe[Wn]="L":y.test(fi)&&(Ri=fi)}for(var Kn=0;Kn<be;++Kn)if(p.test(pe[Kn])){var Un=void 0;for(Un=Kn+1;Un<be&&p.test(pe[Un]);++Un);for(var Dn=(Kn?pe[Kn-1]:Q)=="L",Fi=(Un<be?pe[Un]:Q)=="L",fr=Dn==Fi?Dn?"L":"R":Q,En=Kn;En<Un;++En)pe[En]=fr;Kn=Un-1}for(var hi=[],ia,zt=0;zt<be;)if(S.test(pe[zt])){var kh=zt;for(++zt;zt<be&&S.test(pe[zt]);++zt);hi.push(new D(0,kh,zt))}else{var Pa=zt,Us=hi.length,fn=j=="rtl"?1:0;for(++zt;zt<be&&pe[zt]!="L";++zt);for(var pn=Pa;pn<zt;)if(C.test(pe[pn])){Pa<pn&&(hi.splice(Us,0,new D(1,Pa,pn)),Us+=fn);var hr=pn;for(++pn;pn<zt&&C.test(pe[pn]);++pn);hi.splice(Us,0,new D(2,hr,pn)),Us+=fn,Pa=pn}else++pn;Pa<zt&&hi.splice(Us,0,new D(1,Pa,zt))}return j=="ltr"&&(hi[0].level==1&&(ia=O.match(/^\s+/))&&(hi[0].from=ia[0].length,hi.unshift(new D(0,0,ia[0].length))),et(hi).level==1&&(ia=O.match(/\s+$/))&&(et(hi).to-=ia[0].length,hi.push(new D(0,be-ia[0].length,be)))),j=="rtl"?hi.reverse():hi}})();function J(i,o){var f=i.order;return f==null&&(f=i.order=re(i.text,o)),f}var Te=[],me=function(i,o,f){if(i.addEventListener)i.addEventListener(o,f,!1);else if(i.attachEvent)i.attachEvent("on"+o,f);else{var c=i._handlers||(i._handlers={});c[o]=(c[o]||Te).concat(f)}};function Qe(i,o){return i._handlers&&i._handlers[o]||Te}function nt(i,o,f){if(i.removeEventListener)i.removeEventListener(o,f,!1);else if(i.detachEvent)i.detachEvent("on"+o,f);else{var c=i._handlers,p=c&&c[o];if(p){var y=xt(p,f);y>-1&&(c[o]=p.slice(0,y).concat(p.slice(y+1)))}}}function Xe(i,o){var f=Qe(i,o);if(f.length)for(var c=Array.prototype.slice.call(arguments,2),p=0;p<f.length;++p)f[p].apply(null,c)}function We(i,o,f){return typeof o=="string"&&(o={type:o,preventDefault:function(){this.defaultPrevented=!0}}),Xe(i,f||o.type,i,o),Yt(o)||o.codemirrorIgnore}function pt(i){var o=i._handlers&&i._handlers.cursorActivity;if(o)for(var f=i.curOp.cursorActivityHandlers||(i.curOp.cursorActivityHandlers=[]),c=0;c<o.length;++c)xt(f,o[c])==-1&&f.push(o[c])}function mt(i,o){return Qe(i,o).length>0}function At(i){i.prototype.on=function(o,f){me(this,o,f)},i.prototype.off=function(o,f){nt(this,o,f)}}function yt(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function Bt(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function Yt(i){return i.defaultPrevented!=null?i.defaultPrevented:i.returnValue==!1}function Bn(i){yt(i),Bt(i)}function zn(i){return i.target||i.srcElement}function Qn(i){var o=i.which;return o==null&&(i.button&1?o=1:i.button&2?o=3:i.button&4&&(o=2)),he&&i.ctrlKey&&o==1&&(o=3),o}var ha=(function(){if(b&&T<9)return!1;var i=ce("div");return"draggable"in i||"dragDrop"in i})(),kr;function Ir(i){if(kr==null){var o=ce("span","");st(i,ce("span",[o,document.createTextNode("x")])),i.firstChild.offsetHeight!=0&&(kr=o.offsetWidth<=1&&o.offsetHeight>2&&!(b&&T<8))}var f=kr?ce("span",""):ce("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return f.setAttribute("cm-text",""),f}var ys;function Ui(i){if(ys!=null)return ys;var o=st(i,document.createTextNode("AA")),f=we(o,0,1).getBoundingClientRect(),c=we(o,1,2).getBoundingClientRect();return K(i),!f||f.left==f.right?!1:ys=c.right-f.right<3}var Vi=`

b`.split(/\n/).length!=3?function(i){for(var o=0,f=[],c=i.length;o<=c;){var p=i.indexOf(`
`,o);p==-1&&(p=i.length);var y=i.slice(o,i.charAt(p-1)=="\r"?p-1:p),S=y.indexOf("\r");S!=-1?(f.push(y.slice(0,S)),o+=S+1):(f.push(y),o=p+1)}return f}:function(i){return i.split(/\r\n?|\n/)},Hn=window.getSelection?function(i){try{return i.selectionStart!=i.selectionEnd}catch{return!1}}:function(i){var o;try{o=i.ownerDocument.selection.createRange()}catch{}return!o||o.parentElement()!=i?!1:o.compareEndPoints("StartToEnd",o)!=0},Ht=(function(){var i=ce("div");return"oncopy"in i?!0:(i.setAttribute("oncopy","return;"),typeof i.oncopy=="function")})(),ui=null;function Li(i){if(ui!=null)return ui;var o=st(i,ce("span","x")),f=o.getBoundingClientRect(),c=we(o,0,1).getBoundingClientRect();return ui=Math.abs(f.left-c.left)>1}var zi={},Ai={};function da(i,o){arguments.length>2&&(o.dependencies=Array.prototype.slice.call(arguments,2)),zi[i]=o}function yr(i,o){Ai[i]=o}function Yr(i){if(typeof i=="string"&&Ai.hasOwnProperty(i))i=Ai[i];else if(i&&typeof i.name=="string"&&Ai.hasOwnProperty(i.name)){var o=Ai[i.name];typeof o=="string"&&(o={name:o}),i=Se(o,i),i.name=o.name}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i))return Yr("application/xml");if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(i))return Yr("application/json")}return typeof i=="string"?{name:i}:i||{name:"null"}}function Hi(i,o){o=Yr(o);var f=zi[o.name];if(!f)return Hi(i,"text/plain");var c=f(i,o);if(Ci.hasOwnProperty(o.name)){var p=Ci[o.name];for(var y in p)p.hasOwnProperty(y)&&(c.hasOwnProperty(y)&&(c["_"+y]=c[y]),c[y]=p[y])}if(c.name=o.name,o.helperType&&(c.helperType=o.helperType),o.modeProps)for(var S in o.modeProps)c[S]=o.modeProps[S];return c}var Ci={};function _r(i,o){var f=Ci.hasOwnProperty(i)?Ci[i]:Ci[i]={};kt(o,f)}function Oi(i,o){if(o===!0)return o;if(i.copyState)return i.copyState(o);var f={};for(var c in o){var p=o[c];p instanceof Array&&(p=p.concat([])),f[c]=p}return f}function qn(i,o){for(var f;i.innerMode&&(f=i.innerMode(o),!(!f||f.mode==i));)o=f.state,i=f.mode;return f||{mode:i,state:o}}function Go(i,o,f){return i.startState?i.startState(o,f):!0}var kn=function(i,o,f){this.pos=this.start=0,this.string=i,this.tabSize=o||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=f};kn.prototype.eol=function(){return this.pos>=this.string.length},kn.prototype.sol=function(){return this.pos==this.lineStart},kn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},kn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},kn.prototype.eat=function(i){var o=this.string.charAt(this.pos),f;if(typeof i=="string"?f=o==i:f=o&&(i.test?i.test(o):i(o)),f)return++this.pos,o},kn.prototype.eatWhile=function(i){for(var o=this.pos;this.eat(i););return this.pos>o},kn.prototype.eatSpace=function(){for(var i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>i},kn.prototype.skipToEnd=function(){this.pos=this.string.length},kn.prototype.skipTo=function(i){var o=this.string.indexOf(i,this.pos);if(o>-1)return this.pos=o,!0},kn.prototype.backUp=function(i){this.pos-=i},kn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Tt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Tt(this.string,this.lineStart,this.tabSize):0)},kn.prototype.indentation=function(){return Tt(this.string,null,this.tabSize)-(this.lineStart?Tt(this.string,this.lineStart,this.tabSize):0)},kn.prototype.match=function(i,o,f){if(typeof i=="string"){var c=function(S){return f?S.toLowerCase():S},p=this.string.substr(this.pos,i.length);if(c(p)==c(i))return o!==!1&&(this.pos+=i.length),!0}else{var y=this.string.slice(this.pos).match(i);return y&&y.index>0?null:(y&&o!==!1&&(this.pos+=y[0].length),y)}},kn.prototype.current=function(){return this.string.slice(this.start,this.pos)},kn.prototype.hideFirstChars=function(i,o){this.lineStart+=i;try{return o()}finally{this.lineStart-=i}},kn.prototype.lookAhead=function(i){var o=this.lineOracle;return o&&o.lookAhead(i)},kn.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};function rt(i,o){if(o-=i.first,o<0||o>=i.size)throw new Error("There is no line "+(o+i.first)+" in the document.");for(var f=i;!f.lines;)for(var c=0;;++c){var p=f.children[c],y=p.chunkSize();if(o<y){f=p;break}o-=y}return f.lines[o]}function Mi(i,o,f){var c=[],p=o.line;return i.iter(o.line,f.line+1,function(y){var S=y.text;p==f.line&&(S=S.slice(0,f.ch)),p==o.line&&(S=S.slice(o.ch)),c.push(S),++p}),c}function eo(i,o,f){var c=[];return i.iter(o,f,function(p){c.push(p.text)}),c}function tr(i,o){var f=o-i.height;if(f)for(var c=i;c;c=c.parent)c.height+=f}function Qt(i){if(i.parent==null)return null;for(var o=i.parent,f=xt(o.lines,i),c=o.parent;c;o=c,c=c.parent)for(var p=0;c.children[p]!=o;++p)f+=c.children[p].chunkSize();return f+o.first}function pa(i,o){var f=i.first;e:do{for(var c=0;c<i.children.length;++c){var p=i.children[c],y=p.height;if(o<y){i=p;continue e}o-=y,f+=p.chunkSize()}return f}while(!i.lines);for(var S=0;S<i.lines.length;++S){var C=i.lines[S],D=C.height;if(o<D)break;o-=D}return f+S}function ga(i,o){return o>=i.first&&o<i.first+i.size}function qi(i,o){return String(i.lineNumberFormatter(o+i.firstLineNumber))}function Fe(i,o,f){if(f===void 0&&(f=null),!(this instanceof Fe))return new Fe(i,o,f);this.line=i,this.ch=o,this.sticky=f}function ct(i,o){return i.line-o.line||i.ch-o.ch}function ma(i,o){return i.sticky==o.sticky&&ct(i,o)==0}function to(i){return Fe(i.line,i.ch)}function nn(i,o){return ct(i,o)<0?o:i}function va(i,o){return ct(i,o)<0?i:o}function Qr(i,o){return Math.max(i.first,Math.min(o,i.first+i.size-1))}function _t(i,o){if(o.line<i.first)return Fe(i.first,0);var f=i.first+i.size-1;return o.line>f?Fe(f,rt(i,f).text.length):nr(o,rt(i,o.line).text.length)}function nr(i,o){var f=i.ch;return f==null||f>o?Fe(i.line,o):f<0?Fe(i.line,0):i}function no(i,o){for(var f=[],c=0;c<o.length;c++)f[c]=_t(i,o[c]);return f}var io=function(i,o){this.state=i,this.lookAhead=o},ir=function(i,o,f,c){this.state=o,this.doc=i,this.line=f,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};ir.prototype.lookAhead=function(i){var o=this.doc.getLine(this.line+i);return o!=null&&i>this.maxLookAhead&&(this.maxLookAhead=i),o},ir.prototype.baseToken=function(i){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=i;)this.baseTokenPos+=2;var o=this.baseTokens[this.baseTokenPos+1];return{type:o&&o.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-i}},ir.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ir.fromSaved=function(i,o,f){return o instanceof io?new ir(i,Oi(i.mode,o.state),f,o.lookAhead):new ir(i,Oi(i.mode,o),f)},ir.prototype.save=function(i){var o=i!==!1?Oi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new io(o,this.maxLookAhead):o};function za(i,o,f,c){var p=[i.state.modeGen],y={};Ha(i,o.text,i.doc.mode,f,function(O,j){return p.push(O,j)},y,c);for(var S=f.state,C=function(O){f.baseTokens=p;var j=i.state.overlays[O],Q=1,be=0;f.state=!0,Ha(i,o.text,j.mode,f,function(pe,Le){for(var Be=Q;be<pe;){var Ye=p[Q];Ye>pe&&p.splice(Q,1,pe,p[Q+1],Ye),Q+=2,be=Math.min(pe,Ye)}if(Le)if(j.opaque)p.splice(Be,Q-Be,pe,"overlay "+Le),Q=Be+2;else for(;Be<Q;Be+=2){var Ze=p[Be+1];p[Be+1]=(Ze?Ze+" ":"")+"overlay "+Le}},y),f.state=S,f.baseTokens=null,f.baseTokenPos=1},D=0;D<i.state.overlays.length;++D)C(D);return{styles:p,classes:y.bgClass||y.textClass?y:null}}function gu(i,o,f){if(!o.styles||o.styles[0]!=i.state.modeGen){var c=Nr(i,Qt(o)),p=o.text.length>i.options.maxHighlightLength&&Oi(i.doc.mode,c.state),y=za(i,o,c);p&&(c.state=p),o.stateAfter=c.save(!p),o.styles=y.styles,y.classes?o.styleClasses=y.classes:o.styleClasses&&(o.styleClasses=null),f===i.doc.highlightFrontier&&(i.doc.modeFrontier=Math.max(i.doc.modeFrontier,++i.doc.highlightFrontier))}return o.styles}function Nr(i,o,f){var c=i.doc,p=i.display;if(!c.mode.startState)return new ir(c,!0,o);var y=Ko(i,o,f),S=y>c.first&&rt(c,y-1).stateAfter,C=S?ir.fromSaved(c,S,y):new ir(c,Go(c.mode),y);return c.iter(y,o,function(D){Pi(i,D.text,C);var O=C.line;D.stateAfter=O==o-1||O%5==0||O>=p.viewFrom&&O<p.viewTo?C.save():null,C.nextLine()}),f&&(c.modeFrontier=C.line),C}function Pi(i,o,f,c){var p=i.doc.mode,y=new kn(o,i.options.tabSize,f);for(y.start=y.pos=c||0,o==""&&mu(p,f.state);!y.eol();)ro(p,y,f.state),y.start=y.pos}function mu(i,o){if(i.blankLine)return i.blankLine(o);if(i.innerMode){var f=qn(i,o);if(f.mode.blankLine)return f.mode.blankLine(f.state)}}function ro(i,o,f,c){for(var p=0;p<10;p++){c&&(c[0]=qn(i,f).mode);var y=i.token(o,f);if(o.pos>o.start)return y}throw new Error("Mode "+i.name+" failed to advance stream.")}var Wo=function(i,o,f){this.start=i.start,this.end=i.pos,this.string=i.current(),this.type=o||null,this.state=f};function ao(i,o,f,c){var p=i.doc,y=p.mode,S;o=_t(p,o);var C=rt(p,o.line),D=Nr(i,o.line,f),O=new kn(C.text,i.options.tabSize,D),j;for(c&&(j=[]);(c||O.pos<o.ch)&&!O.eol();)O.start=O.pos,S=ro(y,O,D.state),c&&j.push(new Wo(O,S,Oi(p.mode,D.state)));return c?j:new Wo(O,S,D.state)}function vu(i,o){if(i)for(;;){var f=i.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f)break;i=i.slice(0,f.index)+i.slice(f.index+f[0].length);var c=f[1]?"bgClass":"textClass";o[c]==null?o[c]=f[2]:new RegExp("(?:^|\\s)"+f[2]+"(?:$|\\s)").test(o[c])||(o[c]+=" "+f[2])}return i}function Ha(i,o,f,c,p,y,S){var C=f.flattenSpans;C==null&&(C=i.options.flattenSpans);var D=0,O=null,j=new kn(o,i.options.tabSize,c),Q,be=i.options.addModeClass&&[null];for(o==""&&vu(mu(f,c.state),y);!j.eol();){if(j.pos>i.options.maxHighlightLength?(C=!1,S&&Pi(i,o,c,j.pos),j.pos=o.length,Q=null):Q=vu(ro(f,j,c.state,be),y),be){var pe=be[0].name;pe&&(Q="m-"+(Q?pe+" "+Q:pe))}if(!C||O!=Q){for(;D<j.start;)D=Math.min(j.start,D+5e3),p(D,O);O=Q}j.start=j.pos}for(;D<j.pos;){var Le=Math.min(j.pos,D+5e3);p(Le,O),D=Le}}function Ko(i,o,f){for(var c,p,y=i.doc,S=f?-1:o-(i.doc.mode.innerMode?1e3:100),C=o;C>S;--C){if(C<=y.first)return y.first;var D=rt(y,C-1),O=D.stateAfter;if(O&&(!f||C+(O instanceof io?O.lookAhead:0)<=y.modeFrontier))return C;var j=Tt(D.text,null,i.options.tabSize);(p==null||c>j)&&(p=C-1,c=j)}return p}function Xr(i,o){if(i.modeFrontier=Math.min(i.modeFrontier,o),!(i.highlightFrontier<o-10)){for(var f=i.first,c=o-1;c>f;c--){var p=rt(i,c).stateAfter;if(p&&(!(p instanceof io)||c+p.lookAhead<o)){f=c+1;break}}i.highlightFrontier=Math.min(i.highlightFrontier,f)}}var Yo=!1,ti=!1;function _s(){Yo=!0}function ya(){ti=!0}function _a(i,o,f){this.marker=i,this.from=o,this.to=f}function Ea(i,o){if(i)for(var f=0;f<i.length;++f){var c=i[f];if(c.marker==o)return c}}function Es(i,o){for(var f,c=0;c<i.length;++c)i[c]!=o&&(f||(f=[])).push(i[c]);return f}function $r(i,o,f){var c=f&&window.WeakSet&&(f.markedSpans||(f.markedSpans=new WeakSet));c&&i.markedSpans&&c.has(i.markedSpans)?i.markedSpans.push(o):(i.markedSpans=i.markedSpans?i.markedSpans.concat([o]):[o],c&&c.add(i.markedSpans)),o.marker.attachLine(i)}function Lr(i,o,f){var c;if(i)for(var p=0;p<i.length;++p){var y=i[p],S=y.marker,C=y.from==null||(S.inclusiveLeft?y.from<=o:y.from<o);if(C||y.from==o&&S.type=="bookmark"&&(!f||!y.marker.insertLeft)){var D=y.to==null||(S.inclusiveRight?y.to>=o:y.to>o);(c||(c=[])).push(new _a(S,y.from,D?null:y.to))}}return c}function so(i,o,f){var c;if(i)for(var p=0;p<i.length;++p){var y=i[p],S=y.marker,C=y.to==null||(S.inclusiveRight?y.to>=o:y.to>o);if(C||y.from==o&&S.type=="bookmark"&&(!f||y.marker.insertLeft)){var D=y.from==null||(S.inclusiveLeft?y.from<=o:y.from<o);(c||(c=[])).push(new _a(S,D?null:y.from-o,y.to==null?null:y.to-o))}}return c}function cn(i,o){if(o.full)return null;var f=ga(i,o.from.line)&&rt(i,o.from.line).markedSpans,c=ga(i,o.to.line)&&rt(i,o.to.line).markedSpans;if(!f&&!c)return null;var p=o.from.ch,y=o.to.ch,S=ct(o.from,o.to)==0,C=Lr(f,p,S),D=so(c,y,S),O=o.text.length==1,j=et(o.text).length+(O?p:0);if(C)for(var Q=0;Q<C.length;++Q){var be=C[Q];if(be.to==null){var pe=Ea(D,be.marker);pe?O&&(be.to=pe.to==null?null:pe.to+j):be.to=p}}if(D)for(var Le=0;Le<D.length;++Le){var Be=D[Le];if(Be.to!=null&&(Be.to+=j),Be.from==null){var Ye=Ea(C,Be.marker);Ye||(Be.from=j,O&&(C||(C=[])).push(Be))}else Be.from+=j,O&&(C||(C=[])).push(Be)}C&&(C=Zr(C)),D&&D!=C&&(D=Zr(D));var Ze=[C];if(!O){var tt=o.text.length-2,qe;if(tt>0&&C)for(var it=0;it<C.length;++it)C[it].to==null&&(qe||(qe=[])).push(new _a(C[it].marker,null,null));for(var vt=0;vt<tt;++vt)Ze.push(qe);Ze.push(D)}return Ze}function Zr(i){for(var o=0;o<i.length;++o){var f=i[o];f.from!=null&&f.from==f.to&&f.marker.clearWhenEmpty!==!1&&i.splice(o--,1)}return i.length?i:null}function yu(i,o,f){var c=null;if(i.iter(o.line,f.line+1,function(pe){if(pe.markedSpans)for(var Le=0;Le<pe.markedSpans.length;++Le){var Be=pe.markedSpans[Le].marker;Be.readOnly&&(!c||xt(c,Be)==-1)&&(c||(c=[])).push(Be)}}),!c)return null;for(var p=[{from:o,to:f}],y=0;y<c.length;++y)for(var S=c[y],C=S.find(0),D=0;D<p.length;++D){var O=p[D];if(!(ct(O.to,C.from)<0||ct(O.from,C.to)>0)){var j=[D,1],Q=ct(O.from,C.from),be=ct(O.to,C.to);(Q<0||!S.inclusiveLeft&&!Q)&&j.push({from:O.from,to:C.from}),(be>0||!S.inclusiveRight&&!be)&&j.push({from:C.to,to:O.to}),p.splice.apply(p,j),D+=j.length-3}}return p}function bs(i){var o=i.markedSpans;if(o){for(var f=0;f<o.length;++f)o[f].marker.detachLine(i);i.markedSpans=null}}function Qo(i,o){if(o){for(var f=0;f<o.length;++f)o[f].marker.attachLine(i);i.markedSpans=o}}function ba(i){return i.inclusiveLeft?-1:0}function Or(i){return i.inclusiveRight?1:0}function Er(i,o){var f=i.lines.length-o.lines.length;if(f!=0)return f;var c=i.find(),p=o.find(),y=ct(c.from,p.from)||ba(i)-ba(o);if(y)return-y;var S=ct(c.to,p.to)||Or(i)-Or(o);return S||o.id-i.id}function pi(i,o){var f=ti&&i.markedSpans,c;if(f)for(var p=void 0,y=0;y<f.length;++y)p=f[y],p.marker.collapsed&&(o?p.from:p.to)==null&&(!c||Er(c,p.marker)<0)&&(c=p.marker);return c}function Ta(i){return pi(i,!0)}function br(i){return pi(i,!1)}function Ts(i,o){var f=ti&&i.markedSpans,c;if(f)for(var p=0;p<f.length;++p){var y=f[p];y.marker.collapsed&&(y.from==null||y.from<o)&&(y.to==null||y.to>o)&&(!c||Er(c,y.marker)<0)&&(c=y.marker)}return c}function Xo(i,o,f,c,p){var y=rt(i,o),S=ti&&y.markedSpans;if(S)for(var C=0;C<S.length;++C){var D=S[C];if(D.marker.collapsed){var O=D.marker.find(0),j=ct(O.from,f)||ba(D.marker)-ba(p),Q=ct(O.to,c)||Or(D.marker)-Or(p);if(!(j>=0&&Q<=0||j<=0&&Q>=0)&&(j<=0&&(D.marker.inclusiveRight&&p.inclusiveLeft?ct(O.to,f)>=0:ct(O.to,f)>0)||j>=0&&(D.marker.inclusiveRight&&p.inclusiveLeft?ct(O.from,c)<=0:ct(O.from,c)<0)))return!0}}}function gi(i){for(var o;o=Ta(i);)i=o.find(-1,!0).line;return i}function $o(i){for(var o;o=br(i);)i=o.find(1,!0).line;return i}function Sa(i){for(var o,f;o=br(i);)i=o.find(1,!0).line,(f||(f=[])).push(i);return f}function Ss(i,o){var f=rt(i,o),c=gi(f);return f==c?o:Qt(c)}function Zo(i,o){if(o>i.lastLine())return o;var f=rt(i,o),c;if(!rr(i,f))return o;for(;c=br(f);)f=c.find(1,!0).line;return Qt(f)+1}function rr(i,o){var f=ti&&o.markedSpans;if(f){for(var c=void 0,p=0;p<f.length;++p)if(c=f[p],!!c.marker.collapsed){if(c.from==null)return!0;if(!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&Jo(i,o,c))return!0}}}function Jo(i,o,f){if(f.to==null){var c=f.marker.find(1,!0);return Jo(i,c.line,Ea(c.line.markedSpans,f.marker))}if(f.marker.inclusiveRight&&f.to==o.text.length)return!0;for(var p=void 0,y=0;y<o.markedSpans.length;++y)if(p=o.markedSpans[y],p.marker.collapsed&&!p.marker.widgetNode&&p.from==f.to&&(p.to==null||p.to!=f.from)&&(p.marker.inclusiveLeft||f.marker.inclusiveRight)&&Jo(i,o,p))return!0}function Mr(i){i=gi(i);for(var o=0,f=i.parent,c=0;c<f.lines.length;++c){var p=f.lines[c];if(p==i)break;o+=p.height}for(var y=f.parent;y;f=y,y=f.parent)for(var S=0;S<y.children.length;++S){var C=y.children[S];if(C==f)break;o+=C.height}return o}function wa(i){if(i.height==0)return 0;for(var o=i.text.length,f,c=i;f=Ta(c);){var p=f.find(0,!0);c=p.from.line,o+=p.from.ch-p.to.ch}for(c=i;f=br(c);){var y=f.find(0,!0);o-=c.text.length-y.from.ch,c=y.to.line,o+=c.text.length-y.to.ch}return o}function oo(i){var o=i.display,f=i.doc;o.maxLine=rt(f,f.first),o.maxLineLength=wa(o.maxLine),o.maxLineChanged=!0,f.iter(function(c){var p=wa(c);p>o.maxLineLength&&(o.maxLineLength=p,o.maxLine=c)})}var qa=function(i,o,f){this.text=i,Qo(this,o),this.height=f?f(this):1};qa.prototype.lineNo=function(){return Qt(this)},At(qa);function el(i,o,f,c){i.text=o,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),i.order!=null&&(i.order=null),bs(i),Qo(i,f);var p=c?c(i):1;p!=i.height&&tr(i,p)}function pc(i){i.parent=null,bs(i)}var gc={},Aa={};function _u(i,o){if(!i||/^\s*$/.test(i))return null;var f=o.addModeClass?Aa:gc;return f[i]||(f[i]=i.replace(/\S+/g,"cm-$&"))}function Eu(i,o){var f=ue("span",null,null,x?"padding-right: .1px":null),c={pre:ue("pre",[f],"CodeMirror-line"),content:f,col:0,pos:0,cm:i,trailingSpace:!1,splitSpaces:i.getOption("lineWrapping")};o.measure={};for(var p=0;p<=(o.rest?o.rest.length:0);p++){var y=p?o.rest[p-1]:o.line,S=void 0;c.pos=0,c.addToken=vc,Ui(i.display.measure)&&(S=J(y,i.doc.direction))&&(c.addToken=ji(c.addToken,S)),c.map=[];var C=o!=i.display.externalMeasured&&Qt(y);yc(y,c,gu(i,y,C)),y.styleClasses&&(y.styleClasses.bgClass&&(c.bgClass=fe(y.styleClasses.bgClass,c.bgClass||"")),y.styleClasses.textClass&&(c.textClass=fe(y.styleClasses.textClass,c.textClass||""))),c.map.length==0&&c.map.push(0,0,c.content.appendChild(Ir(i.display.measure))),p==0?(o.measure.map=c.map,o.measure.cache={}):((o.measure.maps||(o.measure.maps=[])).push(c.map),(o.measure.caches||(o.measure.caches=[])).push({}))}if(x){var D=c.content.lastChild;(/\bcm-tab\b/.test(D.className)||D.querySelector&&D.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return Xe(i,"renderLine",i,o.line,c.pre),c.pre.className&&(c.textClass=fe(c.pre.className,c.textClass||"")),c}function mc(i){var o=ce("span","","cm-invalidchar");return o.title="\\u"+i.charCodeAt(0).toString(16),o.setAttribute("aria-label",o.title),o}function vc(i,o,f,c,p,y,S){if(o){var C=i.splitSpaces?ws(o,i.trailingSpace):o,D=i.cm.state.specialChars,O=!1,j;if(!D.test(o))i.col+=o.length,j=document.createTextNode(C),i.map.push(i.pos,i.pos+o.length,j),b&&T<9&&(O=!0),i.pos+=o.length;else{j=document.createDocumentFragment();for(var Q=0;;){D.lastIndex=Q;var be=D.exec(o),pe=be?be.index-Q:o.length-Q;if(pe){var Le=document.createTextNode(C.slice(Q,Q+pe));b&&T<9?j.appendChild(ce("span",[Le])):j.appendChild(Le),i.map.push(i.pos,i.pos+pe,Le),i.col+=pe,i.pos+=pe}if(!be)break;Q+=pe+1;var Be=void 0;if(be[0]=="	"){var Ye=i.cm.options.tabSize,Ze=Ye-i.col%Ye;Be=j.appendChild(ce("span",tn(Ze),"cm-tab")),Be.setAttribute("role","presentation"),Be.setAttribute("cm-text","	"),i.col+=Ze}else be[0]=="\r"||be[0]==`
`?(Be=j.appendChild(ce("span",be[0]=="\r"?"":"","cm-invalidchar")),Be.setAttribute("cm-text",be[0]),i.col+=1):(Be=i.cm.options.specialCharPlaceholder(be[0]),Be.setAttribute("cm-text",be[0]),b&&T<9?j.appendChild(ce("span",[Be])):j.appendChild(Be),i.col+=1);i.map.push(i.pos,i.pos+1,Be),i.pos++}}if(i.trailingSpace=C.charCodeAt(o.length-1)==32,f||c||p||O||y||S){var tt=f||"";c&&(tt+=c),p&&(tt+=p);var qe=ce("span",[j],tt,y);if(S)for(var it in S)S.hasOwnProperty(it)&&it!="style"&&it!="class"&&qe.setAttribute(it,S[it]);return i.content.appendChild(qe)}i.content.appendChild(j)}}function ws(i,o){if(i.length>1&&!/  /.test(i))return i;for(var f=o,c="",p=0;p<i.length;p++){var y=i.charAt(p);y==" "&&f&&(p==i.length-1||i.charCodeAt(p+1)==32)&&(y=""),c+=y,f=y==" "}return c}function ji(i,o){return function(f,c,p,y,S,C,D){p=p?p+" cm-force-border":"cm-force-border";for(var O=f.pos,j=O+c.length;;){for(var Q=void 0,be=0;be<o.length&&(Q=o[be],!(Q.to>O&&Q.from<=O));be++);if(Q.to>=j)return i(f,c,p,y,S,C,D);i(f,c.slice(0,Q.to-O),p,y,null,C,D),y=null,c=c.slice(Q.to-O),O=Q.to}}}function bu(i,o,f,c){var p=!c&&f.widgetNode;p&&i.map.push(i.pos,i.pos+o,p),!c&&i.cm.display.input.needsContentAttribute&&(p||(p=i.content.appendChild(document.createElement("span"))),p.setAttribute("cm-marker",f.id)),p&&(i.cm.display.input.setUneditable(p),i.content.appendChild(p)),i.pos+=o,i.trailingSpace=!1}function yc(i,o,f){var c=i.markedSpans,p=i.text,y=0;if(!c){for(var S=1;S<f.length;S+=2)o.addToken(o,p.slice(y,y=f[S]),_u(f[S+1],o.cm.options));return}for(var C=p.length,D=0,O=1,j="",Q,be,pe=0,Le,Be,Ye,Ze,tt;;){if(pe==D){Le=Be=Ye=be="",tt=null,Ze=null,pe=1/0;for(var qe=[],it=void 0,vt=0;vt<c.length;++vt){var ht=c[vt],Rt=ht.marker;if(Rt.type=="bookmark"&&ht.from==D&&Rt.widgetNode)qe.push(Rt);else if(ht.from<=D&&(ht.to==null||ht.to>D||Rt.collapsed&&ht.to==D&&ht.from==D)){if(ht.to!=null&&ht.to!=D&&pe>ht.to&&(pe=ht.to,Be=""),Rt.className&&(Le+=" "+Rt.className),Rt.css&&(be=(be?be+";":"")+Rt.css),Rt.startStyle&&ht.from==D&&(Ye+=" "+Rt.startStyle),Rt.endStyle&&ht.to==pe&&(it||(it=[])).push(Rt.endStyle,ht.to),Rt.title&&((tt||(tt={})).title=Rt.title),Rt.attributes)for(var jt in Rt.attributes)(tt||(tt={}))[jt]=Rt.attributes[jt];Rt.collapsed&&(!Ze||Er(Ze.marker,Rt)<0)&&(Ze=ht)}else ht.from>D&&pe>ht.from&&(pe=ht.from)}if(it)for(var ii=0;ii<it.length;ii+=2)it[ii+1]==pe&&(Be+=" "+it[ii]);if(!Ze||Ze.from==D)for(var Nn=0;Nn<qe.length;++Nn)bu(o,0,qe[Nn]);if(Ze&&(Ze.from||0)==D){if(bu(o,(Ze.to==null?C+1:Ze.to)-D,Ze.marker,Ze.from==null),Ze.to==null)return;Ze.to==D&&(Ze=!1)}}if(D>=C)break;for(var bi=Math.min(C,pe);;){if(j){var Mn=D+j.length;if(!Ze){var Wn=Mn>bi?j.slice(0,bi-D):j;o.addToken(o,Wn,Q?Q+Le:Le,Ye,D+Wn.length==pe?Be:"",be,tt)}if(Mn>=bi){j=j.slice(bi-D),D=bi;break}D=Mn,Ye=""}j=p.slice(y,y=f[O++]),Q=_u(f[O++],o.cm.options)}}}function Ca(i,o,f){this.line=o,this.rest=Sa(o),this.size=this.rest?Qt(et(this.rest))-f+1:1,this.node=this.text=null,this.hidden=rr(i,o)}function m(i,o,f){for(var c=[],p,y=o;y<f;y=p){var S=new Ca(i.doc,rt(i.doc,y),y);p=y+S.size,c.push(S)}return c}var A=null;function N(i){A?A.ops.push(i):i.ownsGroup=A={ops:[i],delayedCallbacks:[]}}function H(i){var o=i.delayedCallbacks,f=0;do{for(;f<o.length;f++)o[f].call(null);for(var c=0;c<i.ops.length;c++){var p=i.ops[c];if(p.cursorActivityHandlers)for(;p.cursorActivityCalled<p.cursorActivityHandlers.length;)p.cursorActivityHandlers[p.cursorActivityCalled++].call(null,p.cm)}}while(f<o.length)}function Re(i,o){var f=i.ownsGroup;if(f)try{H(f)}finally{A=null,o(f)}}var Oe=null;function Ke(i,o){var f=Qe(i,o);if(f.length){var c=Array.prototype.slice.call(arguments,2),p;A?p=A.delayedCallbacks:Oe?p=Oe:(p=Oe=[],setTimeout(Lt,0));for(var y=function(C){p.push(function(){return f[C].apply(null,c)})},S=0;S<f.length;++S)y(S)}}function Lt(){var i=Oe;Oe=null;for(var o=0;o<i.length;++o)i[o]()}function jn(i,o,f,c){for(var p=0;p<o.changes.length;p++){var y=o.changes[p];y=="text"?Da(i,o):y=="gutter"?Pr(i,o,f,c):y=="class"?Sr(i,o):y=="widget"&&lo(i,o,c)}o.changes=null}function qt(i){return i.node==i.text&&(i.node=ce("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),b&&T<8&&(i.node.style.zIndex=2)),i.node}function On(i,o){var f=o.bgClass?o.bgClass+" "+(o.line.bgClass||""):o.line.bgClass;if(f&&(f+=" CodeMirror-linebackground"),o.background)f?o.background.className=f:(o.background.parentNode.removeChild(o.background),o.background=null);else if(f){var c=qt(o);o.background=c.insertBefore(ce("div",null,f),c.firstChild),i.display.input.setUneditable(o.background)}}function Tr(i,o){var f=i.display.externalMeasured;return f&&f.line==o.line?(i.display.externalMeasured=null,o.measure=f.measure,f.built):Eu(i,o)}function Da(i,o){var f=o.text.className,c=Tr(i,o);o.text==o.node&&(o.node=c.pre),o.text.parentNode.replaceChild(c.pre,o.text),o.text=c.pre,c.bgClass!=o.bgClass||c.textClass!=o.textClass?(o.bgClass=c.bgClass,o.textClass=c.textClass,Sr(i,o)):f&&(o.text.className=f)}function Sr(i,o){On(i,o),o.line.wrapClass?qt(o).className=o.line.wrapClass:o.node!=o.text&&(o.node.className="");var f=o.textClass?o.textClass+" "+(o.line.textClass||""):o.line.textClass;o.text.className=f||""}function Pr(i,o,f,c){if(o.gutter&&(o.node.removeChild(o.gutter),o.gutter=null),o.gutterBackground&&(o.node.removeChild(o.gutterBackground),o.gutterBackground=null),o.line.gutterClass){var p=qt(o);o.gutterBackground=ce("div",null,"CodeMirror-gutter-background "+o.line.gutterClass,"left: "+(i.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),i.display.input.setUneditable(o.gutterBackground),p.insertBefore(o.gutterBackground,o.text)}var y=o.line.gutterMarkers;if(i.options.lineNumbers||y){var S=qt(o),C=o.gutter=ce("div",null,"CodeMirror-gutter-wrapper","left: "+(i.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(C.setAttribute("aria-hidden","true"),i.display.input.setUneditable(C),S.insertBefore(C,o.text),o.line.gutterClass&&(C.className+=" "+o.line.gutterClass),i.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(o.lineNumber=C.appendChild(ce("div",qi(i.options,f),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.display.lineNumInnerWidth+"px"))),y)for(var D=0;D<i.display.gutterSpecs.length;++D){var O=i.display.gutterSpecs[D].className,j=y.hasOwnProperty(O)&&y[O];j&&C.appendChild(ce("div",[j],"CodeMirror-gutter-elt","left: "+c.gutterLeft[O]+"px; width: "+c.gutterWidth[O]+"px"))}}}function lo(i,o,f){o.alignable&&(o.alignable=null);for(var c=G("CodeMirror-linewidget"),p=o.node.firstChild,y=void 0;p;p=y)y=p.nextSibling,c.test(p.className)&&o.node.removeChild(p);uo(i,o,f)}function tl(i,o,f,c){var p=Tr(i,o);return o.text=o.node=p.pre,p.bgClass&&(o.bgClass=p.bgClass),p.textClass&&(o.textClass=p.textClass),Sr(i,o),Pr(i,o,f,c),uo(i,o,c),o.node}function uo(i,o,f){if(Bd(i,o.line,o,f,!0),o.rest)for(var c=0;c<o.rest.length;c++)Bd(i,o.rest[c],o,f,!1)}function Bd(i,o,f,c,p){if(o.widgets)for(var y=qt(f),S=0,C=o.widgets;S<C.length;++S){var D=C[S],O=ce("div",[D.node],"CodeMirror-linewidget"+(D.className?" "+D.className:""));D.handleMouseEvents||O.setAttribute("cm-ignore-events","true"),lm(D,O,f,c),i.display.input.setUneditable(O),p&&D.above?y.insertBefore(O,f.gutter||f.text):y.appendChild(O),Ke(D,"redraw")}}function lm(i,o,f,c){if(i.noHScroll){(f.alignable||(f.alignable=[])).push(o);var p=c.wrapperWidth;o.style.left=c.fixedPos+"px",i.coverGutter||(p-=c.gutterTotalWidth,o.style.paddingLeft=c.gutterTotalWidth+"px"),o.style.width=p+"px"}i.coverGutter&&(o.style.zIndex=5,o.style.position="relative",i.noHScroll||(o.style.marginLeft=-c.gutterTotalWidth+"px"))}function Tu(i){if(i.height!=null)return i.height;var o=i.doc.cm;if(!o)return 0;if(!Ve(document.body,i.node)){var f="position: relative;";i.coverGutter&&(f+="margin-left: -"+o.display.gutters.offsetWidth+"px;"),i.noHScroll&&(f+="width: "+o.display.wrapper.clientWidth+"px;"),st(o.display.measure,ce("div",[i.node],null,f))}return i.height=i.node.parentNode.offsetHeight}function xa(i,o){for(var f=zn(o);f!=i.wrapper;f=f.parentNode)if(!f||f.nodeType==1&&f.getAttribute("cm-ignore-events")=="true"||f.parentNode==i.sizer&&f!=i.mover)return!0}function Su(i){return i.lineSpace.offsetTop}function co(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function nl(i){if(i.cachedPaddingH)return i.cachedPaddingH;var o=st(i.measure,ce("pre","x","CodeMirror-line-like")),f=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,c={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};return!isNaN(c.left)&&!isNaN(c.right)&&(i.cachedPaddingH=c),c}function Ra(i){return Ft-i.display.nativeBarWidth}function ka(i){return i.display.scroller.clientWidth-Ra(i)-i.display.barWidth}function _c(i){return i.display.scroller.clientHeight-Ra(i)-i.display.barHeight}function Ud(i,o,f){var c=i.options.lineWrapping,p=c&&ka(i);if(!o.measure.heights||c&&o.measure.width!=p){var y=o.measure.heights=[];if(c){o.measure.width=p;for(var S=o.text.firstChild.getClientRects(),C=0;C<S.length-1;C++){var D=S[C],O=S[C+1];Math.abs(D.bottom-O.bottom)>2&&y.push((D.bottom+O.top)/2-f.top)}}y.push(f.bottom-f.top)}}function Ec(i,o,f){if(i.line==o)return{map:i.measure.map,cache:i.measure.cache};if(i.rest){for(var c=0;c<i.rest.length;c++)if(i.rest[c]==o)return{map:i.measure.maps[c],cache:i.measure.caches[c]};for(var p=0;p<i.rest.length;p++)if(Qt(i.rest[p])>f)return{map:i.measure.maps[p],cache:i.measure.caches[p],before:!0}}}function Hf(i,o){o=gi(o);var f=Qt(o),c=i.display.externalMeasured=new Ca(i.doc,o,f);c.lineN=f;var p=c.built=Eu(i,c);return c.text=p.pre,st(i.display.lineMeasure,p.pre),c}function qf(i,o,f,c){return Ia(i,fo(i,o),f,c)}function bc(i,o){if(o>=i.display.viewFrom&&o<i.display.viewTo)return i.display.view[Na(i,o)];var f=i.display.externalMeasured;if(f&&o>=f.lineN&&o<f.lineN+f.size)return f}function fo(i,o){var f=Qt(o),c=bc(i,f);c&&!c.text?c=null:c&&c.changes&&(jn(i,c,f,Kf(i)),i.curOp.forceUpdate=!0),c||(c=Hf(i,o));var p=Ec(c,o,f);return{line:o,view:c,rect:null,map:p.map,cache:p.cache,before:p.before,hasHeights:!1}}function Ia(i,o,f,c,p){o.before&&(f=-1);var y=f+(c||""),S;return o.cache.hasOwnProperty(y)?S=o.cache[y]:(o.rect||(o.rect=o.view.text.getBoundingClientRect()),o.hasHeights||(Ud(i,o.view,o.rect),o.hasHeights=!0),S=cm(i,o,f,c),S.bogus||(o.cache[y]=S)),{left:S.left,right:S.right,top:p?S.rtop:S.top,bottom:p?S.rbottom:S.bottom}}var Vd={left:0,right:0,top:0,bottom:0};function zd(i,o,f){for(var c,p,y,S,C,D,O=0;O<i.length;O+=3)if(C=i[O],D=i[O+1],o<C?(p=0,y=1,S="left"):o<D?(p=o-C,y=p+1):(O==i.length-3||o==D&&i[O+3]>o)&&(y=D-C,p=y-1,o>=D&&(S="right")),p!=null){if(c=i[O+2],C==D&&f==(c.insertLeft?"left":"right")&&(S=f),f=="left"&&p==0)for(;O&&i[O-2]==i[O-3]&&i[O-1].insertLeft;)c=i[(O-=3)+2],S="left";if(f=="right"&&p==D-C)for(;O<i.length-3&&i[O+3]==i[O+4]&&!i[O+5].insertLeft;)c=i[(O+=3)+2],S="right";break}return{node:c,start:p,end:y,collapse:S,coverStart:C,coverEnd:D}}function um(i,o){var f=Vd;if(o=="left")for(var c=0;c<i.length&&(f=i[c]).left==f.right;c++);else for(var p=i.length-1;p>=0&&(f=i[p]).left==f.right;p--);return f}function cm(i,o,f,c){var p=zd(o.map,f,c),y=p.node,S=p.start,C=p.end,D=p.collapse,O;if(y.nodeType==3){for(var j=0;j<4;j++){for(;S&&w(o.line.text.charAt(p.coverStart+S));)--S;for(;p.coverStart+C<p.coverEnd&&w(o.line.text.charAt(p.coverStart+C));)++C;if(b&&T<9&&S==0&&C==p.coverEnd-p.coverStart?O=y.parentNode.getBoundingClientRect():O=um(we(y,S,C).getClientRects(),c),O.left||O.right||S==0)break;C=S,S=S-1,D="right"}b&&T<11&&(O=wr(i.display.measure,O))}else{S>0&&(D=c="right");var Q;i.options.lineWrapping&&(Q=y.getClientRects()).length>1?O=Q[c=="right"?Q.length-1:0]:O=y.getBoundingClientRect()}if(b&&T<9&&!S&&(!O||!O.left&&!O.right)){var be=y.parentNode.getClientRects()[0];be?O={left:be.left,right:be.left+ol(i.display),top:be.top,bottom:be.bottom}:O=Vd}for(var pe=O.top-o.rect.top,Le=O.bottom-o.rect.top,Be=(pe+Le)/2,Ye=o.view.measure.heights,Ze=0;Ze<Ye.length-1&&!(Be<Ye[Ze]);Ze++);var tt=Ze?Ye[Ze-1]:0,qe=Ye[Ze],it={left:(D=="right"?O.right:O.left)-o.rect.left,right:(D=="left"?O.left:O.right)-o.rect.left,top:tt,bottom:qe};return!O.left&&!O.right&&(it.bogus=!0),i.options.singleCursorHeightPerLine||(it.rtop=pe,it.rbottom=Le),it}function wr(i,o){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Li(i))return o;var f=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:o.left*f,right:o.right*f,top:o.top*c,bottom:o.bottom*c}}function il(i){if(i.measure&&(i.measure.cache={},i.measure.heights=null,i.rest))for(var o=0;o<i.rest.length;o++)i.measure.caches[o]={}}function jf(i){i.display.externalMeasure=null,K(i.display.lineMeasure);for(var o=0;o<i.display.view.length;o++)il(i.display.view[o])}function rl(i){jf(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function Gf(i){return F&&ne?-(i.body.getBoundingClientRect().left-parseInt(getComputedStyle(i.body).marginLeft)):i.defaultView.pageXOffset||(i.documentElement||i.body).scrollLeft}function Wf(i){return F&&ne?-(i.body.getBoundingClientRect().top-parseInt(getComputedStyle(i.body).marginTop)):i.defaultView.pageYOffset||(i.documentElement||i.body).scrollTop}function wu(i){var o=gi(i),f=o.widgets,c=0;if(f)for(var p=0;p<f.length;++p)f[p].above&&(c+=Tu(f[p]));return c}function Tc(i,o,f,c,p){if(!p){var y=wu(o);f.top+=y,f.bottom+=y}if(c=="line")return f;c||(c="local");var S=Mr(o);if(c=="local"?S+=Su(i.display):S-=i.display.viewOffset,c=="page"||c=="window"){var C=i.display.lineSpace.getBoundingClientRect();S+=C.top+(c=="window"?0:Wf(I(i)));var D=C.left+(c=="window"?0:Gf(I(i)));f.left+=D,f.right+=D}return f.top+=S,f.bottom+=S,f}function ho(i,o,f){if(f=="div")return o;var c=o.left,p=o.top;if(f=="page")c-=Gf(I(i)),p-=Wf(I(i));else if(f=="local"||!f){var y=i.display.sizer.getBoundingClientRect();c+=y.left,p+=y.top}var S=i.display.lineSpace.getBoundingClientRect();return{left:c-S.left,top:p-S.top}}function al(i,o,f,c,p){return c||(c=rt(i.doc,o.line)),Tc(i,c,qf(i,c,o.ch,p),f)}function Gi(i,o,f,c,p,y){c=c||rt(i.doc,o.line),p||(p=fo(i,c));function S(Le,Be){var Ye=Ia(i,p,Le,Be?"right":"left",y);return Be?Ye.left=Ye.right:Ye.right=Ye.left,Tc(i,c,Ye,f)}var C=J(c,i.doc.direction),D=o.ch,O=o.sticky;if(D>=c.text.length?(D=c.text.length,O="before"):D<=0&&(D=0,O="after"),!C)return S(O=="before"?D-1:D,O=="before");function j(Le,Be,Ye){var Ze=C[Be],tt=Ze.level==1;return S(Ye?Le-1:Le,tt!=Ye)}var Q=ye(C,D,O),be=ee,pe=j(D,Q,O=="before");return be!=null&&(pe.other=j(D,be,O!="before")),pe}function Sc(i,o){var f=0;o=_t(i.doc,o),i.options.lineWrapping||(f=ol(i.display)*o.ch);var c=rt(i.doc,o.line),p=Mr(c)+Su(i.display);return{left:f,right:f,top:p,bottom:p+c.height}}function wc(i,o,f,c,p){var y=Fe(i,o,f);return y.xRel=p,c&&(y.outside=c),y}function ja(i,o,f){var c=i.doc;if(f+=i.display.viewOffset,f<0)return wc(c.first,0,null,-1,-1);var p=pa(c,f),y=c.first+c.size-1;if(p>y)return wc(c.first+c.size-1,rt(c,y).text.length,null,1,1);o<0&&(o=0);for(var S=rt(c,p);;){var C=go(i,S,p,o,f),D=Ts(S,C.ch+(C.xRel>0||C.outside>0?1:0));if(!D)return C;var O=D.find(1);if(O.line==p)return O;S=rt(c,p=O.line)}}function po(i,o,f,c){c-=wu(o);var p=o.text.length,y=W(function(S){return Ia(i,f,S-1).bottom<=c},p,0);return p=W(function(S){return Ia(i,f,S).top>c},y,p),{begin:y,end:p}}function Ac(i,o,f,c){f||(f=fo(i,o));var p=Tc(i,o,Ia(i,f,c),"line").top;return po(i,o,f,p)}function Cc(i,o,f,c){return i.bottom<=f?!1:i.top>f?!0:(c?i.left:i.right)>o}function go(i,o,f,c,p){p-=Mr(o);var y=fo(i,o),S=wu(o),C=0,D=o.text.length,O=!0,j=J(o,i.doc.direction);if(j){var Q=(i.options.lineWrapping?qd:Hd)(i,o,f,y,j,c,p);O=Q.level!=1,C=O?Q.from:Q.to-1,D=O?Q.to:Q.from-1}var be=null,pe=null,Le=W(function(vt){var ht=Ia(i,y,vt);return ht.top+=S,ht.bottom+=S,Cc(ht,c,p,!1)?(ht.top<=p&&ht.left<=c&&(be=vt,pe=ht),!0):!1},C,D),Be,Ye,Ze=!1;if(pe){var tt=c-pe.left<pe.right-c,qe=tt==O;Le=be+(qe?0:1),Ye=qe?"after":"before",Be=tt?pe.left:pe.right}else{!O&&(Le==D||Le==C)&&Le++,Ye=Le==0?"after":Le==o.text.length?"before":Ia(i,y,Le-(O?1:0)).bottom+S<=p==O?"after":"before";var it=Gi(i,Fe(f,Le,Ye),"line",o,y);Be=it.left,Ze=p<it.top?-1:p>=it.bottom?1:0}return Le=L(o.text,Le,1),wc(f,Le,Ye,Ze,c-Be)}function Hd(i,o,f,c,p,y,S){var C=W(function(Q){var be=p[Q],pe=be.level!=1;return Cc(Gi(i,Fe(f,pe?be.to:be.from,pe?"before":"after"),"line",o,c),y,S,!0)},0,p.length-1),D=p[C];if(C>0){var O=D.level!=1,j=Gi(i,Fe(f,O?D.from:D.to,O?"after":"before"),"line",o,c);Cc(j,y,S,!0)&&j.top>S&&(D=p[C-1])}return D}function qd(i,o,f,c,p,y,S){var C=po(i,o,c,S),D=C.begin,O=C.end;/\s/.test(o.text.charAt(O-1))&&O--;for(var j=null,Q=null,be=0;be<p.length;be++){var pe=p[be];if(!(pe.from>=O||pe.to<=D)){var Le=pe.level!=1,Be=Ia(i,c,Le?Math.min(O,pe.to)-1:Math.max(D,pe.from)).right,Ye=Be<y?y-Be+1e9:Be-y;(!j||Q>Ye)&&(j=pe,Q=Ye)}}return j||(j=p[p.length-1]),j.from<D&&(j={from:D,to:j.to,level:j.level}),j.to>O&&(j={from:j.from,to:O,level:j.level}),j}var As;function sl(i){if(i.cachedTextHeight!=null)return i.cachedTextHeight;if(As==null){As=ce("pre",null,"CodeMirror-line-like");for(var o=0;o<49;++o)As.appendChild(document.createTextNode("x")),As.appendChild(ce("br"));As.appendChild(document.createTextNode("x"))}st(i.measure,As);var f=As.offsetHeight/50;return f>3&&(i.cachedTextHeight=f),K(i.measure),f||1}function ol(i){if(i.cachedCharWidth!=null)return i.cachedCharWidth;var o=ce("span","xxxxxxxxxx"),f=ce("pre",[o],"CodeMirror-line-like");st(i.measure,f);var c=o.getBoundingClientRect(),p=(c.right-c.left)/10;return p>2&&(i.cachedCharWidth=p),p||10}function Kf(i){for(var o=i.display,f={},c={},p=o.gutters.clientLeft,y=o.gutters.firstChild,S=0;y;y=y.nextSibling,++S){var C=i.display.gutterSpecs[S].className;f[C]=y.offsetLeft+y.clientLeft+p,c[C]=y.clientWidth}return{fixedPos:Dc(o),gutterTotalWidth:o.gutters.offsetWidth,gutterLeft:f,gutterWidth:c,wrapperWidth:o.wrapper.clientWidth}}function Dc(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function Yf(i){var o=sl(i.display),f=i.options.lineWrapping,c=f&&Math.max(5,i.display.scroller.clientWidth/ol(i.display)-3);return function(p){if(rr(i.doc,p))return 0;var y=0;if(p.widgets)for(var S=0;S<p.widgets.length;S++)p.widgets[S].height&&(y+=p.widgets[S].height);return f?y+(Math.ceil(p.text.length/c)||1)*o:y+o}}function Au(i){var o=i.doc,f=Yf(i);o.iter(function(c){var p=f(c);p!=c.height&&tr(c,p)})}function Di(i,o,f,c){var p=i.display;if(!f&&zn(o).getAttribute("cm-not-content")=="true")return null;var y,S,C=p.lineSpace.getBoundingClientRect();try{y=o.clientX-C.left,S=o.clientY-C.top}catch{return null}var D=ja(i,y,S),O;if(c&&D.xRel>0&&(O=rt(i.doc,D.line).text).length==D.ch){var j=Tt(O,O.length,i.options.tabSize)-O.length;D=Fe(D.line,Math.max(0,Math.round((y-nl(i.display).left)/ol(i.display))-j))}return D}function Na(i,o){if(o>=i.display.viewTo||(o-=i.display.viewFrom,o<0))return null;for(var f=i.display.view,c=0;c<f.length;c++)if(o-=f[c].size,o<0)return c}function Sn(i,o,f,c){o==null&&(o=i.doc.first),f==null&&(f=i.doc.first+i.doc.size),c||(c=0);var p=i.display;if(c&&f<p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>o)&&(p.updateLineNumbers=o),i.curOp.viewChanged=!0,o>=p.viewTo)ti&&Ss(i.doc,o)<p.viewTo&&La(i);else if(f<=p.viewFrom)ti&&Zo(i.doc,f+c)>p.viewFrom?La(i):(p.viewFrom+=c,p.viewTo+=c);else if(o<=p.viewFrom&&f>=p.viewTo)La(i);else if(o<=p.viewFrom){var y=mo(i,f,f+c,1);y?(p.view=p.view.slice(y.index),p.viewFrom=y.lineN,p.viewTo+=c):La(i)}else if(f>=p.viewTo){var S=mo(i,o,o,-1);S?(p.view=p.view.slice(0,S.index),p.viewTo=S.lineN):La(i)}else{var C=mo(i,o,o,-1),D=mo(i,f,f+c,1);C&&D?(p.view=p.view.slice(0,C.index).concat(m(i,C.lineN,D.lineN)).concat(p.view.slice(D.index)),p.viewTo+=c):La(i)}var O=p.externalMeasured;O&&(f<O.lineN?O.lineN+=c:o<O.lineN+O.size&&(p.externalMeasured=null))}function Ar(i,o,f){i.curOp.viewChanged=!0;var c=i.display,p=i.display.externalMeasured;if(p&&o>=p.lineN&&o<p.lineN+p.size&&(c.externalMeasured=null),!(o<c.viewFrom||o>=c.viewTo)){var y=c.view[Na(i,o)];if(y.node!=null){var S=y.changes||(y.changes=[]);xt(S,f)==-1&&S.push(f)}}}function La(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function mo(i,o,f,c){var p=Na(i,o),y,S=i.display.view;if(!ti||f==i.doc.first+i.doc.size)return{index:p,lineN:f};for(var C=i.display.viewFrom,D=0;D<p;D++)C+=S[D].size;if(C!=o){if(c>0){if(p==S.length-1)return null;y=C+S[p].size-o,p++}else y=C-o;o+=y,f+=y}for(;Ss(i.doc,f)!=f;){if(p==(c<0?0:S.length-1))return null;f+=c*S[p-(c<0?1:0)].size,p+=c}return{index:p,lineN:f}}function xc(i,o,f){var c=i.display,p=c.view;p.length==0||o>=c.viewTo||f<=c.viewFrom?(c.view=m(i,o,f),c.viewFrom=o):(c.viewFrom>o?c.view=m(i,o,c.viewFrom).concat(c.view):c.viewFrom<o&&(c.view=c.view.slice(Na(i,o))),c.viewFrom=o,c.viewTo<f?c.view=c.view.concat(m(i,c.viewTo,f)):c.viewTo>f&&(c.view=c.view.slice(0,Na(i,f)))),c.viewTo=f}function Rc(i){for(var o=i.display.view,f=0,c=0;c<o.length;c++){var p=o[c];!p.hidden&&(!p.node||p.changes)&&++f}return f}function Jr(i){i.display.input.showSelection(i.display.input.prepareSelection())}function Qf(i,o){o===void 0&&(o=!0);var f=i.doc,c={},p=c.cursors=document.createDocumentFragment(),y=c.selection=document.createDocumentFragment(),S=i.options.$customCursor;S&&(o=!0);for(var C=0;C<f.sel.ranges.length;C++)if(!(!o&&C==f.sel.primIndex)){var D=f.sel.ranges[C];if(!(D.from().line>=i.display.viewTo||D.to().line<i.display.viewFrom)){var O=D.empty();if(S){var j=S(i,D);j&&ll(i,j,p)}else(O||i.options.showCursorWhenSelecting)&&ll(i,D.head,p);O||fm(i,D,y)}}return c}function ll(i,o,f){var c=Gi(i,o,"div",null,null,!i.options.singleCursorHeightPerLine),p=f.appendChild(ce("div","","CodeMirror-cursor"));if(p.style.left=c.left+"px",p.style.top=c.top+"px",p.style.height=Math.max(0,c.bottom-c.top)*i.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(i.getWrapperElement().className)){var y=al(i,o,"div",null,null),S=y.right-y.left;p.style.width=(S>0?S:i.defaultCharWidth())+"px"}if(c.other){var C=f.appendChild(ce("div","","CodeMirror-cursor CodeMirror-secondarycursor"));C.style.display="",C.style.left=c.other.left+"px",C.style.top=c.other.top+"px",C.style.height=(c.other.bottom-c.other.top)*.85+"px"}}function Ga(i,o){return i.top-o.top||i.left-o.left}function fm(i,o,f){var c=i.display,p=i.doc,y=document.createDocumentFragment(),S=nl(i.display),C=S.left,D=Math.max(c.sizerWidth,ka(i)-c.sizer.offsetLeft)-S.right,O=p.direction=="ltr";function j(qe,it,vt,ht){it<0&&(it=0),it=Math.round(it),ht=Math.round(ht),y.appendChild(ce("div",null,"CodeMirror-selected","position: absolute; left: "+qe+`px;
                             top: `+it+"px; width: "+(vt??D-qe)+`px;
                             height: `+(ht-it)+"px"))}function Q(qe,it,vt){var ht=rt(p,qe),Rt=ht.text.length,jt,ii;function Nn(Wn,Ri){return al(i,Fe(qe,Wn),"div",ht,Ri)}function bi(Wn,Ri,fi){var Kn=Ac(i,ht,null,Wn),Un=Ri=="ltr"==(fi=="after")?"left":"right",Dn=fi=="after"?Kn.begin:Kn.end-(/\s/.test(ht.text.charAt(Kn.end-1))?2:1);return Nn(Dn,Un)[Un]}var Mn=J(ht,p.direction);return $(Mn,it||0,vt??Rt,function(Wn,Ri,fi,Kn){var Un=fi=="ltr",Dn=Nn(Wn,Un?"left":"right"),Fi=Nn(Ri-1,Un?"right":"left"),fr=it==null&&Wn==0,En=vt==null&&Ri==Rt,hi=Kn==0,ia=!Mn||Kn==Mn.length-1;if(Fi.top-Dn.top<=3){var zt=(O?fr:En)&&hi,kh=(O?En:fr)&&ia,Pa=zt?C:(Un?Dn:Fi).left,Us=kh?D:(Un?Fi:Dn).right;j(Pa,Dn.top,Us-Pa,Dn.bottom)}else{var fn,pn,hr,tf;Un?(fn=O&&fr&&hi?C:Dn.left,pn=O?D:bi(Wn,fi,"before"),hr=O?C:bi(Ri,fi,"after"),tf=O&&En&&ia?D:Fi.right):(fn=O?bi(Wn,fi,"before"):C,pn=!O&&fr&&hi?D:Dn.right,hr=!O&&En&&ia?C:Fi.left,tf=O?bi(Ri,fi,"after"):D),j(fn,Dn.top,pn-fn,Dn.bottom),Dn.bottom<Fi.top&&j(C,Dn.bottom,null,Fi.top),j(hr,Fi.top,tf-hr,Fi.bottom)}(!jt||Ga(Dn,jt)<0)&&(jt=Dn),Ga(Fi,jt)<0&&(jt=Fi),(!ii||Ga(Dn,ii)<0)&&(ii=Dn),Ga(Fi,ii)<0&&(ii=Fi)}),{start:jt,end:ii}}var be=o.from(),pe=o.to();if(be.line==pe.line)Q(be.line,be.ch,pe.ch);else{var Le=rt(p,be.line),Be=rt(p,pe.line),Ye=gi(Le)==gi(Be),Ze=Q(be.line,be.ch,Ye?Le.text.length+1:null).end,tt=Q(pe.line,Ye?0:null,pe.ch).start;Ye&&(Ze.top<tt.top-2?(j(Ze.right,Ze.top,null,Ze.bottom),j(C,tt.top,tt.left,tt.bottom)):j(Ze.right,Ze.top,tt.left-Ze.right,Ze.bottom)),Ze.bottom<tt.top&&j(C,Ze.bottom,null,tt.top)}f.appendChild(y)}function Wi(i){if(i.state.focused){var o=i.display;clearInterval(o.blinker);var f=!0;o.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?o.blinker=setInterval(function(){i.hasFocus()||Wa(i),o.cursorDiv.style.visibility=(f=!f)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(o.cursorDiv.style.visibility="hidden")}}function kc(i){i.hasFocus()||(i.display.input.focus(),i.state.focused||Ic(i))}function ea(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,i.state.focused&&Wa(i))},100)}function Ic(i,o){i.state.delayingBlurEvent&&!i.state.draggingText&&(i.state.delayingBlurEvent=!1),i.options.readOnly!="nocursor"&&(i.state.focused||(Xe(i,"focus",i,o),i.state.focused=!0,St(i.display.wrapper,"CodeMirror-focused"),!i.curOp&&i.display.selForContextMenu!=i.doc.sel&&(i.display.input.reset(),x&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),Wi(i))}function Wa(i,o){i.state.delayingBlurEvent||(i.state.focused&&(Xe(i,"blur",i,o),i.state.focused=!1,ie(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function Oa(i){for(var o=i.display,f=o.lineDiv.offsetTop,c=Math.max(0,o.scroller.getBoundingClientRect().top),p=o.lineDiv.getBoundingClientRect().top,y=0,S=0;S<o.view.length;S++){var C=o.view[S],D=i.options.lineWrapping,O=void 0,j=0;if(!C.hidden){if(p+=C.line.height,b&&T<8){var Q=C.node.offsetTop+C.node.offsetHeight;O=Q-f,f=Q}else{var be=C.node.getBoundingClientRect();O=be.bottom-be.top,!D&&C.text.firstChild&&(j=C.text.firstChild.getBoundingClientRect().right-be.left-1)}var pe=C.line.height-O;if((pe>.005||pe<-.005)&&(p<c&&(y-=pe),tr(C.line,O),Nc(C.line),C.rest))for(var Le=0;Le<C.rest.length;Le++)Nc(C.rest[Le]);if(j>i.display.sizerWidth){var Be=Math.ceil(j/ol(i.display));Be>i.display.maxLineLength&&(i.display.maxLineLength=Be,i.display.maxLine=C.line,i.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(o.scroller.scrollTop+=y)}function Nc(i){if(i.widgets)for(var o=0;o<i.widgets.length;++o){var f=i.widgets[o],c=f.node.parentNode;c&&(f.height=c.offsetHeight)}}function Cu(i,o,f){var c=f&&f.top!=null?Math.max(0,f.top):i.scroller.scrollTop;c=Math.floor(c-Su(i));var p=f&&f.bottom!=null?f.bottom:c+i.wrapper.clientHeight,y=pa(o,c),S=pa(o,p);if(f&&f.ensure){var C=f.ensure.from.line,D=f.ensure.to.line;C<y?(y=C,S=pa(o,Mr(rt(o,C))+i.wrapper.clientHeight)):Math.min(D,o.lastLine())>=S&&(y=pa(o,Mr(rt(o,D))-i.wrapper.clientHeight),S=D)}return{from:y,to:Math.max(S,y+1)}}function Xf(i,o){if(!We(i,"scrollCursorIntoView")){var f=i.display,c=f.sizer.getBoundingClientRect(),p=null,y=f.wrapper.ownerDocument;if(o.top+c.top<0?p=!0:o.bottom+c.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(p=!1),p!=null&&!Ee){var S=ce("div","",null,`position: absolute;
                         top: `+(o.top-f.viewOffset-Su(i.display))+`px;
                         height: `+(o.bottom-o.top+Ra(i)+f.barHeight)+`px;
                         left: `+o.left+"px; width: "+Math.max(2,o.right-o.left)+"px;");i.display.lineSpace.appendChild(S),S.scrollIntoView(p),i.display.lineSpace.removeChild(S)}}}function jd(i,o,f,c){c==null&&(c=0);var p;!i.options.lineWrapping&&o==f&&(f=o.sticky=="before"?Fe(o.line,o.ch+1,"before"):o,o=o.ch?Fe(o.line,o.sticky=="before"?o.ch-1:o.ch,"after"):o);for(var y=0;y<5;y++){var S=!1,C=Gi(i,o),D=!f||f==o?C:Gi(i,f);p={left:Math.min(C.left,D.left),top:Math.min(C.top,D.top)-c,right:Math.max(C.left,D.left),bottom:Math.max(C.bottom,D.bottom)+c};var O=Cs(i,p),j=i.doc.scrollTop,Q=i.doc.scrollLeft;if(O.scrollTop!=null&&(ar(i,O.scrollTop),Math.abs(i.doc.scrollTop-j)>1&&(S=!0)),O.scrollLeft!=null&&(Yi(i,O.scrollLeft),Math.abs(i.doc.scrollLeft-Q)>1&&(S=!0)),!S)break}return p}function Fr(i,o){var f=Cs(i,o);f.scrollTop!=null&&ar(i,f.scrollTop),f.scrollLeft!=null&&Yi(i,f.scrollLeft)}function Cs(i,o){var f=i.display,c=sl(i.display);o.top<0&&(o.top=0);var p=i.curOp&&i.curOp.scrollTop!=null?i.curOp.scrollTop:f.scroller.scrollTop,y=_c(i),S={};o.bottom-o.top>y&&(o.bottom=o.top+y);var C=i.doc.height+co(f),D=o.top<c,O=o.bottom>C-c;if(o.top<p)S.scrollTop=D?0:o.top;else if(o.bottom>p+y){var j=Math.min(o.top,(O?C:o.bottom)-y);j!=p&&(S.scrollTop=j)}var Q=i.options.fixedGutter?0:f.gutters.offsetWidth,be=i.curOp&&i.curOp.scrollLeft!=null?i.curOp.scrollLeft:f.scroller.scrollLeft-Q,pe=ka(i)-f.gutters.offsetWidth,Le=o.right-o.left>pe;return Le&&(o.right=o.left+pe),o.left<10?S.scrollLeft=0:o.left<be?S.scrollLeft=Math.max(0,o.left+Q-(Le?0:10)):o.right>pe+be-3&&(S.scrollLeft=o.right+(Le?0:10)-pe),S}function Ds(i,o){o!=null&&(Ki(i),i.curOp.scrollTop=(i.curOp.scrollTop==null?i.doc.scrollTop:i.curOp.scrollTop)+o)}function Ka(i){Ki(i);var o=i.getCursor();i.curOp.scrollToPos={from:o,to:o,margin:i.options.cursorScrollMargin}}function Ya(i,o,f){(o!=null||f!=null)&&Ki(i),o!=null&&(i.curOp.scrollLeft=o),f!=null&&(i.curOp.scrollTop=f)}function Br(i,o){Ki(i),i.curOp.scrollToPos=o}function Ki(i){var o=i.curOp.scrollToPos;if(o){i.curOp.scrollToPos=null;var f=Sc(i,o.from),c=Sc(i,o.to);Qa(i,f,c,o.margin)}}function Qa(i,o,f,c){var p=Cs(i,{left:Math.min(o.left,f.left),top:Math.min(o.top,f.top)-c,right:Math.max(o.right,f.right),bottom:Math.max(o.bottom,f.bottom)+c});Ya(i,p.scrollLeft,p.scrollTop)}function ar(i,o){Math.abs(i.doc.scrollTop-o)<2||(u||dl(i,{top:o}),ta(i,o,!0),u&&dl(i),Ur(i,100))}function ta(i,o,f){o=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,o)),!(i.display.scroller.scrollTop==o&&!f)&&(i.doc.scrollTop=o,i.display.scrollbars.setScrollTop(o),i.display.scroller.scrollTop!=o&&(i.display.scroller.scrollTop=o))}function Yi(i,o,f,c){o=Math.max(0,Math.min(o,i.display.scroller.scrollWidth-i.display.scroller.clientWidth)),!((f?o==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-o)<2)&&!c)&&(i.doc.scrollLeft=o,Yd(i),i.display.scroller.scrollLeft!=o&&(i.display.scroller.scrollLeft=o),i.display.scrollbars.setScrollLeft(o))}function ul(i){var o=i.display,f=o.gutters.offsetWidth,c=Math.round(i.doc.height+co(i.display));return{clientHeight:o.scroller.clientHeight,viewHeight:o.wrapper.clientHeight,scrollWidth:o.scroller.scrollWidth,clientWidth:o.scroller.clientWidth,viewWidth:o.wrapper.clientWidth,barLeft:i.options.fixedGutter?f:0,docHeight:c,scrollHeight:c+Ra(i)+o.barHeight,nativeBarWidth:o.nativeBarWidth,gutterWidth:f}}var Xa=function(i,o,f){this.cm=f;var c=this.vert=ce("div",[ce("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),p=this.horiz=ce("div",[ce("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=p.tabIndex=-1,i(c),i(p),me(c,"scroll",function(){c.clientHeight&&o(c.scrollTop,"vertical")}),me(p,"scroll",function(){p.clientWidth&&o(p.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&T<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xa.prototype.update=function(i){var o=i.scrollWidth>i.clientWidth+1,f=i.scrollHeight>i.clientHeight+1,c=i.nativeBarWidth;if(f){this.vert.style.display="block",this.vert.style.bottom=o?c+"px":"0";var p=i.viewHeight-(o?c:0);this.vert.firstChild.style.height=Math.max(0,i.scrollHeight-i.clientHeight+p)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(o){this.horiz.style.display="block",this.horiz.style.right=f?c+"px":"0",this.horiz.style.left=i.barLeft+"px";var y=i.viewWidth-i.barLeft-(f?c:0);this.horiz.firstChild.style.width=Math.max(0,i.scrollWidth-i.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&i.clientHeight>0&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:f?c:0,bottom:o?c:0}},Xa.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xa.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xa.prototype.zeroWidthHack=function(){var i=he&&!te?"12px":"18px";this.horiz.style.height=this.vert.style.width=i,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Kt,this.disableVert=new Kt},Xa.prototype.enableZeroWidthBar=function(i,o,f){i.style.visibility="";function c(){var p=i.getBoundingClientRect(),y=f=="vert"?document.elementFromPoint(p.right-1,(p.top+p.bottom)/2):document.elementFromPoint((p.right+p.left)/2,p.bottom-1);y!=i?i.style.visibility="hidden":o.set(1e3,c)}o.set(1e3,c)},Xa.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var vo=function(){};vo.prototype.update=function(){return{bottom:0,right:0}},vo.prototype.setScrollLeft=function(){},vo.prototype.setScrollTop=function(){},vo.prototype.clear=function(){};function yo(i,o){o||(o=ul(i));var f=i.display.barWidth,c=i.display.barHeight;mi(i,o);for(var p=0;p<4&&f!=i.display.barWidth||c!=i.display.barHeight;p++)f!=i.display.barWidth&&i.options.lineWrapping&&Oa(i),mi(i,ul(i)),f=i.display.barWidth,c=i.display.barHeight}function mi(i,o){var f=i.display,c=f.scrollbars.update(o);f.sizer.style.paddingRight=(f.barWidth=c.right)+"px",f.sizer.style.paddingBottom=(f.barHeight=c.bottom)+"px",f.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(f.scrollbarFiller.style.display="block",f.scrollbarFiller.style.height=c.bottom+"px",f.scrollbarFiller.style.width=c.right+"px"):f.scrollbarFiller.style.display="",c.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(f.gutterFiller.style.display="block",f.gutterFiller.style.height=c.bottom+"px",f.gutterFiller.style.width=o.gutterWidth+"px"):f.gutterFiller.style.display=""}var wn={native:Xa,null:vo};function Vt(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&ie(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new wn[i.options.scrollbarStyle](function(o){i.display.wrapper.insertBefore(o,i.display.scrollbarFiller),me(o,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),o.setAttribute("cm-not-content","true")},function(o,f){f=="horizontal"?Yi(i,o):ar(i,o)},i),i.display.scrollbars.addClass&&St(i.display.wrapper,i.display.scrollbars.addClass)}var xs=0;function vi(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++xs,markArrays:null},N(i.curOp)}function $a(i){var o=i.curOp;o&&Re(o,function(f){for(var c=0;c<f.ops.length;c++)f.ops[c].cm.curOp=null;Rs(f)})}function Rs(i){for(var o=i.ops,f=0;f<o.length;f++)Gd(o[f]);for(var c=0;c<o.length;c++)Wd(o[c]);for(var p=0;p<o.length;p++)cl(o[p]);for(var y=0;y<o.length;y++)_o(o[y]);for(var S=0;S<o.length;S++)$f(o[S])}function Gd(i){var o=i.cm,f=o.display;Zf(o),i.updateMaxLine&&oo(o),i.mustUpdate=i.viewChanged||i.forceUpdate||i.scrollTop!=null||i.scrollToPos&&(i.scrollToPos.from.line<f.viewFrom||i.scrollToPos.to.line>=f.viewTo)||f.maxLineChanged&&o.options.lineWrapping,i.update=i.mustUpdate&&new fl(o,i.mustUpdate&&{top:i.scrollTop,ensure:i.scrollToPos},i.forceUpdate)}function Wd(i){i.updatedDisplay=i.mustUpdate&&Ja(i.cm,i.update)}function cl(i){var o=i.cm,f=o.display;i.updatedDisplay&&Oa(o),i.barMeasure=ul(o),f.maxLineChanged&&!o.options.lineWrapping&&(i.adjustWidthTo=qf(o,f.maxLine,f.maxLine.text.length).left+3,o.display.sizerWidth=i.adjustWidthTo,i.barMeasure.scrollWidth=Math.max(f.scroller.clientWidth,f.sizer.offsetLeft+i.adjustWidthTo+Ra(o)+o.display.barWidth),i.maxScrollLeft=Math.max(0,f.sizer.offsetLeft+i.adjustWidthTo-ka(o))),(i.updatedDisplay||i.selectionChanged)&&(i.preparedSelection=f.input.prepareSelection())}function _o(i){var o=i.cm;i.adjustWidthTo!=null&&(o.display.sizer.style.minWidth=i.adjustWidthTo+"px",i.maxScrollLeft<o.doc.scrollLeft&&Yi(o,Math.min(o.display.scroller.scrollLeft,i.maxScrollLeft),!0),o.display.maxLineChanged=!1);var f=i.focus&&i.focus==ot(ge(o));i.preparedSelection&&o.display.input.showSelection(i.preparedSelection,f),(i.updatedDisplay||i.startHeight!=o.doc.height)&&yo(o,i.barMeasure),i.updatedDisplay&&eh(o,i.barMeasure),i.selectionChanged&&Wi(o),o.state.focused&&i.updateInput&&o.display.input.reset(i.typing),f&&kc(i.cm)}function $f(i){var o=i.cm,f=o.display,c=o.doc;if(i.updatedDisplay&&_i(o,i.update),f.wheelStartX!=null&&(i.scrollTop!=null||i.scrollLeft!=null||i.scrollToPos)&&(f.wheelStartX=f.wheelStartY=null),i.scrollTop!=null&&ta(o,i.scrollTop,i.forceScroll),i.scrollLeft!=null&&Yi(o,i.scrollLeft,!0,!0),i.scrollToPos){var p=jd(o,_t(c,i.scrollToPos.from),_t(c,i.scrollToPos.to),i.scrollToPos.margin);Xf(o,p)}var y=i.maybeHiddenMarkers,S=i.maybeUnhiddenMarkers;if(y)for(var C=0;C<y.length;++C)y[C].lines.length||Xe(y[C],"hide");if(S)for(var D=0;D<S.length;++D)S[D].lines.length&&Xe(S[D],"unhide");f.wrapper.offsetHeight&&(c.scrollTop=o.display.scroller.scrollTop),i.changeObjs&&Xe(o,"changes",o,i.changeObjs),i.update&&i.update.finish()}function yi(i,o){if(i.curOp)return o();vi(i);try{return o()}finally{$a(i)}}function Xn(i,o){return function(){if(i.curOp)return o.apply(i,arguments);vi(i);try{return o.apply(i,arguments)}finally{$a(i)}}}function Gn(i){return function(){if(this.curOp)return i.apply(this,arguments);vi(this);try{return i.apply(this,arguments)}finally{$a(this)}}}function _n(i){return function(){var o=this.cm;if(!o||o.curOp)return i.apply(this,arguments);vi(o);try{return i.apply(this,arguments)}finally{$a(o)}}}function Ur(i,o){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(o,dt(Za,i))}function Za(i){var o=i.doc;if(!(o.highlightFrontier>=i.display.viewTo)){var f=+new Date+i.options.workTime,c=Nr(i,o.highlightFrontier),p=[];o.iter(c.line,Math.min(o.first+o.size,i.display.viewTo+500),function(y){if(c.line>=i.display.viewFrom){var S=y.styles,C=y.text.length>i.options.maxHighlightLength?Oi(o.mode,c.state):null,D=za(i,y,c,!0);C&&(c.state=C),y.styles=D.styles;var O=y.styleClasses,j=D.classes;j?y.styleClasses=j:O&&(y.styleClasses=null);for(var Q=!S||S.length!=y.styles.length||O!=j&&(!O||!j||O.bgClass!=j.bgClass||O.textClass!=j.textClass),be=0;!Q&&be<S.length;++be)Q=S[be]!=y.styles[be];Q&&p.push(c.line),y.stateAfter=c.save(),c.nextLine()}else y.text.length<=i.options.maxHighlightLength&&Pi(i,y.text,c),y.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>f)return Ur(i,i.options.workDelay),!0}),o.highlightFrontier=c.line,o.modeFrontier=Math.max(o.modeFrontier,c.line),p.length&&yi(i,function(){for(var y=0;y<p.length;y++)Ar(i,p[y],"text")})}}var fl=function(i,o,f){var c=i.display;this.viewport=o,this.visible=Cu(c,i.doc,o),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=ka(i),this.force=f,this.dims=Kf(i),this.events=[]};fl.prototype.signal=function(i,o){mt(i,o)&&this.events.push(arguments)},fl.prototype.finish=function(){for(var i=0;i<this.events.length;i++)Xe.apply(null,this.events[i])};function Zf(i){var o=i.display;!o.scrollbarsClipped&&o.scroller.offsetWidth&&(o.nativeBarWidth=o.scroller.offsetWidth-o.scroller.clientWidth,o.heightForcer.style.height=Ra(i)+"px",o.sizer.style.marginBottom=-o.nativeBarWidth+"px",o.sizer.style.borderRightWidth=Ra(i)+"px",o.scrollbarsClipped=!0)}function hl(i){if(i.hasFocus())return null;var o=ot(ge(i));if(!o||!Ve(i.display.lineDiv,o))return null;var f={activeElt:o};if(window.getSelection){var c=$e(i).getSelection();c.anchorNode&&c.extend&&Ve(i.display.lineDiv,c.anchorNode)&&(f.anchorNode=c.anchorNode,f.anchorOffset=c.anchorOffset,f.focusNode=c.focusNode,f.focusOffset=c.focusOffset)}return f}function Lc(i){if(!(!i||!i.activeElt||i.activeElt==ot(Je(i.activeElt)))&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&Ve(document.body,i.anchorNode)&&Ve(document.body,i.focusNode))){var o=i.activeElt.ownerDocument,f=o.defaultView.getSelection(),c=o.createRange();c.setEnd(i.anchorNode,i.anchorOffset),c.collapse(!1),f.removeAllRanges(),f.addRange(c),f.extend(i.focusNode,i.focusOffset)}}function Ja(i,o){var f=i.display,c=i.doc;if(o.editorIsHidden)return La(i),!1;if(!o.force&&o.visible.from>=f.viewFrom&&o.visible.to<=f.viewTo&&(f.updateLineNumbers==null||f.updateLineNumbers>=f.viewTo)&&f.renderedView==f.view&&Rc(i)==0)return!1;$n(i)&&(La(i),o.dims=Kf(i));var p=c.first+c.size,y=Math.max(o.visible.from-i.options.viewportMargin,c.first),S=Math.min(p,o.visible.to+i.options.viewportMargin);f.viewFrom<y&&y-f.viewFrom<20&&(y=Math.max(c.first,f.viewFrom)),f.viewTo>S&&f.viewTo-S<20&&(S=Math.min(p,f.viewTo)),ti&&(y=Ss(i.doc,y),S=Zo(i.doc,S));var C=y!=f.viewFrom||S!=f.viewTo||f.lastWrapHeight!=o.wrapperHeight||f.lastWrapWidth!=o.wrapperWidth;xc(i,y,S),f.viewOffset=Mr(rt(i.doc,f.viewFrom)),i.display.mover.style.top=f.viewOffset+"px";var D=Rc(i);if(!C&&D==0&&!o.force&&f.renderedView==f.view&&(f.updateLineNumbers==null||f.updateLineNumbers>=f.viewTo))return!1;var O=hl(i);return D>4&&(f.lineDiv.style.display="none"),Kd(i,f.updateLineNumbers,o.dims),D>4&&(f.lineDiv.style.display=""),f.renderedView=f.view,Lc(O),K(f.cursorDiv),K(f.selectionDiv),f.gutters.style.height=f.sizer.style.minHeight=0,C&&(f.lastWrapHeight=o.wrapperHeight,f.lastWrapWidth=o.wrapperWidth,Ur(i,400)),f.updateLineNumbers=null,!0}function _i(i,o){for(var f=o.viewport,c=!0;;c=!1){if(!c||!i.options.lineWrapping||o.oldDisplayWidth==ka(i)){if(f&&f.top!=null&&(f={top:Math.min(i.doc.height+co(i.display)-_c(i),f.top)}),o.visible=Cu(i.display,i.doc,f),o.visible.from>=i.display.viewFrom&&o.visible.to<=i.display.viewTo)break}else c&&(o.visible=Cu(i.display,i.doc,f));if(!Ja(i,o))break;Oa(i);var p=ul(i);Jr(i),yo(i,p),eh(i,p),o.force=!1}o.signal(i,"update",i),(i.display.viewFrom!=i.display.reportedViewFrom||i.display.viewTo!=i.display.reportedViewTo)&&(o.signal(i,"viewportChange",i,i.display.viewFrom,i.display.viewTo),i.display.reportedViewFrom=i.display.viewFrom,i.display.reportedViewTo=i.display.viewTo)}function dl(i,o){var f=new fl(i,o);if(Ja(i,f)){Oa(i),_i(i,f);var c=ul(i);Jr(i),yo(i,c),eh(i,c),f.finish()}}function Kd(i,o,f){var c=i.display,p=i.options.lineNumbers,y=c.lineDiv,S=y.firstChild;function C(Le){var Be=Le.nextSibling;return x&&he&&i.display.currentWheelTarget==Le?Le.style.display="none":Le.parentNode.removeChild(Le),Be}for(var D=c.view,O=c.viewFrom,j=0;j<D.length;j++){var Q=D[j];if(!Q.hidden)if(!Q.node||Q.node.parentNode!=y){var be=tl(i,Q,O,f);y.insertBefore(be,S)}else{for(;S!=Q.node;)S=C(S);var pe=p&&o!=null&&o<=O&&Q.lineNumber;Q.changes&&(xt(Q.changes,"gutter")>-1&&(pe=!1),jn(i,Q,O,f)),pe&&(K(Q.lineNumber),Q.lineNumber.appendChild(document.createTextNode(qi(i.options,O)))),S=Q.node.nextSibling}O+=Q.size}for(;S;)S=C(S)}function Jf(i){var o=i.gutters.offsetWidth;i.sizer.style.marginLeft=o+"px",Ke(i,"gutterChanged",i)}function eh(i,o){i.display.sizer.style.minHeight=o.docHeight+"px",i.display.heightForcer.style.top=o.docHeight+"px",i.display.gutters.style.height=o.docHeight+i.display.barHeight+Ra(i)+"px"}function Yd(i){var o=i.display,f=o.view;if(!(!o.alignWidgets&&(!o.gutters.firstChild||!i.options.fixedGutter))){for(var c=Dc(o)-o.scroller.scrollLeft+i.doc.scrollLeft,p=o.gutters.offsetWidth,y=c+"px",S=0;S<f.length;S++)if(!f[S].hidden){i.options.fixedGutter&&(f[S].gutter&&(f[S].gutter.style.left=y),f[S].gutterBackground&&(f[S].gutterBackground.style.left=y));var C=f[S].alignable;if(C)for(var D=0;D<C.length;D++)C[D].style.left=y}i.options.fixedGutter&&(o.gutters.style.left=c+p+"px")}}function $n(i){if(!i.options.lineNumbers)return!1;var o=i.doc,f=qi(i.options,o.first+o.size-1),c=i.display;if(f.length!=c.lineNumChars){var p=c.measure.appendChild(ce("div",[ce("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=p.firstChild.offsetWidth,S=p.offsetWidth-y;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(y,c.lineGutter.offsetWidth-S)+1,c.lineNumWidth=c.lineNumInnerWidth+S,c.lineNumChars=c.lineNumInnerWidth?f.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",Jf(i.display),!0}return!1}function Du(i,o){for(var f=[],c=!1,p=0;p<i.length;p++){var y=i[p],S=null;if(typeof y!="string"&&(S=y.style,y=y.className),y=="CodeMirror-linenumbers")if(o)c=!0;else continue;f.push({className:y,style:S})}return o&&!c&&f.push({className:"CodeMirror-linenumbers",style:null}),f}function pl(i){var o=i.gutters,f=i.gutterSpecs;K(o),i.lineGutter=null;for(var c=0;c<f.length;++c){var p=f[c],y=p.className,S=p.style,C=o.appendChild(ce("div",null,"CodeMirror-gutter "+y));S&&(C.style.cssText=S),y=="CodeMirror-linenumbers"&&(i.lineGutter=C,C.style.width=(i.lineNumWidth||1)+"px")}o.style.display=f.length?"":"none",Jf(i)}function es(i){pl(i.display),Sn(i),Yd(i)}function th(i,o,f,c){var p=this;this.input=f,p.scrollbarFiller=ce("div",null,"CodeMirror-scrollbar-filler"),p.scrollbarFiller.setAttribute("cm-not-content","true"),p.gutterFiller=ce("div",null,"CodeMirror-gutter-filler"),p.gutterFiller.setAttribute("cm-not-content","true"),p.lineDiv=ue("div",null,"CodeMirror-code"),p.selectionDiv=ce("div",null,null,"position: relative; z-index: 1"),p.cursorDiv=ce("div",null,"CodeMirror-cursors"),p.measure=ce("div",null,"CodeMirror-measure"),p.lineMeasure=ce("div",null,"CodeMirror-measure"),p.lineSpace=ue("div",[p.measure,p.lineMeasure,p.selectionDiv,p.cursorDiv,p.lineDiv],null,"position: relative; outline: none");var y=ue("div",[p.lineSpace],"CodeMirror-lines");p.mover=ce("div",[y],null,"position: relative"),p.sizer=ce("div",[p.mover],"CodeMirror-sizer"),p.sizerWidth=null,p.heightForcer=ce("div",null,null,"position: absolute; height: "+Ft+"px; width: 1px;"),p.gutters=ce("div",null,"CodeMirror-gutters"),p.lineGutter=null,p.scroller=ce("div",[p.sizer,p.heightForcer,p.gutters],"CodeMirror-scroll"),p.scroller.setAttribute("tabIndex","-1"),p.wrapper=ce("div",[p.scrollbarFiller,p.gutterFiller,p.scroller],"CodeMirror"),F&&Y===105&&(p.wrapper.style.clipPath="inset(0px)"),p.wrapper.setAttribute("translate","no"),b&&T<8&&(p.gutters.style.zIndex=-1,p.scroller.style.paddingRight=0),!x&&!(u&&oe)&&(p.scroller.draggable=!0),i&&(i.appendChild?i.appendChild(p.wrapper):i(p.wrapper)),p.viewFrom=p.viewTo=o.first,p.reportedViewFrom=p.reportedViewTo=o.first,p.view=[],p.renderedView=null,p.externalMeasured=null,p.viewOffset=0,p.lastWrapHeight=p.lastWrapWidth=0,p.updateLineNumbers=null,p.nativeBarWidth=p.barHeight=p.barWidth=0,p.scrollbarsClipped=!1,p.lineNumWidth=p.lineNumInnerWidth=p.lineNumChars=null,p.alignWidgets=!1,p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.maxLine=null,p.maxLineLength=0,p.maxLineChanged=!1,p.wheelDX=p.wheelDY=p.wheelStartX=p.wheelStartY=null,p.shift=!1,p.selForContextMenu=null,p.activeTouch=null,p.gutterSpecs=Du(c.gutters,c.lineNumbers),pl(p),f.init(p)}var ts=0,sr=null;b?sr=-.53:u?sr=15:F?sr=-.7:_e&&(sr=-1/3);function Qd(i){var o=i.wheelDeltaX,f=i.wheelDeltaY;return o==null&&i.detail&&i.axis==i.HORIZONTAL_AXIS&&(o=i.detail),f==null&&i.detail&&i.axis==i.VERTICAL_AXIS?f=i.detail:f==null&&(f=i.wheelDelta),{x:o,y:f}}function Xd(i){var o=Qd(i);return o.x*=sr,o.y*=sr,o}function $d(i,o){F&&Y==102&&(i.display.chromeScrollHack==null?i.display.sizer.style.pointerEvents="none":clearTimeout(i.display.chromeScrollHack),i.display.chromeScrollHack=setTimeout(function(){i.display.chromeScrollHack=null,i.display.sizer.style.pointerEvents=""},100));var f=Qd(o),c=f.x,p=f.y,y=sr;o.deltaMode===0&&(c=o.deltaX,p=o.deltaY,y=1);var S=i.display,C=S.scroller,D=C.scrollWidth>C.clientWidth,O=C.scrollHeight>C.clientHeight;if(c&&D||p&&O){if(p&&he&&x){e:for(var j=o.target,Q=S.view;j!=C;j=j.parentNode)for(var be=0;be<Q.length;be++)if(Q[be].node==j){i.display.currentWheelTarget=j;break e}}if(c&&!u&&!Z&&y!=null){p&&O&&ar(i,Math.max(0,C.scrollTop+p*y)),Yi(i,Math.max(0,C.scrollLeft+c*y)),(!p||p&&O)&&yt(o),S.wheelStartX=null;return}if(p&&y!=null){var pe=p*y,Le=i.doc.scrollTop,Be=Le+S.wrapper.clientHeight;pe<0?Le=Math.max(0,Le+pe-50):Be=Math.min(i.doc.height,Be+pe+50),dl(i,{top:Le,bottom:Be})}ts<20&&o.deltaMode!==0&&(S.wheelStartX==null?(S.wheelStartX=C.scrollLeft,S.wheelStartY=C.scrollTop,S.wheelDX=c,S.wheelDY=p,setTimeout(function(){if(S.wheelStartX!=null){var Ye=C.scrollLeft-S.wheelStartX,Ze=C.scrollTop-S.wheelStartY,tt=Ze&&S.wheelDY&&Ze/S.wheelDY||Ye&&S.wheelDX&&Ye/S.wheelDX;S.wheelStartX=S.wheelStartY=null,tt&&(sr=(sr*ts+tt)/(ts+1),++ts)}},200)):(S.wheelDX+=c,S.wheelDY+=p))}}var or=function(i,o){this.ranges=i,this.primIndex=o};or.prototype.primary=function(){return this.ranges[this.primIndex]},or.prototype.equals=function(i){if(i==this)return!0;if(i.primIndex!=this.primIndex||i.ranges.length!=this.ranges.length)return!1;for(var o=0;o<this.ranges.length;o++){var f=this.ranges[o],c=i.ranges[o];if(!ma(f.anchor,c.anchor)||!ma(f.head,c.head))return!1}return!0},or.prototype.deepCopy=function(){for(var i=[],o=0;o<this.ranges.length;o++)i[o]=new Ut(to(this.ranges[o].anchor),to(this.ranges[o].head));return new or(i,this.primIndex)},or.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},or.prototype.contains=function(i,o){o||(o=i);for(var f=0;f<this.ranges.length;f++){var c=this.ranges[f];if(ct(o,c.from())>=0&&ct(i,c.to())<=0)return f}return-1};var Ut=function(i,o){this.anchor=i,this.head=o};Ut.prototype.from=function(){return va(this.anchor,this.head)},Ut.prototype.to=function(){return nn(this.anchor,this.head)},Ut.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Cr(i,o,f){var c=i&&i.options.selectionsMayTouch,p=o[f];o.sort(function(be,pe){return ct(be.from(),pe.from())}),f=xt(o,p);for(var y=1;y<o.length;y++){var S=o[y],C=o[y-1],D=ct(C.to(),S.from());if(c&&!S.empty()?D>0:D>=0){var O=va(C.from(),S.from()),j=nn(C.to(),S.to()),Q=C.empty()?S.from()==S.head:C.from()==C.head;y<=f&&--f,o.splice(--y,2,new Ut(Q?j:O,Q?O:j))}}return new or(o,f)}function na(i,o){return new or([new Ut(i,o||i)],0)}function ns(i){return i.text?Fe(i.from.line+i.text.length-1,et(i.text).length+(i.text.length==1?i.from.ch:0)):i.to}function Eo(i,o){if(ct(i,o.from)<0)return i;if(ct(i,o.to)<=0)return ns(o);var f=i.line+o.text.length-(o.to.line-o.from.line)-1,c=i.ch;return i.line==o.to.line&&(c+=ns(o).ch-o.to.ch),Fe(f,c)}function xu(i,o){for(var f=[],c=0;c<i.sel.ranges.length;c++){var p=i.sel.ranges[c];f.push(new Ut(Eo(p.anchor,o),Eo(p.head,o)))}return Cr(i.cm,f,i.sel.primIndex)}function Ru(i,o,f){return i.line==o.line?Fe(f.line,i.ch-o.ch+f.ch):Fe(f.line+(i.line-o.line),i.ch)}function Oc(i,o,f){for(var c=[],p=Fe(i.first,0),y=p,S=0;S<o.length;S++){var C=o[S],D=Ru(C.from,p,y),O=Ru(ns(C),p,y);if(p=C.to,y=O,f=="around"){var j=i.sel.ranges[S],Q=ct(j.head,j.anchor)<0;c[S]=new Ut(Q?O:D,Q?D:O)}else c[S]=new Ut(D,D)}return new or(c,i.sel.primIndex)}function Mc(i){i.doc.mode=Hi(i.options,i.doc.modeOption),gl(i)}function gl(i){i.doc.iter(function(o){o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,Ur(i,100),i.state.modeGen++,i.curOp&&Sn(i)}function ks(i,o){return o.from.ch==0&&o.to.ch==0&&et(o.text)==""&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function is(i,o,f,c){function p(tt){return f?f[tt]:null}function y(tt,qe,it){el(tt,qe,it,c),Ke(tt,"change",tt,o)}function S(tt,qe){for(var it=[],vt=tt;vt<qe;++vt)it.push(new qa(O[vt],p(vt),c));return it}var C=o.from,D=o.to,O=o.text,j=rt(i,C.line),Q=rt(i,D.line),be=et(O),pe=p(O.length-1),Le=D.line-C.line;if(o.full)i.insert(0,S(0,O.length)),i.remove(O.length,i.size-O.length);else if(ks(i,o)){var Be=S(0,O.length-1);y(Q,Q.text,pe),Le&&i.remove(C.line,Le),Be.length&&i.insert(C.line,Be)}else if(j==Q)if(O.length==1)y(j,j.text.slice(0,C.ch)+be+j.text.slice(D.ch),pe);else{var Ye=S(1,O.length-1);Ye.push(new qa(be+j.text.slice(D.ch),pe,c)),y(j,j.text.slice(0,C.ch)+O[0],p(0)),i.insert(C.line+1,Ye)}else if(O.length==1)y(j,j.text.slice(0,C.ch)+O[0]+Q.text.slice(D.ch),p(0)),i.remove(C.line+1,Le);else{y(j,j.text.slice(0,C.ch)+O[0],p(0)),y(Q,be+Q.text.slice(D.ch),pe);var Ze=S(1,O.length-1);Le>1&&i.remove(C.line+1,Le-1),i.insert(C.line+1,Ze)}Ke(i,"change",i,o)}function rs(i,o,f){function c(p,y,S){if(p.linked)for(var C=0;C<p.linked.length;++C){var D=p.linked[C];if(D.doc!=y){var O=S&&D.sharedHist;f&&!O||(o(D.doc,O),c(D.doc,p,O))}}}c(i,null,!0)}function nh(i,o){if(o.cm)throw new Error("This document is already in use.");i.doc=o,o.cm=i,Au(i),Mc(i),bo(i),i.options.direction=o.direction,i.options.lineWrapping||oo(i),i.options.mode=o.modeOption,Sn(i)}function bo(i){(i.doc.direction=="rtl"?St:ie)(i.display.lineDiv,"CodeMirror-rtl")}function ku(i){yi(i,function(){bo(i),Sn(i)})}function To(i){this.done=[],this.undone=[],this.undoDepth=i?i.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i?i.maxGeneration:1}function So(i,o){var f={from:to(o.from),to:ns(o),text:Mi(i,o.from,o.to)};return Pc(i,f,o.from.line,o.to.line+1),rs(i,function(c){return Pc(c,f,o.from.line,o.to.line+1)},!0),f}function Iu(i){for(;i.length;){var o=et(i);if(o.ranges)i.pop();else break}}function Zd(i,o){if(o)return Iu(i.done),et(i.done);if(i.done.length&&!et(i.done).ranges)return et(i.done);if(i.done.length>1&&!i.done[i.done.length-2].ranges)return i.done.pop(),et(i.done)}function Is(i,o,f,c){var p=i.history;p.undone.length=0;var y=+new Date,S,C;if((p.lastOp==c||p.lastOrigin==o.origin&&o.origin&&(o.origin.charAt(0)=="+"&&p.lastModTime>y-(i.cm?i.cm.options.historyEventDelay:500)||o.origin.charAt(0)=="*"))&&(S=Zd(p,p.lastOp==c)))C=et(S.changes),ct(o.from,o.to)==0&&ct(o.from,C.to)==0?C.to=ns(o):S.changes.push(So(i,o));else{var D=et(p.done);for((!D||!D.ranges)&&ml(i.sel,p.done),S={changes:[So(i,o)],generation:p.generation},p.done.push(S);p.done.length>p.undoDepth;)p.done.shift(),p.done[0].ranges||p.done.shift()}p.done.push(f),p.generation=++p.maxGeneration,p.lastModTime=p.lastSelTime=y,p.lastOp=p.lastSelOp=c,p.lastOrigin=p.lastSelOrigin=o.origin,C||Xe(i,"historyAdded")}function Jd(i,o,f,c){var p=o.charAt(0);return p=="*"||p=="+"&&f.ranges.length==c.ranges.length&&f.somethingSelected()==c.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)}function Ns(i,o,f,c){var p=i.history,y=c&&c.origin;f==p.lastSelOp||y&&p.lastSelOrigin==y&&(p.lastModTime==p.lastSelTime&&p.lastOrigin==y||Jd(i,y,et(p.done),o))?p.done[p.done.length-1]=o:ml(o,p.done),p.lastSelTime=+new Date,p.lastSelOrigin=y,p.lastSelOp=f,c&&c.clearRedo!==!1&&Iu(p.undone)}function ml(i,o){var f=et(o);f&&f.ranges&&f.equals(i)||o.push(i)}function Pc(i,o,f,c){var p=o["spans_"+i.id],y=0;i.iter(Math.max(i.first,f),Math.min(i.first+i.size,c),function(S){S.markedSpans&&((p||(p=o["spans_"+i.id]={}))[y]=S.markedSpans),++y})}function Ls(i){if(!i)return null;for(var o,f=0;f<i.length;++f)i[f].marker.explicitlyCleared?o||(o=i.slice(0,f)):o&&o.push(i[f]);return o?o.length?o:null:i}function Os(i,o){var f=o["spans_"+i.id];if(!f)return null;for(var c=[],p=0;p<o.text.length;++p)c.push(Ls(f[p]));return c}function vl(i,o){var f=Os(i,o),c=cn(i,o);if(!f)return c;if(!c)return f;for(var p=0;p<f.length;++p){var y=f[p],S=c[p];if(y&&S)e:for(var C=0;C<S.length;++C){for(var D=S[C],O=0;O<y.length;++O)if(y[O].marker==D.marker)continue e;y.push(D)}else S&&(f[p]=S)}return f}function Ms(i,o,f){for(var c=[],p=0;p<i.length;++p){var y=i[p];if(y.ranges){c.push(f?or.prototype.deepCopy.call(y):y);continue}var S=y.changes,C=[];c.push({changes:C});for(var D=0;D<S.length;++D){var O=S[D],j=void 0;if(C.push({from:O.from,to:O.to,text:O.text}),o)for(var Q in O)(j=Q.match(/^spans_(\d+)$/))&&xt(o,Number(j[1]))>-1&&(et(C)[Q]=O[Q],delete O[Q])}}return c}function Nu(i,o,f,c){if(c){var p=i.anchor;if(f){var y=ct(o,p)<0;y!=ct(f,p)<0?(p=o,o=f):y!=ct(o,f)<0&&(o=f)}return new Ut(p,o)}else return new Ut(f||o,o)}function Ps(i,o,f,c,p){p==null&&(p=i.cm&&(i.cm.display.shift||i.extend)),Ei(i,new or([Nu(i.sel.primary(),o,f,p)],0),c)}function yl(i,o,f){for(var c=[],p=i.cm&&(i.cm.display.shift||i.extend),y=0;y<i.sel.ranges.length;y++)c[y]=Nu(i.sel.ranges[y],o[y],null,p);var S=Cr(i.cm,c,i.sel.primIndex);Ei(i,S,f)}function Fc(i,o,f,c){var p=i.sel.ranges.slice(0);p[o]=f,Ei(i,Cr(i.cm,p,i.sel.primIndex),c)}function ih(i,o,f,c){Ei(i,na(o,f),c)}function _l(i,o,f){var c={ranges:o.ranges,update:function(p){this.ranges=[];for(var y=0;y<p.length;y++)this.ranges[y]=new Ut(_t(i,p[y].anchor),_t(i,p[y].head))},origin:f&&f.origin};return Xe(i,"beforeSelectionChange",i,c),i.cm&&Xe(i.cm,"beforeSelectionChange",i.cm,c),c.ranges!=o.ranges?Cr(i.cm,c.ranges,c.ranges.length-1):o}function Lu(i,o,f){var c=i.history.done,p=et(c);p&&p.ranges?(c[c.length-1]=o,El(i,o,f)):Ei(i,o,f)}function Ei(i,o,f){El(i,o,f),Ns(i,i.sel,i.cm?i.cm.curOp.id:NaN,f)}function El(i,o,f){(mt(i,"beforeSelectionChange")||i.cm&&mt(i.cm,"beforeSelectionChange"))&&(o=_l(i,o,f));var c=f&&f.bias||(ct(o.primary().head,i.sel.primary().head)<0?-1:1);Bc(i,Dr(i,o,c,!0)),!(f&&f.scroll===!1)&&i.cm&&i.cm.getOption("readOnly")!="nocursor"&&Ka(i.cm)}function Bc(i,o){o.equals(i.sel)||(i.sel=o,i.cm&&(i.cm.curOp.updateInput=1,i.cm.curOp.selectionChanged=!0,pt(i.cm)),Ke(i,"cursorActivity",i))}function lr(i){Bc(i,Dr(i,i.sel,null,!1))}function Dr(i,o,f,c){for(var p,y=0;y<o.ranges.length;y++){var S=o.ranges[y],C=o.ranges.length==i.sel.ranges.length&&i.sel.ranges[y],D=bl(i,S.anchor,C&&C.anchor,f,c),O=S.head==S.anchor?D:bl(i,S.head,C&&C.head,f,c);(p||D!=S.anchor||O!=S.head)&&(p||(p=o.ranges.slice(0,y)),p[y]=new Ut(D,O))}return p?Cr(i.cm,p,o.primIndex):o}function xr(i,o,f,c,p){var y=rt(i,o.line);if(y.markedSpans)for(var S=0;S<y.markedSpans.length;++S){var C=y.markedSpans[S],D=C.marker,O="selectLeft"in D?!D.selectLeft:D.inclusiveLeft,j="selectRight"in D?!D.selectRight:D.inclusiveRight;if((C.from==null||(O?C.from<=o.ch:C.from<o.ch))&&(C.to==null||(j?C.to>=o.ch:C.to>o.ch))){if(p&&(Xe(D,"beforeCursorEnter"),D.explicitlyCleared))if(y.markedSpans){--S;continue}else break;if(!D.atomic)continue;if(f){var Q=D.find(c<0?1:-1),be=void 0;if((c<0?j:O)&&(Q=rh(i,Q,-c,Q&&Q.line==o.line?y:null)),Q&&Q.line==o.line&&(be=ct(Q,f))&&(c<0?be<0:be>0))return xr(i,Q,o,c,p)}var pe=D.find(c<0?-1:1);return(c<0?O:j)&&(pe=rh(i,pe,c,pe.line==o.line?y:null)),pe?xr(i,pe,o,c,p):null}}return o}function bl(i,o,f,c,p){var y=c||1,S=xr(i,o,f,y,p)||!p&&xr(i,o,f,y,!0)||xr(i,o,f,-y,p)||!p&&xr(i,o,f,-y,!0);return S||(i.cantEdit=!0,Fe(i.first,0))}function rh(i,o,f,c){return f<0&&o.ch==0?o.line>i.first?_t(i,Fe(o.line-1)):null:f>0&&o.ch==(c||rt(i,o.line)).text.length?o.line<i.first+i.size-1?Fe(o.line+1,0):null:new Fe(o.line,o.ch+f)}function as(i){i.setSelection(Fe(i.firstLine(),0),Fe(i.lastLine()),sn)}function ur(i,o,f){var c={canceled:!1,from:o.from,to:o.to,text:o.text,origin:o.origin,cancel:function(){return c.canceled=!0}};return f&&(c.update=function(p,y,S,C){p&&(c.from=_t(i,p)),y&&(c.to=_t(i,y)),S&&(c.text=S),C!==void 0&&(c.origin=C)}),Xe(i,"beforeChange",i,c),i.cm&&Xe(i.cm,"beforeChange",i.cm,c),c.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function An(i,o,f){if(i.cm){if(!i.cm.curOp)return Xn(i.cm,An)(i,o,f);if(i.cm.state.suppressEdits)return}if(!((mt(i,"beforeChange")||i.cm&&mt(i.cm,"beforeChange"))&&(o=ur(i,o,!0),!o))){var c=Yo&&!f&&yu(i,o.from,o.to);if(c)for(var p=c.length-1;p>=0;--p)Ou(i,{from:c[p].from,to:c[p].to,text:p?[""]:o.text,origin:o.origin});else Ou(i,o)}}function Ou(i,o){if(!(o.text.length==1&&o.text[0]==""&&ct(o.from,o.to)==0)){var f=xu(i,o);Is(i,o,f,i.cm?i.cm.curOp.id:NaN),rn(i,o,f,cn(i,o));var c=[];rs(i,function(p,y){!y&&xt(c,p.history)==-1&&(Mu(p.history,o),c.push(p.history)),rn(p,o,null,cn(p,o))})}}function Vr(i,o,f){var c=i.cm&&i.cm.state.suppressEdits;if(!(c&&!f)){for(var p=i.history,y,S=i.sel,C=o=="undo"?p.done:p.undone,D=o=="undo"?p.undone:p.done,O=0;O<C.length&&(y=C[O],!(f?y.ranges&&!y.equals(i.sel):!y.ranges));O++);if(O!=C.length){for(p.lastOrigin=p.lastSelOrigin=null;;)if(y=C.pop(),y.ranges){if(ml(y,D),f&&!y.equals(i.sel)){Ei(i,y,{clearRedo:!1});return}S=y}else if(c){C.push(y);return}else break;var j=[];ml(S,D),D.push({changes:j,generation:p.generation}),p.generation=y.generation||++p.maxGeneration;for(var Q=mt(i,"beforeChange")||i.cm&&mt(i.cm,"beforeChange"),be=function(Be){var Ye=y.changes[Be];if(Ye.origin=o,Q&&!ur(i,Ye,!1))return C.length=0,{};j.push(So(i,Ye));var Ze=Be?xu(i,Ye):et(C);rn(i,Ye,Ze,vl(i,Ye)),!Be&&i.cm&&i.cm.scrollIntoView({from:Ye.from,to:ns(Ye)});var tt=[];rs(i,function(qe,it){!it&&xt(tt,qe.history)==-1&&(Mu(qe.history,Ye),tt.push(qe.history)),rn(qe,Ye,null,vl(qe,Ye))})},pe=y.changes.length-1;pe>=0;--pe){var Le=be(pe);if(Le)return Le.v}}}}function It(i,o){if(o!=0&&(i.first+=o,i.sel=new or(mn(i.sel.ranges,function(p){return new Ut(Fe(p.anchor.line+o,p.anchor.ch),Fe(p.head.line+o,p.head.ch))}),i.sel.primIndex),i.cm)){Sn(i.cm,i.first,i.first-o,o);for(var f=i.cm.display,c=f.viewFrom;c<f.viewTo;c++)Ar(i.cm,c,"gutter")}}function rn(i,o,f,c){if(i.cm&&!i.cm.curOp)return Xn(i.cm,rn)(i,o,f,c);if(o.to.line<i.first){It(i,o.text.length-1-(o.to.line-o.from.line));return}if(!(o.from.line>i.lastLine())){if(o.from.line<i.first){var p=o.text.length-1-(i.first-o.from.line);It(i,p),o={from:Fe(i.first,0),to:Fe(o.to.line+p,o.to.ch),text:[et(o.text)],origin:o.origin}}var y=i.lastLine();o.to.line>y&&(o={from:o.from,to:Fe(y,rt(i,y).text.length),text:[o.text[0]],origin:o.origin}),o.removed=Mi(i,o.from,o.to),f||(f=xu(i,o)),i.cm?ni(i.cm,o,c):is(i,o,c),El(i,f,sn),i.cantEdit&&bl(i,Fe(i.firstLine(),0))&&(i.cantEdit=!1)}}function ni(i,o,f){var c=i.doc,p=i.display,y=o.from,S=o.to,C=!1,D=y.line;i.options.lineWrapping||(D=Qt(gi(rt(c,y.line))),c.iter(D,S.line+1,function(pe){if(pe==p.maxLine)return C=!0,!0})),c.sel.contains(o.from,o.to)>-1&&pt(i),is(c,o,f,Yf(i)),i.options.lineWrapping||(c.iter(D,y.line+o.text.length,function(pe){var Le=wa(pe);Le>p.maxLineLength&&(p.maxLine=pe,p.maxLineLength=Le,p.maxLineChanged=!0,C=!1)}),C&&(i.curOp.updateMaxLine=!0)),Xr(c,y.line),Ur(i,400);var O=o.text.length-(S.line-y.line)-1;o.full?Sn(i):y.line==S.line&&o.text.length==1&&!ks(i.doc,o)?Ar(i,y.line,"text"):Sn(i,y.line,S.line+1,O);var j=mt(i,"changes"),Q=mt(i,"change");if(Q||j){var be={from:y,to:S,text:o.text,removed:o.removed,origin:o.origin};Q&&Ke(i,"change",i,be),j&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(be)}i.display.selForContextMenu=null}function ss(i,o,f,c,p){var y;c||(c=f),ct(c,f)<0&&(y=[c,f],f=y[0],c=y[1]),typeof o=="string"&&(o=i.splitLines(o)),An(i,{from:f,to:c,text:o,origin:p})}function wo(i,o,f,c){f<i.line?i.line+=c:o<i.line&&(i.line=o,i.ch=0)}function Fs(i,o,f,c){for(var p=0;p<i.length;++p){var y=i[p],S=!0;if(y.ranges){y.copied||(y=i[p]=y.deepCopy(),y.copied=!0);for(var C=0;C<y.ranges.length;C++)wo(y.ranges[C].anchor,o,f,c),wo(y.ranges[C].head,o,f,c);continue}for(var D=0;D<y.changes.length;++D){var O=y.changes[D];if(f<O.from.line)O.from=Fe(O.from.line+c,O.from.ch),O.to=Fe(O.to.line+c,O.to.ch);else if(o<=O.to.line){S=!1;break}}S||(i.splice(0,p+1),p=0)}}function Mu(i,o){var f=o.from.line,c=o.to.line,p=o.text.length-(c-f)-1;Fs(i.done,f,c,p),Fs(i.undone,f,c,p)}function os(i,o,f,c){var p=o,y=o;return typeof o=="number"?y=rt(i,Qr(i,o)):p=Qt(o),p==null?null:(c(y,p)&&i.cm&&Ar(i.cm,p,f),y)}function Ma(i){this.lines=i,this.parent=null;for(var o=0,f=0;f<i.length;++f)i[f].parent=this,o+=i[f].height;this.height=o}Ma.prototype={chunkSize:function(){return this.lines.length},removeInner:function(i,o){for(var f=i,c=i+o;f<c;++f){var p=this.lines[f];this.height-=p.height,pc(p),Ke(p,"delete")}this.lines.splice(i,o)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(i,o,f){this.height+=f,this.lines=this.lines.slice(0,i).concat(o).concat(this.lines.slice(i));for(var c=0;c<o.length;++c)o[c].parent=this},iterN:function(i,o,f){for(var c=i+o;i<c;++i)if(f(this.lines[i]))return!0}};function Pu(i){this.children=i;for(var o=0,f=0,c=0;c<i.length;++c){var p=i[c];o+=p.chunkSize(),f+=p.height,p.parent=this}this.size=o,this.height=f,this.parent=null}Pu.prototype={chunkSize:function(){return this.size},removeInner:function(i,o){this.size-=o;for(var f=0;f<this.children.length;++f){var c=this.children[f],p=c.chunkSize();if(i<p){var y=Math.min(o,p-i),S=c.height;if(c.removeInner(i,y),this.height-=S-c.height,p==y&&(this.children.splice(f--,1),c.parent=null),(o-=y)==0)break;i=0}else i-=p}if(this.size-o<25&&(this.children.length>1||!(this.children[0]instanceof Ma))){var C=[];this.collapse(C),this.children=[new Ma(C)],this.children[0].parent=this}},collapse:function(i){for(var o=0;o<this.children.length;++o)this.children[o].collapse(i)},insertInner:function(i,o,f){this.size+=o.length,this.height+=f;for(var c=0;c<this.children.length;++c){var p=this.children[c],y=p.chunkSize();if(i<=y){if(p.insertInner(i,o,f),p.lines&&p.lines.length>50){for(var S=p.lines.length%25+25,C=S;C<p.lines.length;){var D=new Ma(p.lines.slice(C,C+=25));p.height-=D.height,this.children.splice(++c,0,D),D.parent=this}p.lines=p.lines.slice(0,S),this.maybeSpill()}break}i-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var i=this;do{var o=i.children.splice(i.children.length-5,5),f=new Pu(o);if(i.parent){i.size-=f.size,i.height-=f.height;var p=xt(i.parent.children,i);i.parent.children.splice(p+1,0,f)}else{var c=new Pu(i.children);c.parent=i,i.children=[c,f],i=c}f.parent=i.parent}while(i.children.length>10);i.parent.maybeSpill()}},iterN:function(i,o,f){for(var c=0;c<this.children.length;++c){var p=this.children[c],y=p.chunkSize();if(i<y){var S=Math.min(o,y-i);if(p.iterN(i,S,f))return!0;if((o-=S)==0)break;i=0}else i-=y}}};var Cn=function(i,o,f){if(f)for(var c in f)f.hasOwnProperty(c)&&(this[c]=f[c]);this.doc=i,this.node=o};Cn.prototype.clear=function(){var i=this.doc.cm,o=this.line.widgets,f=this.line,c=Qt(f);if(!(c==null||!o)){for(var p=0;p<o.length;++p)o[p]==this&&o.splice(p--,1);o.length||(f.widgets=null);var y=Tu(this);tr(f,Math.max(0,f.height-y)),i&&(yi(i,function(){Uc(i,f,-y),Ar(i,c,"widget")}),Ke(i,"lineWidgetCleared",i,this,c))}},Cn.prototype.changed=function(){var i=this,o=this.height,f=this.doc.cm,c=this.line;this.height=null;var p=Tu(this)-o;p&&(rr(this.doc,c)||tr(c,c.height+p),f&&yi(f,function(){f.curOp.forceUpdate=!0,Uc(f,c,p),Ke(f,"lineWidgetChanged",f,i,Qt(c))}))},At(Cn);function Uc(i,o,f){Mr(o)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&Ds(i,f)}function ah(i,o,f,c){var p=new Cn(i,f,c),y=i.cm;return y&&p.noHScroll&&(y.display.alignWidgets=!0),os(i,o,"widget",function(S){var C=S.widgets||(S.widgets=[]);if(p.insertAt==null?C.push(p):C.splice(Math.min(C.length,Math.max(0,p.insertAt)),0,p),p.line=S,y&&!rr(i,S)){var D=Mr(S)<i.scrollTop;tr(S,S.height+Tu(p)),D&&Ds(y,p.height),y.curOp.forceUpdate=!0}return!0}),y&&Ke(y,"lineWidgetAdded",y,p,typeof o=="number"?o:Qt(o)),p}var sh=0,ls=function(i,o){this.lines=[],this.type=o,this.doc=i,this.id=++sh};ls.prototype.clear=function(){if(!this.explicitlyCleared){var i=this.doc.cm,o=i&&!i.curOp;if(o&&vi(i),mt(this,"clear")){var f=this.find();f&&Ke(this,"clear",f.from,f.to)}for(var c=null,p=null,y=0;y<this.lines.length;++y){var S=this.lines[y],C=Ea(S.markedSpans,this);i&&!this.collapsed?Ar(i,Qt(S),"text"):i&&(C.to!=null&&(p=Qt(S)),C.from!=null&&(c=Qt(S))),S.markedSpans=Es(S.markedSpans,C),C.from==null&&this.collapsed&&!rr(this.doc,S)&&i&&tr(S,sl(i.display))}if(i&&this.collapsed&&!i.options.lineWrapping)for(var D=0;D<this.lines.length;++D){var O=gi(this.lines[D]),j=wa(O);j>i.display.maxLineLength&&(i.display.maxLine=O,i.display.maxLineLength=j,i.display.maxLineChanged=!0)}c!=null&&i&&this.collapsed&&Sn(i,c,p+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,i&&lr(i.doc)),i&&Ke(i,"markerCleared",i,this,c,p),o&&$a(i),this.parent&&this.parent.clear()}},ls.prototype.find=function(i,o){i==null&&this.type=="bookmark"&&(i=1);for(var f,c,p=0;p<this.lines.length;++p){var y=this.lines[p],S=Ea(y.markedSpans,this);if(S.from!=null&&(f=Fe(o?y:Qt(y),S.from),i==-1))return f;if(S.to!=null&&(c=Fe(o?y:Qt(y),S.to),i==1))return c}return f&&{from:f,to:c}},ls.prototype.changed=function(){var i=this,o=this.find(-1,!0),f=this,c=this.doc.cm;!o||!c||yi(c,function(){var p=o.line,y=Qt(o.line),S=bc(c,y);if(S&&(il(S),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!rr(f.doc,p)&&f.height!=null){var C=f.height;f.height=null;var D=Tu(f)-C;D&&tr(p,p.height+D)}Ke(c,"markerChanged",c,i)})},ls.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(!o.maybeHiddenMarkers||xt(o.maybeHiddenMarkers,this)==-1)&&(o.maybeUnhiddenMarkers||(o.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},ls.prototype.detachLine=function(i){if(this.lines.splice(xt(this.lines,i),1),!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(o.maybeHiddenMarkers||(o.maybeHiddenMarkers=[])).push(this)}},At(ls);function Tl(i,o,f,c,p){if(c&&c.shared)return oh(i,o,f,c,p);if(i.cm&&!i.cm.curOp)return Xn(i.cm,Tl)(i,o,f,c,p);var y=new ls(i,p),S=ct(o,f);if(c&&kt(c,y,!1),S>0||S==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=ue("span",[y.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(Xo(i,o.line,o,f,y)||o.line!=f.line&&Xo(i,f.line,o,f,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");ya()}y.addToHistory&&Is(i,{from:o,to:f,origin:"markText"},i.sel,NaN);var C=o.line,D=i.cm,O;if(i.iter(C,f.line+1,function(Q){D&&y.collapsed&&!D.options.lineWrapping&&gi(Q)==D.display.maxLine&&(O=!0),y.collapsed&&C!=o.line&&tr(Q,0),$r(Q,new _a(y,C==o.line?o.ch:null,C==f.line?f.ch:null),i.cm&&i.cm.curOp),++C}),y.collapsed&&i.iter(o.line,f.line+1,function(Q){rr(i,Q)&&tr(Q,0)}),y.clearOnEnter&&me(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(_s(),(i.history.done.length||i.history.undone.length)&&i.clearHistory()),y.collapsed&&(y.id=++sh,y.atomic=!0),D){if(O&&(D.curOp.updateMaxLine=!0),y.collapsed)Sn(D,o.line,f.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var j=o.line;j<=f.line;j++)Ar(D,j,"text");y.atomic&&lr(D.doc),Ke(D,"markerAdded",D,y)}return y}var Ao=function(i,o){this.markers=i,this.primary=o;for(var f=0;f<i.length;++f)i[f].parent=this};Ao.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();Ke(this,"clear")}},Ao.prototype.find=function(i,o){return this.primary.find(i,o)},At(Ao);function oh(i,o,f,c,p){c=kt(c),c.shared=!1;var y=[Tl(i,o,f,c,p)],S=y[0],C=c.widgetNode;return rs(i,function(D){C&&(c.widgetNode=C.cloneNode(!0)),y.push(Tl(D,_t(D,o),_t(D,f),c,p));for(var O=0;O<D.linked.length;++O)if(D.linked[O].isParent)return;S=et(y)}),new Ao(y,S)}function Vc(i){return i.findMarks(Fe(i.first,0),i.clipPos(Fe(i.lastLine())),function(o){return o.parent})}function Qi(i,o){for(var f=0;f<o.length;f++){var c=o[f],p=c.find(),y=i.clipPos(p.from),S=i.clipPos(p.to);if(ct(y,S)){var C=Tl(i,y,S,c.primary,c.primary.type);c.markers.push(C),C.parent=c}}}function Zn(i){for(var o=function(c){var p=i[c],y=[p.primary.doc];rs(p.primary.doc,function(D){return y.push(D)});for(var S=0;S<p.markers.length;S++){var C=p.markers[S];xt(y,C.doc)==-1&&(C.parent=null,p.markers.splice(S--,1))}},f=0;f<i.length;f++)o(f)}var zc=0,ci=function(i,o,f,c,p){if(!(this instanceof ci))return new ci(i,o,f,c,p);f==null&&(f=0),Pu.call(this,[new Ma([new qa("",null)])]),this.first=f,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=f;var y=Fe(f,0);this.sel=na(y),this.history=new To(null),this.id=++zc,this.modeOption=o,this.lineSep=c,this.direction=p=="rtl"?"rtl":"ltr",this.extend=!1,typeof i=="string"&&(i=this.splitLines(i)),is(this,{from:y,to:y,text:i}),Ei(this,na(y),sn)};ci.prototype=Se(Pu.prototype,{constructor:ci,iter:function(i,o,f){f?this.iterN(i-this.first,o-i,f):this.iterN(this.first,this.first+this.size,i)},insert:function(i,o){for(var f=0,c=0;c<o.length;++c)f+=o[c].height;this.insertInner(i-this.first,o,f)},remove:function(i,o){this.removeInner(i-this.first,o)},getValue:function(i){var o=eo(this,this.first,this.first+this.size);return i===!1?o:o.join(i||this.lineSeparator())},setValue:_n(function(i){var o=Fe(this.first,0),f=this.first+this.size-1;An(this,{from:o,to:Fe(f,rt(this,f).text.length),text:this.splitLines(i),origin:"setValue",full:!0},!0),this.cm&&Ya(this.cm,0,0),Ei(this,na(o),sn)}),replaceRange:function(i,o,f,c){o=_t(this,o),f=f?_t(this,f):o,ss(this,i,o,f,c)},getRange:function(i,o,f){var c=Mi(this,_t(this,i),_t(this,o));return f===!1?c:f===""?c.join(""):c.join(f||this.lineSeparator())},getLine:function(i){var o=this.getLineHandle(i);return o&&o.text},getLineHandle:function(i){if(ga(this,i))return rt(this,i)},getLineNumber:function(i){return Qt(i)},getLineHandleVisualStart:function(i){return typeof i=="number"&&(i=rt(this,i)),gi(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return _t(this,i)},getCursor:function(i){var o=this.sel.primary(),f;return i==null||i=="head"?f=o.head:i=="anchor"?f=o.anchor:i=="end"||i=="to"||i===!1?f=o.to():f=o.from(),f},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:_n(function(i,o,f){ih(this,_t(this,typeof i=="number"?Fe(i,o||0):i),null,f)}),setSelection:_n(function(i,o,f){ih(this,_t(this,i),_t(this,o||i),f)}),extendSelection:_n(function(i,o,f){Ps(this,_t(this,i),o&&_t(this,o),f)}),extendSelections:_n(function(i,o){yl(this,no(this,i),o)}),extendSelectionsBy:_n(function(i,o){var f=mn(this.sel.ranges,i);yl(this,no(this,f),o)}),setSelections:_n(function(i,o,f){if(i.length){for(var c=[],p=0;p<i.length;p++)c[p]=new Ut(_t(this,i[p].anchor),_t(this,i[p].head||i[p].anchor));o==null&&(o=Math.min(i.length-1,this.sel.primIndex)),Ei(this,Cr(this.cm,c,o),f)}}),addSelection:_n(function(i,o,f){var c=this.sel.ranges.slice(0);c.push(new Ut(_t(this,i),_t(this,o||i))),Ei(this,Cr(this.cm,c,c.length-1),f)}),getSelection:function(i){for(var o=this.sel.ranges,f,c=0;c<o.length;c++){var p=Mi(this,o[c].from(),o[c].to());f=f?f.concat(p):p}return i===!1?f:f.join(i||this.lineSeparator())},getSelections:function(i){for(var o=[],f=this.sel.ranges,c=0;c<f.length;c++){var p=Mi(this,f[c].from(),f[c].to());i!==!1&&(p=p.join(i||this.lineSeparator())),o[c]=p}return o},replaceSelection:function(i,o,f){for(var c=[],p=0;p<this.sel.ranges.length;p++)c[p]=i;this.replaceSelections(c,o,f||"+input")},replaceSelections:_n(function(i,o,f){for(var c=[],p=this.sel,y=0;y<p.ranges.length;y++){var S=p.ranges[y];c[y]={from:S.from(),to:S.to(),text:this.splitLines(i[y]),origin:f}}for(var C=o&&o!="end"&&Oc(this,c,o),D=c.length-1;D>=0;D--)An(this,c[D]);C?Lu(this,C):this.cm&&Ka(this.cm)}),undo:_n(function(){Vr(this,"undo")}),redo:_n(function(){Vr(this,"redo")}),undoSelection:_n(function(){Vr(this,"undo",!0)}),redoSelection:_n(function(){Vr(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var i=this.history,o=0,f=0,c=0;c<i.done.length;c++)i.done[c].ranges||++o;for(var p=0;p<i.undone.length;p++)i.undone[p].ranges||++f;return{undo:o,redo:f}},clearHistory:function(){var i=this;this.history=new To(this.history),rs(this,function(o){return o.history=i.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:Ms(this.history.done),undone:Ms(this.history.undone)}},setHistory:function(i){var o=this.history=new To(this.history);o.done=Ms(i.done.slice(0),null,!0),o.undone=Ms(i.undone.slice(0),null,!0)},setGutterMarker:_n(function(i,o,f){return os(this,i,"gutter",function(c){var p=c.gutterMarkers||(c.gutterMarkers={});return p[o]=f,!f&&M(p)&&(c.gutterMarkers=null),!0})}),clearGutter:_n(function(i){var o=this;this.iter(function(f){f.gutterMarkers&&f.gutterMarkers[i]&&os(o,f,"gutter",function(){return f.gutterMarkers[i]=null,M(f.gutterMarkers)&&(f.gutterMarkers=null),!0})})}),lineInfo:function(i){var o;if(typeof i=="number"){if(!ga(this,i)||(o=i,i=rt(this,i),!i))return null}else if(o=Qt(i),o==null)return null;return{line:o,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:_n(function(i,o,f){return os(this,i,o=="gutter"?"gutter":"class",function(c){var p=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass";if(!c[p])c[p]=f;else{if(G(f).test(c[p]))return!1;c[p]+=" "+f}return!0})}),removeLineClass:_n(function(i,o,f){return os(this,i,o=="gutter"?"gutter":"class",function(c){var p=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass",y=c[p];if(y)if(f==null)c[p]=null;else{var S=y.match(G(f));if(!S)return!1;var C=S.index+S[0].length;c[p]=y.slice(0,S.index)+(!S.index||C==y.length?"":" ")+y.slice(C)||null}else return!1;return!0})}),addLineWidget:_n(function(i,o,f){return ah(this,i,o,f)}),removeLineWidget:function(i){i.clear()},markText:function(i,o,f){return Tl(this,_t(this,i),_t(this,o),f,f&&f.type||"range")},setBookmark:function(i,o){var f={replacedWith:o&&(o.nodeType==null?o.widget:o),insertLeft:o&&o.insertLeft,clearWhenEmpty:!1,shared:o&&o.shared,handleMouseEvents:o&&o.handleMouseEvents};return i=_t(this,i),Tl(this,i,i,f,"bookmark")},findMarksAt:function(i){i=_t(this,i);var o=[],f=rt(this,i.line).markedSpans;if(f)for(var c=0;c<f.length;++c){var p=f[c];(p.from==null||p.from<=i.ch)&&(p.to==null||p.to>=i.ch)&&o.push(p.marker.parent||p.marker)}return o},findMarks:function(i,o,f){i=_t(this,i),o=_t(this,o);var c=[],p=i.line;return this.iter(i.line,o.line+1,function(y){var S=y.markedSpans;if(S)for(var C=0;C<S.length;C++){var D=S[C];!(D.to!=null&&p==i.line&&i.ch>=D.to||D.from==null&&p!=i.line||D.from!=null&&p==o.line&&D.from>=o.ch)&&(!f||f(D.marker))&&c.push(D.marker.parent||D.marker)}++p}),c},getAllMarks:function(){var i=[];return this.iter(function(o){var f=o.markedSpans;if(f)for(var c=0;c<f.length;++c)f[c].from!=null&&i.push(f[c].marker)}),i},posFromIndex:function(i){var o,f=this.first,c=this.lineSeparator().length;return this.iter(function(p){var y=p.text.length+c;if(y>i)return o=i,!0;i-=y,++f}),_t(this,Fe(f,o))},indexFromPos:function(i){i=_t(this,i);var o=i.ch;if(i.line<this.first||i.ch<0)return 0;var f=this.lineSeparator().length;return this.iter(this.first,i.line,function(c){o+=c.text.length+f}),o},copy:function(i){var o=new ci(eo(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return o.scrollTop=this.scrollTop,o.scrollLeft=this.scrollLeft,o.sel=this.sel,o.extend=!1,i&&(o.history.undoDepth=this.history.undoDepth,o.setHistory(this.getHistory())),o},linkedDoc:function(i){i||(i={});var o=this.first,f=this.first+this.size;i.from!=null&&i.from>o&&(o=i.from),i.to!=null&&i.to<f&&(f=i.to);var c=new ci(eo(this,o,f),i.mode||this.modeOption,o,this.lineSep,this.direction);return i.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:i.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],Qi(c,Vc(this)),c},unlinkDoc:function(i){if(i instanceof on&&(i=i.doc),this.linked)for(var o=0;o<this.linked.length;++o){var f=this.linked[o];if(f.doc==i){this.linked.splice(o,1),i.unlinkDoc(this),Zn(Vc(this));break}}if(i.history==this.history){var c=[i.id];rs(i,function(p){return c.push(p.id)},!0),i.history=new To(null),i.history.done=Ms(this.history.done,c),i.history.undone=Ms(this.history.undone,c)}},iterLinkedDocs:function(i){rs(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):Vi(i)},lineSeparator:function(){return this.lineSep||`
`},setDirection:_n(function(i){i!="rtl"&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(o){return o.order=null}),this.cm&&ku(this.cm))})}),ci.prototype.eachLine=ci.prototype.iter;var Fu=0;function lh(i){var o=this;if(qc(o),!(We(o,i)||xa(o.display,i))){yt(i),b&&(Fu=+new Date);var f=Di(o,i,!0),c=i.dataTransfer.files;if(!(!f||o.isReadOnly()))if(c&&c.length&&window.FileReader&&window.File)for(var p=c.length,y=Array(p),S=0,C=function(){++S==p&&Xn(o,function(){f=_t(o.doc,f);var pe={from:f,to:f,text:o.doc.splitLines(y.filter(function(Le){return Le!=null}).join(o.doc.lineSeparator())),origin:"paste"};An(o.doc,pe),Lu(o.doc,na(_t(o.doc,f),_t(o.doc,ns(pe))))})()},D=function(pe,Le){if(o.options.allowDropFileTypes&&xt(o.options.allowDropFileTypes,pe.type)==-1){C();return}var Be=new FileReader;Be.onerror=function(){return C()},Be.onload=function(){var Ye=Be.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ye)){C();return}y[Le]=Ye,C()},Be.readAsText(pe)},O=0;O<c.length;O++)D(c[O],O);else{if(o.state.draggingText&&o.doc.sel.contains(f)>-1){o.state.draggingText(i),setTimeout(function(){return o.display.input.focus()},20);return}try{var j=i.dataTransfer.getData("Text");if(j){var Q;if(o.state.draggingText&&!o.state.draggingText.copy&&(Q=o.listSelections()),El(o.doc,na(f,f)),Q)for(var be=0;be<Q.length;++be)ss(o.doc,"",Q[be].anchor,Q[be].head,"drag");o.replaceSelection(j,"around","paste"),o.display.input.focus()}}catch{}}}}function us(i,o){if(b&&(!i.state.draggingText||+new Date-Fu<100)){Bn(o);return}if(!(We(i,o)||xa(i.display,o))&&(o.dataTransfer.setData("Text",i.getSelection()),o.dataTransfer.effectAllowed="copyMove",o.dataTransfer.setDragImage&&!_e)){var f=ce("img",null,null,"position: fixed; left: 0; top: 0;");f.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Z&&(f.width=f.height=1,i.display.wrapper.appendChild(f),f._top=f.offsetTop),o.dataTransfer.setDragImage(f,0,0),Z&&f.parentNode.removeChild(f)}}function Hc(i,o){var f=Di(i,o);if(f){var c=document.createDocumentFragment();ll(i,f,c),i.display.dragCursor||(i.display.dragCursor=ce("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),st(i.display.dragCursor,c)}}function qc(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function jc(i){if(document.getElementsByClassName){for(var o=document.getElementsByClassName("CodeMirror"),f=[],c=0;c<o.length;c++){var p=o[c].CodeMirror;p&&f.push(p)}f.length&&f[0].operation(function(){for(var y=0;y<f.length;y++)i(f[y])})}}var uh=!1;function ep(){uh||(tp(),uh=!0)}function tp(){var i;me(window,"resize",function(){i==null&&(i=setTimeout(function(){i=null,jc(np)},100))}),me(window,"blur",function(){return jc(Wa)})}function np(i){var o=i.display;o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.scrollbarsClipped=!1,i.setSize()}for(var cs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Sl=0;Sl<10;Sl++)cs[Sl+48]=cs[Sl+96]=String(Sl);for(var wl=65;wl<=90;wl++)cs[wl]=String.fromCharCode(wl);for(var Al=1;Al<=12;Al++)cs[Al+111]=cs[Al+63235]="F"+Al;var fs={};fs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},fs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fs.default=he?fs.macDefault:fs.pcDefault;function ip(i){var o=i.split(/-(?!$)/);i=o[o.length-1];for(var f,c,p,y,S=0;S<o.length-1;S++){var C=o[S];if(/^(cmd|meta|m)$/i.test(C))y=!0;else if(/^a(lt)?$/i.test(C))f=!0;else if(/^(c|ctrl|control)$/i.test(C))c=!0;else if(/^s(hift)?$/i.test(C))p=!0;else throw new Error("Unrecognized modifier name: "+C)}return f&&(i="Alt-"+i),c&&(i="Ctrl-"+i),y&&(i="Cmd-"+i),p&&(i="Shift-"+i),i}function rp(i){var o={};for(var f in i)if(i.hasOwnProperty(f)){var c=i[f];if(/^(name|fallthrough|(de|at)tach)$/.test(f))continue;if(c=="..."){delete i[f];continue}for(var p=mn(f.split(" "),ip),y=0;y<p.length;y++){var S=void 0,C=void 0;y==p.length-1?(C=p.join(" "),S=c):(C=p.slice(0,y+1).join(" "),S="...");var D=o[C];if(!D)o[C]=S;else if(D!=S)throw new Error("Inconsistent bindings for "+C)}delete i[f]}for(var O in o)i[O]=o[O];return i}function Co(i,o,f,c){o=Bu(o);var p=o.call?o.call(i,c):o[i];if(p===!1)return"nothing";if(p==="...")return"multi";if(p!=null&&f(p))return"handled";if(o.fallthrough){if(Object.prototype.toString.call(o.fallthrough)!="[object Array]")return Co(i,o.fallthrough,f,c);for(var y=0;y<o.fallthrough.length;y++){var S=Co(i,o.fallthrough[y],f,c);if(S)return S}}}function Gc(i){var o=typeof i=="string"?i:cs[i.keyCode];return o=="Ctrl"||o=="Alt"||o=="Shift"||o=="Mod"}function ch(i,o,f){var c=i;return o.altKey&&c!="Alt"&&(i="Alt-"+i),(q?o.metaKey:o.ctrlKey)&&c!="Ctrl"&&(i="Ctrl-"+i),(q?o.ctrlKey:o.metaKey)&&c!="Mod"&&(i="Cmd-"+i),!f&&o.shiftKey&&c!="Shift"&&(i="Shift-"+i),i}function fh(i,o){if(Z&&i.keyCode==34&&i.char)return!1;var f=cs[i.keyCode];return f==null||i.altGraphKey?!1:(i.keyCode==3&&i.code&&(f=i.code),ch(f,i,o))}function Bu(i){return typeof i=="string"?fs[i]:i}function Do(i,o){for(var f=i.doc.sel.ranges,c=[],p=0;p<f.length;p++){for(var y=o(f[p]);c.length&&ct(y.from,et(c).to)<=0;){var S=c.pop();if(ct(S.from,y.from)<0){y.from=S.from;break}}c.push(y)}yi(i,function(){for(var C=c.length-1;C>=0;C--)ss(i.doc,"",c[C].from,c[C].to,"+delete");Ka(i)})}function Wc(i,o,f){var c=L(i.text,o+f,f);return c<0||c>i.text.length?null:c}function hh(i,o,f){var c=Wc(i,o.ch,f);return c==null?null:new Fe(o.line,c,f<0?"after":"before")}function Kc(i,o,f,c,p){if(i){o.doc.direction=="rtl"&&(p=-p);var y=J(f,o.doc.direction);if(y){var S=p<0?et(y):y[0],C=p<0==(S.level==1),D=C?"after":"before",O;if(S.level>0||o.doc.direction=="rtl"){var j=fo(o,f);O=p<0?f.text.length-1:0;var Q=Ia(o,j,O).top;O=W(function(be){return Ia(o,j,be).top==Q},p<0==(S.level==1)?S.from:S.to-1,O),D=="before"&&(O=Wc(f,O,1))}else O=p<0?S.to:S.from;return new Fe(c,O,D)}}return new Fe(c,p<0?f.text.length:0,p<0?"before":"after")}function Cl(i,o,f,c){var p=J(o,i.doc.direction);if(!p)return hh(o,f,c);f.ch>=o.text.length?(f.ch=o.text.length,f.sticky="before"):f.ch<=0&&(f.ch=0,f.sticky="after");var y=ye(p,f.ch,f.sticky),S=p[y];if(i.doc.direction=="ltr"&&S.level%2==0&&(c>0?S.to>f.ch:S.from<f.ch))return hh(o,f,c);var C=function(Ze,tt){return Wc(o,Ze instanceof Fe?Ze.ch:Ze,tt)},D,O=function(Ze){return i.options.lineWrapping?(D=D||fo(i,o),Ac(i,o,D,Ze)):{begin:0,end:o.text.length}},j=O(f.sticky=="before"?C(f,-1):f.ch);if(i.doc.direction=="rtl"||S.level==1){var Q=S.level==1==c<0,be=C(f,Q?1:-1);if(be!=null&&(Q?be<=S.to&&be<=j.end:be>=S.from&&be>=j.begin)){var pe=Q?"before":"after";return new Fe(f.line,be,pe)}}var Le=function(Ze,tt,qe){for(var it=function(jt,ii){return ii?new Fe(f.line,C(jt,1),"before"):new Fe(f.line,jt,"after")};Ze>=0&&Ze<p.length;Ze+=tt){var vt=p[Ze],ht=tt>0==(vt.level!=1),Rt=ht?qe.begin:C(qe.end,-1);if(vt.from<=Rt&&Rt<vt.to||(Rt=ht?vt.from:C(vt.to,-1),qe.begin<=Rt&&Rt<qe.end))return it(Rt,ht)}},Be=Le(y+c,c,j);if(Be)return Be;var Ye=c>0?j.end:C(j.begin,-1);return Ye!=null&&!(c>0&&Ye==o.text.length)&&(Be=Le(c>0?0:p.length-1,c,O(Ye)),Be)?Be:null}var Dl={selectAll:as,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),sn)},killLine:function(i){return Do(i,function(o){if(o.empty()){var f=rt(i.doc,o.head.line).text.length;return o.head.ch==f&&o.head.line<i.lastLine()?{from:o.head,to:Fe(o.head.line+1,0)}:{from:o.head,to:Fe(o.head.line,f)}}else return{from:o.from(),to:o.to()}})},deleteLine:function(i){return Do(i,function(o){return{from:Fe(o.from().line,0),to:_t(i.doc,Fe(o.to().line+1,0))}})},delLineLeft:function(i){return Do(i,function(o){return{from:Fe(o.from().line,0),to:o.from()}})},delWrappedLineLeft:function(i){return Do(i,function(o){var f=i.charCoords(o.head,"div").top+5,c=i.coordsChar({left:0,top:f},"div");return{from:c,to:o.from()}})},delWrappedLineRight:function(i){return Do(i,function(o){var f=i.charCoords(o.head,"div").top+5,c=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:f},"div");return{from:o.from(),to:c}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(Fe(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(Fe(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(o){return Uu(i,o.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(o){return dh(i,o.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(o){return Yc(i,o.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(o){var f=i.cursorCoords(o.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:f},"div")},Fn)},goLineLeft:function(i){return i.extendSelectionsBy(function(o){var f=i.cursorCoords(o.head,"div").top+5;return i.coordsChar({left:0,top:f},"div")},Fn)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(o){var f=i.cursorCoords(o.head,"div").top+5,c=i.coordsChar({left:0,top:f},"div");return c.ch<i.getLine(c.line).search(/\S/)?dh(i,o.head):c},Fn)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"codepoint")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("	")},insertSoftTab:function(i){for(var o=[],f=i.listSelections(),c=i.options.tabSize,p=0;p<f.length;p++){var y=f[p].from(),S=Tt(i.getLine(y.line),y.ch,c);o.push(tn(c-S%c))}i.replaceSelections(o)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return yi(i,function(){for(var o=i.listSelections(),f=[],c=0;c<o.length;c++)if(o[c].empty()){var p=o[c].head,y=rt(i.doc,p.line).text;if(y){if(p.ch==y.length&&(p=new Fe(p.line,p.ch-1)),p.ch>0)p=new Fe(p.line,p.ch+1),i.replaceRange(y.charAt(p.ch-1)+y.charAt(p.ch-2),Fe(p.line,p.ch-2),p,"+transpose");else if(p.line>i.doc.first){var S=rt(i.doc,p.line-1).text;S&&(p=new Fe(p.line,1),i.replaceRange(y.charAt(0)+i.doc.lineSeparator()+S.charAt(S.length-1),Fe(p.line-1,S.length-1),p,"+transpose"))}}f.push(new Ut(p,p))}i.setSelections(f)})},newlineAndIndent:function(i){return yi(i,function(){for(var o=i.listSelections(),f=o.length-1;f>=0;f--)i.replaceRange(i.doc.lineSeparator(),o[f].anchor,o[f].head,"+input");o=i.listSelections();for(var c=0;c<o.length;c++)i.indentLine(o[c].from().line,null,!0);Ka(i)})},openLine:function(i){return i.replaceSelection(`
`,"start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function Uu(i,o){var f=rt(i.doc,o),c=gi(f);return c!=f&&(o=Qt(c)),Kc(!0,i,c,o,1)}function Yc(i,o){var f=rt(i.doc,o),c=$o(f);return c!=f&&(o=Qt(c)),Kc(!0,i,f,o,-1)}function dh(i,o){var f=Uu(i,o.line),c=rt(i.doc,f.line),p=J(c,i.doc.direction);if(!p||p[0].level==0){var y=Math.max(f.ch,c.text.search(/\S/)),S=o.line==f.line&&o.ch<=y&&o.ch;return Fe(f.line,S?0:y,f.sticky)}return f}function xl(i,o,f){if(typeof o=="string"&&(o=Dl[o],!o))return!1;i.display.input.ensurePolled();var c=i.display.shift,p=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),f&&(i.display.shift=!1),p=o(i)!=un}finally{i.display.shift=c,i.state.suppressEdits=!1}return p}function hm(i,o,f){for(var c=0;c<i.state.keyMaps.length;c++){var p=Co(o,i.state.keyMaps[c],f,i);if(p)return p}return i.options.extraKeys&&Co(o,i.options.extraKeys,f,i)||Co(o,i.options.keyMap,f,i)}var ap=new Kt;function Rl(i,o,f,c){var p=i.state.keySeq;if(p){if(Gc(o))return"handled";if(/\'$/.test(o)?i.state.keySeq=null:ap.set(50,function(){i.state.keySeq==p&&(i.state.keySeq=null,i.display.input.reset())}),ph(i,p+" "+o,f,c))return!0}return ph(i,o,f,c)}function ph(i,o,f,c){var p=hm(i,o,c);return p=="multi"&&(i.state.keySeq=o),p=="handled"&&Ke(i,"keyHandled",i,o,f),(p=="handled"||p=="multi")&&(yt(f),Wi(i)),!!p}function gh(i,o){var f=fh(o,!0);return f?o.shiftKey&&!i.state.keySeq?Rl(i,"Shift-"+f,o,function(c){return xl(i,c,!0)})||Rl(i,f,o,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return xl(i,c)}):Rl(i,f,o,function(c){return xl(i,c)}):!1}function sp(i,o,f){return Rl(i,"'"+f+"'",o,function(c){return xl(i,c,!0)})}var Vu=null;function mh(i){var o=this;if(!(i.target&&i.target!=o.display.input.getField())&&(o.curOp.focus=ot(ge(o)),!We(o,i))){b&&T<11&&i.keyCode==27&&(i.returnValue=!1);var f=i.keyCode;o.display.shift=f==16||i.shiftKey;var c=gh(o,i);Z&&(Vu=c?f:null,!c&&f==88&&!Ht&&(he?i.metaKey:i.ctrlKey)&&o.replaceSelection("",null,"cut")),u&&!he&&!c&&f==46&&i.shiftKey&&!i.ctrlKey&&document.execCommand&&document.execCommand("cut"),f==18&&!/\bCodeMirror-crosshair\b/.test(o.display.lineDiv.className)&&op(o)}}function op(i){var o=i.display.lineDiv;St(o,"CodeMirror-crosshair");function f(c){(c.keyCode==18||!c.altKey)&&(ie(o,"CodeMirror-crosshair"),nt(document,"keyup",f),nt(document,"mouseover",f))}me(document,"keyup",f),me(document,"mouseover",f)}function Qc(i){i.keyCode==16&&(this.doc.sel.shift=!1),We(this,i)}function vh(i){var o=this;if(!(i.target&&i.target!=o.display.input.getField())&&!(xa(o.display,i)||We(o,i)||i.ctrlKey&&!i.altKey||he&&i.metaKey)){var f=i.keyCode,c=i.charCode;if(Z&&f==Vu){Vu=null,yt(i);return}if(!(Z&&(!i.which||i.which<10)&&gh(o,i))){var p=String.fromCharCode(c??f);p!="\b"&&(sp(o,i,p)||o.display.input.onKeyPress(i))}}}var lp=400,yh=function(i,o,f){this.time=i,this.pos=o,this.button=f};yh.prototype.compare=function(i,o,f){return this.time+lp>i&&ct(o,this.pos)==0&&f==this.button};var xo,kl;function up(i,o){var f=+new Date;return kl&&kl.compare(f,i,o)?(xo=kl=null,"triple"):xo&&xo.compare(f,i,o)?(kl=new yh(f,i,o),xo=null,"double"):(xo=new yh(f,i,o),kl=null,"single")}function Xc(i){var o=this,f=o.display;if(!(We(o,i)||f.activeTouch&&f.input.supportsTouch())){if(f.input.ensurePolled(),f.shift=i.shiftKey,xa(f,i)){x||(f.scroller.draggable=!1,setTimeout(function(){return f.scroller.draggable=!0},100));return}if(!$c(o,i)){var c=Di(o,i),p=Qn(i),y=c?up(c,p):"single";$e(o).focus(),p==1&&o.state.selectingText&&o.state.selectingText(i),!(c&&cp(o,p,c,y,i))&&(p==1?c?dm(o,c,y,i):zn(i)==f.scroller&&yt(i):p==2?(c&&Ps(o.doc,c),setTimeout(function(){return f.input.focus()},20)):p==3&&(ae?o.display.input.onContextMenu(i):ea(o)))}}}function cp(i,o,f,c,p){var y="Click";return c=="double"?y="Double"+y:c=="triple"&&(y="Triple"+y),y=(o==1?"Left":o==2?"Middle":"Right")+y,Rl(i,ch(y,p),p,function(S){if(typeof S=="string"&&(S=Dl[S]),!S)return!1;var C=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),C=S(i,f)!=un}finally{i.state.suppressEdits=!1}return C})}function fp(i,o,f){var c=i.getOption("configureMouse"),p=c?c(i,o,f):{};if(p.unit==null){var y=xe?f.shiftKey&&f.metaKey:f.altKey;p.unit=y?"rectangle":o=="single"?"char":o=="double"?"word":"line"}return(p.extend==null||i.doc.extend)&&(p.extend=i.doc.extend||f.shiftKey),p.addNew==null&&(p.addNew=he?f.metaKey:f.ctrlKey),p.moveOnDrag==null&&(p.moveOnDrag=!(he?f.altKey:f.ctrlKey)),p}function dm(i,o,f,c){b?setTimeout(dt(kc,i),0):i.curOp.focus=ot(ge(i));var p=fp(i,f,c),y=i.doc.sel,S;i.options.dragDrop&&ha&&!i.isReadOnly()&&f=="single"&&(S=y.contains(o))>-1&&(ct((S=y.ranges[S]).from(),o)<0||o.xRel>0)&&(ct(S.to(),o)>0||o.xRel<0)?pm(i,c,o,p):zu(i,c,o,p)}function pm(i,o,f,c){var p=i.display,y=!1,S=Xn(i,function(O){x&&(p.scroller.draggable=!1),i.state.draggingText=!1,i.state.delayingBlurEvent&&(i.hasFocus()?i.state.delayingBlurEvent=!1:ea(i)),nt(p.wrapper.ownerDocument,"mouseup",S),nt(p.wrapper.ownerDocument,"mousemove",C),nt(p.scroller,"dragstart",D),nt(p.scroller,"drop",S),y||(yt(O),c.addNew||Ps(i.doc,f,null,null,c.extend),x&&!_e||b&&T==9?setTimeout(function(){p.wrapper.ownerDocument.body.focus({preventScroll:!0}),p.input.focus()},20):p.input.focus())}),C=function(O){y=y||Math.abs(o.clientX-O.clientX)+Math.abs(o.clientY-O.clientY)>=10},D=function(){return y=!0};x&&(p.scroller.draggable=!0),i.state.draggingText=S,S.copy=!c.moveOnDrag,me(p.wrapper.ownerDocument,"mouseup",S),me(p.wrapper.ownerDocument,"mousemove",C),me(p.scroller,"dragstart",D),me(p.scroller,"drop",S),i.state.delayingBlurEvent=!0,setTimeout(function(){return p.input.focus()},20),p.scroller.dragDrop&&p.scroller.dragDrop()}function _h(i,o,f){if(f=="char")return new Ut(o,o);if(f=="word")return i.findWordAt(o);if(f=="line")return new Ut(Fe(o.line,0),_t(i.doc,Fe(o.line+1,0)));var c=f(i,o);return new Ut(c.from,c.to)}function zu(i,o,f,c){b&&ea(i);var p=i.display,y=i.doc;yt(o);var S,C,D=y.sel,O=D.ranges;if(c.addNew&&!c.extend?(C=y.sel.contains(f),C>-1?S=O[C]:S=new Ut(f,f)):(S=y.sel.primary(),C=y.sel.primIndex),c.unit=="rectangle")c.addNew||(S=new Ut(f,f)),f=Di(i,o,!0,!0),C=-1;else{var j=_h(i,f,c.unit);c.extend?S=Nu(S,j.anchor,j.head,c.extend):S=j}c.addNew?C==-1?(C=O.length,Ei(y,Cr(i,O.concat([S]),C),{scroll:!1,origin:"*mouse"})):O.length>1&&O[C].empty()&&c.unit=="char"&&!c.extend?(Ei(y,Cr(i,O.slice(0,C).concat(O.slice(C+1)),0),{scroll:!1,origin:"*mouse"}),D=y.sel):Fc(y,C,S,ut):(C=0,Ei(y,new or([S],0),ut),D=y.sel);var Q=f;function be(qe){if(ct(Q,qe)!=0)if(Q=qe,c.unit=="rectangle"){for(var it=[],vt=i.options.tabSize,ht=Tt(rt(y,f.line).text,f.ch,vt),Rt=Tt(rt(y,qe.line).text,qe.ch,vt),jt=Math.min(ht,Rt),ii=Math.max(ht,Rt),Nn=Math.min(f.line,qe.line),bi=Math.min(i.lastLine(),Math.max(f.line,qe.line));Nn<=bi;Nn++){var Mn=rt(y,Nn).text,Wn=li(Mn,jt,vt);jt==ii?it.push(new Ut(Fe(Nn,Wn),Fe(Nn,Wn))):Mn.length>Wn&&it.push(new Ut(Fe(Nn,Wn),Fe(Nn,li(Mn,ii,vt))))}it.length||it.push(new Ut(f,f)),Ei(y,Cr(i,D.ranges.slice(0,C).concat(it),C),{origin:"*mouse",scroll:!1}),i.scrollIntoView(qe)}else{var Ri=S,fi=_h(i,qe,c.unit),Kn=Ri.anchor,Un;ct(fi.anchor,Kn)>0?(Un=fi.head,Kn=va(Ri.from(),fi.anchor)):(Un=fi.anchor,Kn=nn(Ri.to(),fi.head));var Dn=D.ranges.slice(0);Dn[C]=Eh(i,new Ut(_t(y,Kn),Un)),Ei(y,Cr(i,Dn,C),ut)}}var pe=p.wrapper.getBoundingClientRect(),Le=0;function Be(qe){var it=++Le,vt=Di(i,qe,!0,c.unit=="rectangle");if(vt)if(ct(vt,Q)!=0){i.curOp.focus=ot(ge(i)),be(vt);var ht=Cu(p,y);(vt.line>=ht.to||vt.line<ht.from)&&setTimeout(Xn(i,function(){Le==it&&Be(qe)}),150)}else{var Rt=qe.clientY<pe.top?-20:qe.clientY>pe.bottom?20:0;Rt&&setTimeout(Xn(i,function(){Le==it&&(p.scroller.scrollTop+=Rt,Be(qe))}),50)}}function Ye(qe){i.state.selectingText=!1,Le=1/0,qe&&(yt(qe),p.input.focus()),nt(p.wrapper.ownerDocument,"mousemove",Ze),nt(p.wrapper.ownerDocument,"mouseup",tt),y.history.lastSelOrigin=null}var Ze=Xn(i,function(qe){qe.buttons===0||!Qn(qe)?Ye(qe):Be(qe)}),tt=Xn(i,Ye);i.state.selectingText=tt,me(p.wrapper.ownerDocument,"mousemove",Ze),me(p.wrapper.ownerDocument,"mouseup",tt)}function Eh(i,o){var f=o.anchor,c=o.head,p=rt(i.doc,f.line);if(ct(f,c)==0&&f.sticky==c.sticky)return o;var y=J(p);if(!y)return o;var S=ye(y,f.ch,f.sticky),C=y[S];if(C.from!=f.ch&&C.to!=f.ch)return o;var D=S+(C.from==f.ch==(C.level!=1)?0:1);if(D==0||D==y.length)return o;var O;if(c.line!=f.line)O=(c.line-f.line)*(i.doc.direction=="ltr"?1:-1)>0;else{var j=ye(y,c.ch,c.sticky),Q=j-S||(c.ch-f.ch)*(C.level==1?-1:1);j==D-1||j==D?O=Q<0:O=Q>0}var be=y[D+(O?-1:0)],pe=O==(be.level==1),Le=pe?be.from:be.to,Be=pe?"after":"before";return f.ch==Le&&f.sticky==Be?o:new Ut(new Fe(f.line,Le,Be),c)}function Hu(i,o,f,c){var p,y;if(o.touches)p=o.touches[0].clientX,y=o.touches[0].clientY;else try{p=o.clientX,y=o.clientY}catch{return!1}if(p>=Math.floor(i.display.gutters.getBoundingClientRect().right))return!1;c&&yt(o);var S=i.display,C=S.lineDiv.getBoundingClientRect();if(y>C.bottom||!mt(i,f))return Yt(o);y-=C.top-S.viewOffset;for(var D=0;D<i.display.gutterSpecs.length;++D){var O=S.gutters.childNodes[D];if(O&&O.getBoundingClientRect().right>=p){var j=pa(i.doc,y),Q=i.display.gutterSpecs[D];return Xe(i,f,i,j,Q.className,o),Yt(o)}}}function $c(i,o){return Hu(i,o,"gutterClick",!0)}function bh(i,o){xa(i.display,o)||qu(i,o)||We(i,o,"contextmenu")||ae||i.display.input.onContextMenu(o)}function qu(i,o){return mt(i,"gutterContextMenu")?Hu(i,o,"gutterContextMenu",!1):!1}function Th(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),rl(i)}var Bs={toString:function(){return"CodeMirror.Init"}},Sh={},Il={};function wh(i){var o=i.optionHandlers;function f(c,p,y,S){i.defaults[c]=p,y&&(o[c]=S?function(C,D,O){O!=Bs&&y(C,D,O)}:y)}i.defineOption=f,i.Init=Bs,f("value","",function(c,p){return c.setValue(p)},!0),f("mode",null,function(c,p){c.doc.modeOption=p,Mc(c)},!0),f("indentUnit",2,Mc,!0),f("indentWithTabs",!1),f("smartIndent",!0),f("tabSize",4,function(c){gl(c),rl(c),Sn(c)},!0),f("lineSeparator",null,function(c,p){if(c.doc.lineSep=p,!!p){var y=[],S=c.doc.first;c.doc.iter(function(D){for(var O=0;;){var j=D.text.indexOf(p,O);if(j==-1)break;O=j+p.length,y.push(Fe(S,j))}S++});for(var C=y.length-1;C>=0;C--)ss(c.doc,p,y[C],Fe(y[C].line,y[C].ch+p.length))}}),f("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(c,p,y){c.state.specialChars=new RegExp(p.source+(p.test("	")?"":"|	"),"g"),y!=Bs&&c.refresh()}),f("specialCharPlaceholder",mc,function(c){return c.refresh()},!0),f("electricChars",!0),f("inputStyle",oe?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),f("spellcheck",!1,function(c,p){return c.getInputField().spellcheck=p},!0),f("autocorrect",!1,function(c,p){return c.getInputField().autocorrect=p},!0),f("autocapitalize",!1,function(c,p){return c.getInputField().autocapitalize=p},!0),f("rtlMoveVisually",!B),f("wholeLineUpdateBefore",!0),f("theme","default",function(c){Th(c),es(c)},!0),f("keyMap","default",function(c,p,y){var S=Bu(p),C=y!=Bs&&Bu(y);C&&C.detach&&C.detach(c,S),S.attach&&S.attach(c,C||null)}),f("extraKeys",null),f("configureMouse",null),f("lineWrapping",!1,dp,!0),f("gutters",[],function(c,p){c.display.gutterSpecs=Du(p,c.options.lineNumbers),es(c)},!0),f("fixedGutter",!0,function(c,p){c.display.gutters.style.left=p?Dc(c.display)+"px":"0",c.refresh()},!0),f("coverGutterNextToScrollbar",!1,function(c){return yo(c)},!0),f("scrollbarStyle","native",function(c){Vt(c),yo(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),f("lineNumbers",!1,function(c,p){c.display.gutterSpecs=Du(c.options.gutters,p),es(c)},!0),f("firstLineNumber",1,es,!0),f("lineNumberFormatter",function(c){return c},es,!0),f("showCursorWhenSelecting",!1,Jr,!0),f("resetSelectionOnContextMenu",!0),f("lineWiseCopyCut",!0),f("pasteLinesPerSelection",!0),f("selectionsMayTouch",!1),f("readOnly",!1,function(c,p){p=="nocursor"&&(Wa(c),c.display.input.blur()),c.display.input.readOnlyChanged(p)}),f("screenReaderLabel",null,function(c,p){p=p===""?null:p,c.display.input.screenReaderLabelChanged(p)}),f("disableInput",!1,function(c,p){p||c.display.input.reset()},!0),f("dragDrop",!0,hp),f("allowDropFileTypes",null),f("cursorBlinkRate",530),f("cursorScrollMargin",0),f("cursorHeight",1,Jr,!0),f("singleCursorHeightPerLine",!0,Jr,!0),f("workTime",100),f("workDelay",100),f("flattenSpans",!0,gl,!0),f("addModeClass",!1,gl,!0),f("pollInterval",100),f("undoDepth",200,function(c,p){return c.doc.history.undoDepth=p}),f("historyEventDelay",1250),f("viewportMargin",10,function(c){return c.refresh()},!0),f("maxHighlightLength",1e4,gl,!0),f("moveInputWithCursor",!0,function(c,p){p||c.display.input.resetPosition()}),f("tabindex",null,function(c,p){return c.display.input.getField().tabIndex=p||""}),f("autofocus",null),f("direction","ltr",function(c,p){return c.doc.setDirection(p)},!0),f("phrases",null)}function hp(i,o,f){var c=f&&f!=Bs;if(!o!=!c){var p=i.display.dragFunctions,y=o?me:nt;y(i.display.scroller,"dragstart",p.start),y(i.display.scroller,"dragenter",p.enter),y(i.display.scroller,"dragover",p.over),y(i.display.scroller,"dragleave",p.leave),y(i.display.scroller,"drop",p.drop)}}function dp(i){i.options.lineWrapping?(St(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(ie(i.display.wrapper,"CodeMirror-wrap"),oo(i)),Au(i),Sn(i),rl(i),setTimeout(function(){return yo(i)},100)}function on(i,o){var f=this;if(!(this instanceof on))return new on(i,o);this.options=o=o?kt(o):{},kt(Sh,o,!1);var c=o.value;typeof c=="string"?c=new ci(c,o.mode,null,o.lineSeparator,o.direction):o.mode&&(c.modeOption=o.mode),this.doc=c;var p=new on.inputStyles[o.inputStyle](this),y=this.display=new th(i,c,p,o);y.wrapper.CodeMirror=this,Th(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vt(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Kt,keySeq:null,specialChars:null},o.autofocus&&!oe&&y.input.focus(),b&&T<11&&setTimeout(function(){return f.display.input.reset(!0)},20),pp(this),ep(),vi(this),this.curOp.forceUpdate=!0,nh(this,c),o.autofocus&&!oe||this.hasFocus()?setTimeout(function(){f.hasFocus()&&!f.state.focused&&Ic(f)},20):Wa(this);for(var S in Il)Il.hasOwnProperty(S)&&Il[S](this,o[S],Bs);$n(this),o.finishInit&&o.finishInit(this);for(var C=0;C<Zc.length;++C)Zc[C](this);$a(this),x&&o.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}on.defaults=Sh,on.optionHandlers=Il;function pp(i){var o=i.display;me(o.scroller,"mousedown",Xn(i,Xc)),b&&T<11?me(o.scroller,"dblclick",Xn(i,function(D){if(!We(i,D)){var O=Di(i,D);if(!(!O||$c(i,D)||xa(i.display,D))){yt(D);var j=i.findWordAt(O);Ps(i.doc,j.anchor,j.head)}}})):me(o.scroller,"dblclick",function(D){return We(i,D)||yt(D)}),me(o.scroller,"contextmenu",function(D){return bh(i,D)}),me(o.input.getField(),"contextmenu",function(D){o.scroller.contains(D.target)||bh(i,D)});var f,c={end:0};function p(){o.activeTouch&&(f=setTimeout(function(){return o.activeTouch=null},1e3),c=o.activeTouch,c.end=+new Date)}function y(D){if(D.touches.length!=1)return!1;var O=D.touches[0];return O.radiusX<=1&&O.radiusY<=1}function S(D,O){if(O.left==null)return!0;var j=O.left-D.left,Q=O.top-D.top;return j*j+Q*Q>400}me(o.scroller,"touchstart",function(D){if(!We(i,D)&&!y(D)&&!$c(i,D)){o.input.ensurePolled(),clearTimeout(f);var O=+new Date;o.activeTouch={start:O,moved:!1,prev:O-c.end<=300?c:null},D.touches.length==1&&(o.activeTouch.left=D.touches[0].pageX,o.activeTouch.top=D.touches[0].pageY)}}),me(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),me(o.scroller,"touchend",function(D){var O=o.activeTouch;if(O&&!xa(o,D)&&O.left!=null&&!O.moved&&new Date-O.start<300){var j=i.coordsChar(o.activeTouch,"page"),Q;!O.prev||S(O,O.prev)?Q=new Ut(j,j):!O.prev.prev||S(O,O.prev.prev)?Q=i.findWordAt(j):Q=new Ut(Fe(j.line,0),_t(i.doc,Fe(j.line+1,0))),i.setSelection(Q.anchor,Q.head),i.focus(),yt(D)}p()}),me(o.scroller,"touchcancel",p),me(o.scroller,"scroll",function(){o.scroller.clientHeight&&(ar(i,o.scroller.scrollTop),Yi(i,o.scroller.scrollLeft,!0),Xe(i,"scroll",i))}),me(o.scroller,"mousewheel",function(D){return $d(i,D)}),me(o.scroller,"DOMMouseScroll",function(D){return $d(i,D)}),me(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(D){We(i,D)||Bn(D)},over:function(D){We(i,D)||(Hc(i,D),Bn(D))},start:function(D){return us(i,D)},drop:Xn(i,lh),leave:function(D){We(i,D)||qc(i)}};var C=o.input.getField();me(C,"keyup",function(D){return Qc.call(i,D)}),me(C,"keydown",Xn(i,mh)),me(C,"keypress",Xn(i,vh)),me(C,"focus",function(D){return Ic(i,D)}),me(C,"blur",function(D){return Wa(i,D)})}var Zc=[];on.defineInitHook=function(i){return Zc.push(i)};function Nl(i,o,f,c){var p=i.doc,y;f==null&&(f="add"),f=="smart"&&(p.mode.indent?y=Nr(i,o).state:f="prev");var S=i.options.tabSize,C=rt(p,o),D=Tt(C.text,null,S);C.stateAfter&&(C.stateAfter=null);var O=C.text.match(/^\s*/)[0],j;if(!c&&!/\S/.test(C.text))j=0,f="not";else if(f=="smart"&&(j=p.mode.indent(y,C.text.slice(O.length),C.text),j==un||j>150)){if(!c)return;f="prev"}f=="prev"?o>p.first?j=Tt(rt(p,o-1).text,null,S):j=0:f=="add"?j=D+i.options.indentUnit:f=="subtract"?j=D-i.options.indentUnit:typeof f=="number"&&(j=D+f),j=Math.max(0,j);var Q="",be=0;if(i.options.indentWithTabs)for(var pe=Math.floor(j/S);pe;--pe)be+=S,Q+="	";if(be<j&&(Q+=tn(j-be)),Q!=O)return ss(p,Q,Fe(o,0),Fe(o,O.length),"+input"),C.stateAfter=null,!0;for(var Le=0;Le<p.sel.ranges.length;Le++){var Be=p.sel.ranges[Le];if(Be.head.line==o&&Be.head.ch<O.length){var Ye=Fe(o,O.length);Fc(p,Le,new Ut(Ye,Ye));break}}}var cr=null;function ju(i){cr=i}function Gu(i,o,f,c,p){var y=i.doc;i.display.shift=!1,c||(c=y.sel);var S=+new Date-200,C=p=="paste"||i.state.pasteIncoming>S,D=Vi(o),O=null;if(C&&c.ranges.length>1)if(cr&&cr.text.join(`
`)==o){if(c.ranges.length%cr.text.length==0){O=[];for(var j=0;j<cr.text.length;j++)O.push(y.splitLines(cr.text[j]))}}else D.length==c.ranges.length&&i.options.pasteLinesPerSelection&&(O=mn(D,function(Ze){return[Ze]}));for(var Q=i.curOp.updateInput,be=c.ranges.length-1;be>=0;be--){var pe=c.ranges[be],Le=pe.from(),Be=pe.to();pe.empty()&&(f&&f>0?Le=Fe(Le.line,Le.ch-f):i.state.overwrite&&!C?Be=Fe(Be.line,Math.min(rt(y,Be.line).text.length,Be.ch+et(D).length)):C&&cr&&cr.lineWise&&cr.text.join(`
`)==D.join(`
`)&&(Le=Be=Fe(Le.line,0)));var Ye={from:Le,to:Be,text:O?O[be%O.length]:D,origin:p||(C?"paste":i.state.cutIncoming>S?"cut":"+input")};An(i.doc,Ye),Ke(i,"inputRead",i,Ye)}o&&!C&&Ch(i,o),Ka(i),i.curOp.updateInput<2&&(i.curOp.updateInput=Q),i.curOp.typing=!0,i.state.pasteIncoming=i.state.cutIncoming=-1}function Ah(i,o){var f=i.clipboardData&&i.clipboardData.getData("Text");if(f)return i.preventDefault(),!o.isReadOnly()&&!o.options.disableInput&&o.hasFocus()&&yi(o,function(){return Gu(o,f,0,null,"paste")}),!0}function Ch(i,o){if(!(!i.options.electricChars||!i.options.smartIndent))for(var f=i.doc.sel,c=f.ranges.length-1;c>=0;c--){var p=f.ranges[c];if(!(p.head.ch>100||c&&f.ranges[c-1].head.line==p.head.line)){var y=i.getModeAt(p.head),S=!1;if(y.electricChars){for(var C=0;C<y.electricChars.length;C++)if(o.indexOf(y.electricChars.charAt(C))>-1){S=Nl(i,p.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(rt(i.doc,p.head.line).text.slice(0,p.head.ch))&&(S=Nl(i,p.head.line,"smart"));S&&Ke(i,"electricInput",i,p.head.line)}}}function gp(i){for(var o=[],f=[],c=0;c<i.doc.sel.ranges.length;c++){var p=i.doc.sel.ranges[c].head.line,y={anchor:Fe(p,0),head:Fe(p+1,0)};f.push(y),o.push(i.getRange(y.anchor,y.head))}return{text:o,ranges:f}}function Wu(i,o,f,c){i.setAttribute("autocorrect",f?"on":"off"),i.setAttribute("autocapitalize",c?"on":"off"),i.setAttribute("spellcheck",!!o)}function Jn(){var i=ce("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),o=ce("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return x?i.style.width="1000px":i.setAttribute("wrap","off"),X&&(i.style.border="1px solid black"),o}function xi(i){var o=i.optionHandlers,f=i.helpers={};i.prototype={constructor:i,focus:function(){$e(this).focus(),this.display.input.focus()},setOption:function(c,p){var y=this.options,S=y[c];y[c]==p&&c!="mode"||(y[c]=p,o.hasOwnProperty(c)&&Xn(this,o[c])(this,p,S),Xe(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,p){this.state.keyMaps[p?"push":"unshift"](Bu(c))},removeKeyMap:function(c){for(var p=this.state.keyMaps,y=0;y<p.length;++y)if(p[y]==c||p[y].name==c)return p.splice(y,1),!0},addOverlay:Gn(function(c,p){var y=c.token?c:i.getMode(this.options,c);if(y.startState)throw new Error("Overlays may not be stateful.");er(this.state.overlays,{mode:y,modeSpec:c,opaque:p&&p.opaque,priority:p&&p.priority||0},function(S){return S.priority}),this.state.modeGen++,Sn(this)}),removeOverlay:Gn(function(c){for(var p=this.state.overlays,y=0;y<p.length;++y){var S=p[y].modeSpec;if(S==c||typeof c=="string"&&S.name==c){p.splice(y,1),this.state.modeGen++,Sn(this);return}}}),indentLine:Gn(function(c,p,y){typeof p!="string"&&typeof p!="number"&&(p==null?p=this.options.smartIndent?"smart":"prev":p=p?"add":"subtract"),ga(this.doc,c)&&Nl(this,c,p,y)}),indentSelection:Gn(function(c){for(var p=this.doc.sel.ranges,y=-1,S=0;S<p.length;S++){var C=p[S];if(C.empty())C.head.line>y&&(Nl(this,C.head.line,c,!0),y=C.head.line,S==this.doc.sel.primIndex&&Ka(this));else{var D=C.from(),O=C.to(),j=Math.max(y,D.line);y=Math.min(this.lastLine(),O.line-(O.ch?0:1))+1;for(var Q=j;Q<y;++Q)Nl(this,Q,c);var be=this.doc.sel.ranges;D.ch==0&&p.length==be.length&&be[S].from().ch>0&&Fc(this.doc,S,new Ut(D,be[S].to()),sn)}}}),getTokenAt:function(c,p){return ao(this,c,p)},getLineTokens:function(c,p){return ao(this,Fe(c),p,!0)},getTokenTypeAt:function(c){c=_t(this.doc,c);var p=gu(this,rt(this.doc,c.line)),y=0,S=(p.length-1)/2,C=c.ch,D;if(C==0)D=p[2];else for(;;){var O=y+S>>1;if((O?p[O*2-1]:0)>=C)S=O;else if(p[O*2+1]<C)y=O+1;else{D=p[O*2+2];break}}var j=D?D.indexOf("overlay "):-1;return j<0?D:j==0?null:D.slice(0,j-1)},getModeAt:function(c){var p=this.doc.mode;return p.innerMode?i.innerMode(p,this.getTokenAt(c).state).mode:p},getHelper:function(c,p){return this.getHelpers(c,p)[0]},getHelpers:function(c,p){var y=[];if(!f.hasOwnProperty(p))return y;var S=f[p],C=this.getModeAt(c);if(typeof C[p]=="string")S[C[p]]&&y.push(S[C[p]]);else if(C[p])for(var D=0;D<C[p].length;D++){var O=S[C[p][D]];O&&y.push(O)}else C.helperType&&S[C.helperType]?y.push(S[C.helperType]):S[C.name]&&y.push(S[C.name]);for(var j=0;j<S._global.length;j++){var Q=S._global[j];Q.pred(C,this)&&xt(y,Q.val)==-1&&y.push(Q.val)}return y},getStateAfter:function(c,p){var y=this.doc;return c=Qr(y,c??y.first+y.size-1),Nr(this,c+1,p).state},cursorCoords:function(c,p){var y,S=this.doc.sel.primary();return c==null?y=S.head:typeof c=="object"?y=_t(this.doc,c):y=c?S.from():S.to(),Gi(this,y,p||"page")},charCoords:function(c,p){return al(this,_t(this.doc,c),p||"page")},coordsChar:function(c,p){return c=ho(this,c,p||"page"),ja(this,c.left,c.top)},lineAtHeight:function(c,p){return c=ho(this,{top:c,left:0},p||"page").top,pa(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,p,y){var S=!1,C;if(typeof c=="number"){var D=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>D&&(c=D,S=!0),C=rt(this.doc,c)}else C=c;return Tc(this,C,{top:0,left:0},p||"page",y||S).top+(S?this.doc.height-Mr(C):0)},defaultTextHeight:function(){return sl(this.display)},defaultCharWidth:function(){return ol(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,p,y,S,C){var D=this.display;c=Gi(this,_t(this.doc,c));var O=c.bottom,j=c.left;if(p.style.position="absolute",p.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(p),D.sizer.appendChild(p),S=="over")O=c.top;else if(S=="above"||S=="near"){var Q=Math.max(D.wrapper.clientHeight,this.doc.height),be=Math.max(D.sizer.clientWidth,D.lineSpace.clientWidth);(S=="above"||c.bottom+p.offsetHeight>Q)&&c.top>p.offsetHeight?O=c.top-p.offsetHeight:c.bottom+p.offsetHeight<=Q&&(O=c.bottom),j+p.offsetWidth>be&&(j=be-p.offsetWidth)}p.style.top=O+"px",p.style.left=p.style.right="",C=="right"?(j=D.sizer.clientWidth-p.offsetWidth,p.style.right="0px"):(C=="left"?j=0:C=="middle"&&(j=(D.sizer.clientWidth-p.offsetWidth)/2),p.style.left=j+"px"),y&&Fr(this,{left:j,top:O,right:j+p.offsetWidth,bottom:O+p.offsetHeight})},triggerOnKeyDown:Gn(mh),triggerOnKeyPress:Gn(vh),triggerOnKeyUp:Qc,triggerOnMouseDown:Gn(Xc),execCommand:function(c){if(Dl.hasOwnProperty(c))return Dl[c].call(null,this)},triggerElectric:Gn(function(c){Ch(this,c)}),findPosH:function(c,p,y,S){var C=1;p<0&&(C=-1,p=-p);for(var D=_t(this.doc,c),O=0;O<p&&(D=Jc(this.doc,D,C,y,S),!D.hitSide);++O);return D},moveH:Gn(function(c,p){var y=this;this.extendSelectionsBy(function(S){return y.display.shift||y.doc.extend||S.empty()?Jc(y.doc,S.head,c,p,y.options.rtlMoveVisually):c<0?S.from():S.to()},Fn)}),deleteH:Gn(function(c,p){var y=this.doc.sel,S=this.doc;y.somethingSelected()?S.replaceSelection("",null,"+delete"):Do(this,function(C){var D=Jc(S,C.head,c,p,!1);return c<0?{from:D,to:C.head}:{from:C.head,to:D}})}),findPosV:function(c,p,y,S){var C=1,D=S;p<0&&(C=-1,p=-p);for(var O=_t(this.doc,c),j=0;j<p;++j){var Q=Gi(this,O,"div");if(D==null?D=Q.left:Q.left=D,O=Dh(this,Q,C,y),O.hitSide)break}return O},moveV:Gn(function(c,p){var y=this,S=this.doc,C=[],D=!this.display.shift&&!S.extend&&S.sel.somethingSelected();if(S.extendSelectionsBy(function(j){if(D)return c<0?j.from():j.to();var Q=Gi(y,j.head,"div");j.goalColumn!=null&&(Q.left=j.goalColumn),C.push(Q.left);var be=Dh(y,Q,c,p);return p=="page"&&j==S.sel.primary()&&Ds(y,al(y,be,"div").top-Q.top),be},Fn),C.length)for(var O=0;O<S.sel.ranges.length;O++)S.sel.ranges[O].goalColumn=C[O]}),findWordAt:function(c){var p=this.doc,y=rt(p,c.line).text,S=c.ch,C=c.ch;if(y){var D=this.getHelper(c,"wordChars");(c.sticky=="before"||C==y.length)&&S?--S:++C;for(var O=y.charAt(S),j=P(O,D)?function(Q){return P(Q,D)}:/\s/.test(O)?function(Q){return/\s/.test(Q)}:function(Q){return!/\s/.test(Q)&&!P(Q)};S>0&&j(y.charAt(S-1));)--S;for(;C<y.length&&j(y.charAt(C));)++C}return new Ut(Fe(c.line,S),Fe(c.line,C))},toggleOverwrite:function(c){c!=null&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?St(this.display.cursorDiv,"CodeMirror-overwrite"):ie(this.display.cursorDiv,"CodeMirror-overwrite"),Xe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ot(ge(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gn(function(c,p){Ya(this,c,p)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-Ra(this)-this.display.barHeight,width:c.scrollWidth-Ra(this)-this.display.barWidth,clientHeight:_c(this),clientWidth:ka(this)}},scrollIntoView:Gn(function(c,p){c==null?(c={from:this.doc.sel.primary().head,to:null},p==null&&(p=this.options.cursorScrollMargin)):typeof c=="number"?c={from:Fe(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=p||0,c.from.line!=null?Br(this,c):Qa(this,c.from,c.to,c.margin)}),setSize:Gn(function(c,p){var y=this,S=function(D){return typeof D=="number"||/^\d+$/.test(String(D))?D+"px":D};c!=null&&(this.display.wrapper.style.width=S(c)),p!=null&&(this.display.wrapper.style.height=S(p)),this.options.lineWrapping&&jf(this);var C=this.display.viewFrom;this.doc.iter(C,this.display.viewTo,function(D){if(D.widgets){for(var O=0;O<D.widgets.length;O++)if(D.widgets[O].noHScroll){Ar(y,C,"widget");break}}++C}),this.curOp.forceUpdate=!0,Xe(this,"refresh",this)}),operation:function(c){return yi(this,c)},startOperation:function(){return vi(this)},endOperation:function(){return $a(this)},refresh:Gn(function(){var c=this.display.cachedTextHeight;Sn(this),this.curOp.forceUpdate=!0,rl(this),Ya(this,this.doc.scrollLeft,this.doc.scrollTop),Jf(this.display),(c==null||Math.abs(c-sl(this.display))>.5||this.options.lineWrapping)&&Au(this),Xe(this,"refresh",this)}),swapDoc:Gn(function(c){var p=this.doc;return p.cm=null,this.state.selectingText&&this.state.selectingText(),nh(this,c),rl(this),this.display.input.reset(),Ya(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,Ke(this,"swapDoc",this,p),p}),phrase:function(c){var p=this.options.phrases;return p&&Object.prototype.hasOwnProperty.call(p,c)?p[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},At(i),i.registerHelper=function(c,p,y){f.hasOwnProperty(c)||(f[c]=i[c]={_global:[]}),f[c][p]=y},i.registerGlobalHelper=function(c,p,y,S){i.registerHelper(c,p,S),f[c]._global.push({pred:y,val:S})}}function Jc(i,o,f,c,p){var y=o,S=f,C=rt(i,o.line),D=p&&i.direction=="rtl"?-f:f;function O(){var tt=o.line+D;return tt<i.first||tt>=i.first+i.size?!1:(o=new Fe(tt,o.ch,o.sticky),C=rt(i,tt))}function j(tt){var qe;if(c=="codepoint"){var it=C.text.charCodeAt(o.ch+(f>0?0:-1));if(isNaN(it))qe=null;else{var vt=f>0?it>=55296&&it<56320:it>=56320&&it<57343;qe=new Fe(o.line,Math.max(0,Math.min(C.text.length,o.ch+f*(vt?2:1))),-f)}}else p?qe=Cl(i.cm,C,o,f):qe=hh(C,o,f);if(qe==null)if(!tt&&O())o=Kc(p,i.cm,C,o.line,D);else return!1;else o=qe;return!0}if(c=="char"||c=="codepoint")j();else if(c=="column")j(!0);else if(c=="word"||c=="group")for(var Q=null,be=c=="group",pe=i.cm&&i.cm.getHelper(o,"wordChars"),Le=!0;!(f<0&&!j(!Le));Le=!1){var Be=C.text.charAt(o.ch)||`
`,Ye=P(Be,pe)?"w":be&&Be==`
`?"n":!be||/\s/.test(Be)?null:"p";if(be&&!Le&&!Ye&&(Ye="s"),Q&&Q!=Ye){f<0&&(f=1,j(),o.sticky="after");break}if(Ye&&(Q=Ye),f>0&&!j(!Le))break}var Ze=bl(i,o,y,S,!0);return ma(y,Ze)&&(Ze.hitSide=!0),Ze}function Dh(i,o,f,c){var p=i.doc,y=o.left,S;if(c=="page"){var C=Math.min(i.display.wrapper.clientHeight,$e(i).innerHeight||p(i).documentElement.clientHeight),D=Math.max(C-.5*sl(i.display),3);S=(f>0?o.bottom:o.top)+f*D}else c=="line"&&(S=f>0?o.bottom+3:o.top-3);for(var O;O=ja(i,y,S),!!O.outside;){if(f<0?S<=0:S>=p.height){O.hitSide=!0;break}S+=f*5}return O}var ln=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Kt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ln.prototype.init=function(i){var o=this,f=this,c=f.cm,p=f.div=i.lineDiv;p.contentEditable=!0,Wu(p,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize);function y(C){for(var D=C.target;D;D=D.parentNode){if(D==p)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(D.className))break}return!1}me(p,"paste",function(C){!y(C)||We(c,C)||Ah(C,c)||T<=11&&setTimeout(Xn(c,function(){return o.updateFromDOM()}),20)}),me(p,"compositionstart",function(C){o.composing={data:C.data,done:!1}}),me(p,"compositionupdate",function(C){o.composing||(o.composing={data:C.data,done:!1})}),me(p,"compositionend",function(C){o.composing&&(C.data!=o.composing.data&&o.readFromDOMSoon(),o.composing.done=!0)}),me(p,"touchstart",function(){return f.forceCompositionEnd()}),me(p,"input",function(){o.composing||o.readFromDOMSoon()});function S(C){if(!(!y(C)||We(c,C))){if(c.somethingSelected())ju({lineWise:!1,text:c.getSelections()}),C.type=="cut"&&c.replaceSelection("",null,"cut");else if(c.options.lineWiseCopyCut){var D=gp(c);ju({lineWise:!0,text:D.text}),C.type=="cut"&&c.operation(function(){c.setSelections(D.ranges,0,sn),c.replaceSelection("",null,"cut")})}else return;if(C.clipboardData){C.clipboardData.clearData();var O=cr.text.join(`
`);if(C.clipboardData.setData("Text",O),C.clipboardData.getData("Text")==O){C.preventDefault();return}}var j=Jn(),Q=j.firstChild;Wu(Q),c.display.lineSpace.insertBefore(j,c.display.lineSpace.firstChild),Q.value=cr.text.join(`
`);var be=ot(Je(p));z(Q),setTimeout(function(){c.display.lineSpace.removeChild(j),be.focus(),be==p&&f.showPrimarySelection()},50)}}me(p,"copy",S),me(p,"cut",S)},ln.prototype.screenReaderLabelChanged=function(i){i?this.div.setAttribute("aria-label",i):this.div.removeAttribute("aria-label")},ln.prototype.prepareSelection=function(){var i=Qf(this.cm,!1);return i.focus=ot(Je(this.div))==this.div,i},ln.prototype.showSelection=function(i,o){!i||!this.cm.display.view.length||((i.focus||o)&&this.showPrimarySelection(),this.showMultipleSelections(i))},ln.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ln.prototype.showPrimarySelection=function(){var i=this.getSelection(),o=this.cm,f=o.doc.sel.primary(),c=f.from(),p=f.to();if(o.display.viewTo==o.display.viewFrom||c.line>=o.display.viewTo||p.line<o.display.viewFrom){i.removeAllRanges();return}var y=Yu(o,i.anchorNode,i.anchorOffset),S=Yu(o,i.focusNode,i.focusOffset);if(!(y&&!y.bad&&S&&!S.bad&&ct(va(y,S),c)==0&&ct(nn(y,S),p)==0)){var C=o.display.view,D=c.line>=o.display.viewFrom&&xh(o,c)||{node:C[0].measure.map[2],offset:0},O=p.line<o.display.viewTo&&xh(o,p);if(!O){var j=C[C.length-1].measure,Q=j.maps?j.maps[j.maps.length-1]:j.map;O={node:Q[Q.length-1],offset:Q[Q.length-2]-Q[Q.length-3]}}if(!D||!O){i.removeAllRanges();return}var be=i.rangeCount&&i.getRangeAt(0),pe;try{pe=we(D.node,D.offset,O.offset,O.node)}catch{}pe&&(!u&&o.state.focused?(i.collapse(D.node,D.offset),pe.collapsed||(i.removeAllRanges(),i.addRange(pe))):(i.removeAllRanges(),i.addRange(pe)),be&&i.anchorNode==null?i.addRange(be):u&&this.startGracePeriod()),this.rememberSelection()}},ln.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},ln.prototype.showMultipleSelections=function(i){st(this.cm.display.cursorDiv,i.cursors),st(this.cm.display.selectionDiv,i.selection)},ln.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},ln.prototype.selectionInEditor=function(){var i=this.getSelection();if(!i.rangeCount)return!1;var o=i.getRangeAt(0).commonAncestorContainer;return Ve(this.div,o)},ln.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ot(Je(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ln.prototype.blur=function(){this.div.blur()},ln.prototype.getField=function(){return this.div},ln.prototype.supportsTouch=function(){return!0},ln.prototype.receivedFocus=function(){var i=this,o=this;this.selectionInEditor()?setTimeout(function(){return i.pollSelection()},20):yi(this.cm,function(){return o.cm.curOp.selectionChanged=!0});function f(){o.cm.state.focused&&(o.pollSelection(),o.polling.set(o.cm.options.pollInterval,f))}this.polling.set(this.cm.options.pollInterval,f)},ln.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},ln.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var i=this.getSelection(),o=this.cm;if(ne&&F&&this.cm.display.gutterSpecs.length&&Ku(i.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var f=Yu(o,i.anchorNode,i.anchorOffset),c=Yu(o,i.focusNode,i.focusOffset);f&&c&&yi(o,function(){Ei(o.doc,na(f,c),sn),(f.bad||c.bad)&&(o.curOp.selectionChanged=!0)})}}},ln.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var i=this.cm,o=i.display,f=i.doc.sel.primary(),c=f.from(),p=f.to();if(c.ch==0&&c.line>i.firstLine()&&(c=Fe(c.line-1,rt(i.doc,c.line-1).length)),p.ch==rt(i.doc,p.line).text.length&&p.line<i.lastLine()&&(p=Fe(p.line+1,0)),c.line<o.viewFrom||p.line>o.viewTo-1)return!1;var y,S,C;c.line==o.viewFrom||(y=Na(i,c.line))==0?(S=Qt(o.view[0].line),C=o.view[0].node):(S=Qt(o.view[y].line),C=o.view[y-1].node.nextSibling);var D=Na(i,p.line),O,j;if(D==o.view.length-1?(O=o.viewTo-1,j=o.lineDiv.lastChild):(O=Qt(o.view[D+1].line)-1,j=o.view[D+1].node.previousSibling),!C)return!1;for(var Q=i.doc.splitLines(ef(i,C,j,S,O)),be=Mi(i.doc,Fe(S,0),Fe(O,rt(i.doc,O).text.length));Q.length>1&&be.length>1;)if(et(Q)==et(be))Q.pop(),be.pop(),O--;else if(Q[0]==be[0])Q.shift(),be.shift(),S++;else break;for(var pe=0,Le=0,Be=Q[0],Ye=be[0],Ze=Math.min(Be.length,Ye.length);pe<Ze&&Be.charCodeAt(pe)==Ye.charCodeAt(pe);)++pe;for(var tt=et(Q),qe=et(be),it=Math.min(tt.length-(Q.length==1?pe:0),qe.length-(be.length==1?pe:0));Le<it&&tt.charCodeAt(tt.length-Le-1)==qe.charCodeAt(qe.length-Le-1);)++Le;if(Q.length==1&&be.length==1&&S==c.line)for(;pe&&pe>c.ch&&tt.charCodeAt(tt.length-Le-1)==qe.charCodeAt(qe.length-Le-1);)pe--,Le++;Q[Q.length-1]=tt.slice(0,tt.length-Le).replace(/^\u200b+/,""),Q[0]=Q[0].slice(pe).replace(/\u200b+$/,"");var vt=Fe(S,pe),ht=Fe(O,be.length?et(be).length-Le:0);if(Q.length>1||Q[0]||ct(vt,ht))return ss(i.doc,Q,vt,ht,"+input"),!0},ln.prototype.ensurePolled=function(){this.forceCompositionEnd()},ln.prototype.reset=function(){this.forceCompositionEnd()},ln.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ln.prototype.readFromDOMSoon=function(){var i=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing)if(i.composing.done)i.composing=null;else return;i.updateFromDOM()},80))},ln.prototype.updateFromDOM=function(){var i=this;(this.cm.isReadOnly()||!this.pollContent())&&yi(this.cm,function(){return Sn(i.cm)})},ln.prototype.setUneditable=function(i){i.contentEditable="false"},ln.prototype.onKeyPress=function(i){i.charCode==0||this.composing||(i.preventDefault(),this.cm.isReadOnly()||Xn(this.cm,Gu)(this.cm,String.fromCharCode(i.charCode==null?i.keyCode:i.charCode),0))},ln.prototype.readOnlyChanged=function(i){this.div.contentEditable=String(i!="nocursor")},ln.prototype.onContextMenu=function(){},ln.prototype.resetPosition=function(){},ln.prototype.needsContentAttribute=!0;function xh(i,o){var f=bc(i,o.line);if(!f||f.hidden)return null;var c=rt(i.doc,o.line),p=Ec(f,c,o.line),y=J(c,i.doc.direction),S="left";if(y){var C=ye(y,o.ch);S=C%2?"right":"left"}var D=zd(p.map,o.ch,S);return D.offset=D.collapse=="right"?D.end:D.start,D}function Ku(i){for(var o=i;o;o=o.parentNode)if(/CodeMirror-gutter-wrapper/.test(o.className))return!0;return!1}function Ro(i,o){return o&&(i.bad=!0),i}function ef(i,o,f,c,p){var y="",S=!1,C=i.doc.lineSeparator(),D=!1;function O(pe){return function(Le){return Le.id==pe}}function j(){S&&(y+=C,D&&(y+=C),S=D=!1)}function Q(pe){pe&&(j(),y+=pe)}function be(pe){if(pe.nodeType==1){var Le=pe.getAttribute("cm-text");if(Le){Q(Le);return}var Be=pe.getAttribute("cm-marker"),Ye;if(Be){var Ze=i.findMarks(Fe(c,0),Fe(p+1,0),O(+Be));Ze.length&&(Ye=Ze[0].find(0))&&Q(Mi(i.doc,Ye.from,Ye.to).join(C));return}if(pe.getAttribute("contenteditable")=="false")return;var tt=/^(pre|div|p|li|table|br)$/i.test(pe.nodeName);if(!/^br$/i.test(pe.nodeName)&&pe.textContent.length==0)return;tt&&j();for(var qe=0;qe<pe.childNodes.length;qe++)be(pe.childNodes[qe]);/^(pre|p)$/i.test(pe.nodeName)&&(D=!0),tt&&(S=!0)}else pe.nodeType==3&&Q(pe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;be(o),o!=f;)o=o.nextSibling,D=!1;return y}function Yu(i,o,f){var c;if(o==i.display.lineDiv){if(c=i.display.lineDiv.childNodes[f],!c)return Ro(i.clipPos(Fe(i.display.viewTo-1)),!0);o=null,f=0}else for(c=o;;c=c.parentNode){if(!c||c==i.display.lineDiv)return null;if(c.parentNode&&c.parentNode==i.display.lineDiv)break}for(var p=0;p<i.display.view.length;p++){var y=i.display.view[p];if(y.node==c)return gm(y,o,f)}}function gm(i,o,f){var c=i.text.firstChild,p=!1;if(!o||!Ve(c,o))return Ro(Fe(Qt(i.line),0),!0);if(o==c&&(p=!0,o=c.childNodes[f],f=0,!o)){var y=i.rest?et(i.rest):i.line;return Ro(Fe(Qt(y),y.text.length),p)}var S=o.nodeType==3?o:null,C=o;for(!S&&o.childNodes.length==1&&o.firstChild.nodeType==3&&(S=o.firstChild,f&&(f=S.nodeValue.length));C.parentNode!=c;)C=C.parentNode;var D=i.measure,O=D.maps;function j(Ye,Ze,tt){for(var qe=-1;qe<(O?O.length:0);qe++)for(var it=qe<0?D.map:O[qe],vt=0;vt<it.length;vt+=3){var ht=it[vt+2];if(ht==Ye||ht==Ze){var Rt=Qt(qe<0?i.line:i.rest[qe]),jt=it[vt]+tt;return(tt<0||ht!=Ye)&&(jt=it[vt+(tt?1:0)]),Fe(Rt,jt)}}}var Q=j(S,C,f);if(Q)return Ro(Q,p);for(var be=C.nextSibling,pe=S?S.nodeValue.length-f:0;be;be=be.nextSibling){if(Q=j(be,be.firstChild,0),Q)return Ro(Fe(Q.line,Q.ch-pe),p);pe+=be.textContent.length}for(var Le=C.previousSibling,Be=f;Le;Le=Le.previousSibling){if(Q=j(Le,Le.firstChild,-1),Q)return Ro(Fe(Q.line,Q.ch+Be),p);Be+=Le.textContent.length}}var In=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new Kt,this.hasSelection=!1,this.composing=null,this.resetting=!1};In.prototype.init=function(i){var o=this,f=this,c=this.cm;this.createField(i);var p=this.textarea;i.wrapper.insertBefore(this.wrapper,i.wrapper.firstChild),X&&(p.style.width="0px"),me(p,"input",function(){b&&T>=9&&o.hasSelection&&(o.hasSelection=null),f.poll()}),me(p,"paste",function(S){We(c,S)||Ah(S,c)||(c.state.pasteIncoming=+new Date,f.fastPoll())});function y(S){if(!We(c,S)){if(c.somethingSelected())ju({lineWise:!1,text:c.getSelections()});else if(c.options.lineWiseCopyCut){var C=gp(c);ju({lineWise:!0,text:C.text}),S.type=="cut"?c.setSelections(C.ranges,null,sn):(f.prevInput="",p.value=C.text.join(`
`),z(p))}else return;S.type=="cut"&&(c.state.cutIncoming=+new Date)}}me(p,"cut",y),me(p,"copy",y),me(i.scroller,"paste",function(S){if(!(xa(i,S)||We(c,S))){if(!p.dispatchEvent){c.state.pasteIncoming=+new Date,f.focus();return}var C=new Event("paste");C.clipboardData=S.clipboardData,p.dispatchEvent(C)}}),me(i.lineSpace,"selectstart",function(S){xa(i,S)||yt(S)}),me(p,"compositionstart",function(){var S=c.getCursor("from");f.composing&&f.composing.range.clear(),f.composing={start:S,range:c.markText(S,c.getCursor("to"),{className:"CodeMirror-composing"})}}),me(p,"compositionend",function(){f.composing&&(f.poll(),f.composing.range.clear(),f.composing=null)})},In.prototype.createField=function(i){this.wrapper=Jn(),this.textarea=this.wrapper.firstChild;var o=this.cm.options;Wu(this.textarea,o.spellcheck,o.autocorrect,o.autocapitalize)},In.prototype.screenReaderLabelChanged=function(i){i?this.textarea.setAttribute("aria-label",i):this.textarea.removeAttribute("aria-label")},In.prototype.prepareSelection=function(){var i=this.cm,o=i.display,f=i.doc,c=Qf(i);if(i.options.moveInputWithCursor){var p=Gi(i,f.sel.primary().head,"div"),y=o.wrapper.getBoundingClientRect(),S=o.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(o.wrapper.clientHeight-10,p.top+S.top-y.top)),c.teLeft=Math.max(0,Math.min(o.wrapper.clientWidth-10,p.left+S.left-y.left))}return c},In.prototype.showSelection=function(i){var o=this.cm,f=o.display;st(f.cursorDiv,i.cursors),st(f.selectionDiv,i.selection),i.teTop!=null&&(this.wrapper.style.top=i.teTop+"px",this.wrapper.style.left=i.teLeft+"px")},In.prototype.reset=function(i){if(!(this.contextMenuPending||this.composing&&i)){var o=this.cm;if(this.resetting=!0,o.somethingSelected()){this.prevInput="";var f=o.getSelection();this.textarea.value=f,o.state.focused&&z(this.textarea),b&&T>=9&&(this.hasSelection=f)}else i||(this.prevInput=this.textarea.value="",b&&T>=9&&(this.hasSelection=null));this.resetting=!1}},In.prototype.getField=function(){return this.textarea},In.prototype.supportsTouch=function(){return!1},In.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!oe||ot(Je(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},In.prototype.blur=function(){this.textarea.blur()},In.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},In.prototype.receivedFocus=function(){this.slowPoll()},In.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},In.prototype.fastPoll=function(){var i=!1,o=this;o.pollingFast=!0;function f(){var c=o.poll();!c&&!i?(i=!0,o.polling.set(60,f)):(o.pollingFast=!1,o.slowPoll())}o.polling.set(20,f)},In.prototype.poll=function(){var i=this,o=this.cm,f=this.textarea,c=this.prevInput;if(this.contextMenuPending||this.resetting||!o.state.focused||Hn(f)&&!c&&!this.composing||o.isReadOnly()||o.options.disableInput||o.state.keySeq)return!1;var p=f.value;if(p==c&&!o.somethingSelected())return!1;if(b&&T>=9&&this.hasSelection===p||he&&/[\uf700-\uf7ff]/.test(p))return o.display.input.reset(),!1;if(o.doc.sel==o.display.selForContextMenu){var y=p.charCodeAt(0);if(y==8203&&!c&&(c=""),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var S=0,C=Math.min(c.length,p.length);S<C&&c.charCodeAt(S)==p.charCodeAt(S);)++S;return yi(o,function(){Gu(o,p.slice(S),c.length-S,null,i.composing?"*compose":null),p.length>1e3||p.indexOf(`
`)>-1?f.value=i.prevInput="":i.prevInput=p,i.composing&&(i.composing.range.clear(),i.composing.range=o.markText(i.composing.start,o.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},In.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},In.prototype.onKeyPress=function(){b&&T>=9&&(this.hasSelection=null),this.fastPoll()},In.prototype.onContextMenu=function(i){var o=this,f=o.cm,c=f.display,p=o.textarea;o.contextMenuPending&&o.contextMenuPending();var y=Di(f,i),S=c.scroller.scrollTop;if(!y||Z)return;var C=f.options.resetSelectionOnContextMenu;C&&f.doc.sel.contains(y)==-1&&Xn(f,Ei)(f.doc,na(y),sn);var D=p.style.cssText,O=o.wrapper.style.cssText,j=o.wrapper.offsetParent.getBoundingClientRect();o.wrapper.style.cssText="position: static",p.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(i.clientY-j.top-5)+"px; left: "+(i.clientX-j.left-5)+`px;
      z-index: 1000; background: `+(b?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Q;x&&(Q=p.ownerDocument.defaultView.scrollY),c.input.focus(),x&&p.ownerDocument.defaultView.scrollTo(null,Q),c.input.reset(),f.somethingSelected()||(p.value=o.prevInput=" "),o.contextMenuPending=pe,c.selForContextMenu=f.doc.sel,clearTimeout(c.detectingSelectAll);function be(){if(p.selectionStart!=null){var Be=f.somethingSelected(),Ye=""+(Be?p.value:"");p.value="",p.value=Ye,o.prevInput=Be?"":"",p.selectionStart=1,p.selectionEnd=Ye.length,c.selForContextMenu=f.doc.sel}}function pe(){if(o.contextMenuPending==pe&&(o.contextMenuPending=!1,o.wrapper.style.cssText=O,p.style.cssText=D,b&&T<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=S),p.selectionStart!=null)){(!b||b&&T<9)&&be();var Be=0,Ye=function(){c.selForContextMenu==f.doc.sel&&p.selectionStart==0&&p.selectionEnd>0&&o.prevInput==""?Xn(f,as)(f):Be++<10?c.detectingSelectAll=setTimeout(Ye,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(Ye,200)}}if(b&&T>=9&&be(),ae){Bn(i);var Le=function(){nt(window,"mouseup",Le),setTimeout(pe,20)};me(window,"mouseup",Le)}else setTimeout(pe,50)},In.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled=i=="nocursor",this.textarea.readOnly=!!i},In.prototype.setUneditable=function(){},In.prototype.needsContentAttribute=!1;function Rh(i,o){if(o=o?kt(o):{},o.value=i.value,!o.tabindex&&i.tabIndex&&(o.tabindex=i.tabIndex),!o.placeholder&&i.placeholder&&(o.placeholder=i.placeholder),o.autofocus==null){var f=ot(Je(i));o.autofocus=f==i||i.getAttribute("autofocus")!=null&&f==document.body}function c(){i.value=C.getValue()}var p;if(i.form&&(me(i.form,"submit",c),!o.leaveSubmitMethodAlone)){var y=i.form;p=y.submit;try{var S=y.submit=function(){c(),y.submit=p,y.submit(),y.submit=S}}catch{}}o.finishInit=function(D){D.save=c,D.getTextArea=function(){return i},D.toTextArea=function(){D.toTextArea=isNaN,c(),i.parentNode.removeChild(D.getWrapperElement()),i.style.display="",i.form&&(nt(i.form,"submit",c),!o.leaveSubmitMethodAlone&&typeof i.form.submit=="function"&&(i.form.submit=p))}},i.style.display="none";var C=on(function(D){return i.parentNode.insertBefore(D,i.nextSibling)},o);return C}function mp(i){i.off=nt,i.on=me,i.wheelEventPixels=Xd,i.Doc=ci,i.splitLines=Vi,i.countColumn=Tt,i.findColumn=li,i.isWordChar=de,i.Pass=un,i.signal=Xe,i.Line=qa,i.changeEnd=ns,i.scrollbarModel=wn,i.Pos=Fe,i.cmpPos=ct,i.modes=zi,i.mimeModes=Ai,i.resolveMode=Yr,i.getMode=Hi,i.modeExtensions=Ci,i.extendMode=_r,i.copyState=Oi,i.startState=Go,i.innerMode=qn,i.commands=Dl,i.keyMap=fs,i.keyName=fh,i.isModifierKey=Gc,i.lookupKey=Co,i.normalizeKeyMap=rp,i.StringStream=kn,i.SharedTextMarker=Ao,i.TextMarker=ls,i.LineWidget=Cn,i.e_preventDefault=yt,i.e_stopPropagation=Bt,i.e_stop=Bn,i.addClass=St,i.contains=Ve,i.rmClass=ie,i.keyNames=cs}wh(on),xi(on);var vp="iter insert remove copy getEditor constructor".split(" ");for(var Qu in ci.prototype)ci.prototype.hasOwnProperty(Qu)&&xt(vp,Qu)<0&&(on.prototype[Qu]=(function(i){return function(){return i.apply(this.doc,arguments)}})(ci.prototype[Qu]));return At(ci),on.inputStyles={textarea:In,contenteditable:ln},on.defineMode=function(i){!on.defaults.mode&&i!="null"&&(on.defaults.mode=i),da.apply(this,arguments)},on.defineMIME=yr,on.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),on.defineMIME("text/plain","null"),on.defineExtension=function(i,o){on.prototype[i]=o},on.defineDocExtension=function(i,o){ci.prototype[i]=o},on.fromTextArea=Rh,mp(on),on.version="5.65.20",on}))})(gg)),gg.exports}var Lb={exports:{}},Ob;function HO(){return Ob||(Ob=1,(function(r,e){(function(n){n(fa())})(function(n){var s=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,u=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,d=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(E){if(E.getOption("disableInput"))return n.Pass;for(var b=E.listSelections(),T=[],x=0;x<b.length;x++){var k=b[x].head,F=E.getStateAfter(k.line),Y=n.innerMode(E.getMode(),F);if(Y.mode.name!=="markdown"&&Y.mode.helperType!=="markdown"){E.execCommand("newlineAndIndent");return}else F=Y.state;var Z=F.list!==!1,_e=F.quote!==0,te=E.getLine(k.line),Ee=s.exec(te),X=/^\s*$/.test(te.slice(0,k.ch));if(!b[x].empty()||!Z&&!_e||!Ee||X){E.execCommand("newlineAndIndent");return}if(u.test(te)){var ne=_e&&/>\s*$/.test(te),oe=!/>\s*$/.test(te);(ne||oe)&&E.replaceRange("",{line:k.line,ch:0},{line:k.line,ch:k.ch+1}),T[x]=`
`}else{var he=Ee[1],xe=Ee[5],B=!(d.test(Ee[2])||Ee[2].indexOf(">")>=0),V=B?parseInt(Ee[3],10)+1+Ee[4]:Ee[2].replace("x"," ");T[x]=`
`+he+V+xe,B&&g(E,k)}}E.replaceSelections(T)};function g(E,b){var T=b.line,x=0,k=0,F=s.exec(E.getLine(T)),Y=F[1];do{x+=1;var Z=T+x,_e=E.getLine(Z),te=s.exec(_e);if(te){var Ee=te[1],X=parseInt(F[3],10)+x-k,ne=parseInt(te[3],10),oe=ne;if(Y===Ee&&!isNaN(ne))X===ne&&(oe=ne+1),X>ne&&(oe=X+1),E.replaceRange(_e.replace(s,Ee+oe+te[4]+te[5]),{line:Z,ch:0},{line:Z,ch:_e.length});else{if(Y.length>Ee.length||Y.length<Ee.length&&x===1)return;k+=1}}}while(te)}})})()),Lb.exports}var Mb={},Pb;function qO(){if(Pb)return Mb;Pb=1;var r=fa();return r.commands.tabAndIndentMarkdownList=function(e){var n=e.listSelections(),s=n[0].head,u=e.getStateAfter(s.line),d=u.list!==!1;if(d){e.execCommand("indentMore");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var g=Array(e.options.tabSize+1).join(" ");e.replaceSelection(g)}},r.commands.shiftTabAndUnindentMarkdownList=function(e){var n=e.listSelections(),s=n[0].head,u=e.getStateAfter(s.line),d=u.list!==!1;if(d){e.execCommand("indentLess");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var g=Array(e.options.tabSize+1).join(" ");e.replaceSelection(g)}},Mb}var Fb={exports:{}},Bb;function jO(){return Bb||(Bb=1,(function(r,e){(function(n){n(fa())})(function(n){n.defineOption("fullScreen",!1,function(d,g,E){E==n.Init&&(E=!1),!E!=!g&&(g?s(d):u(d))});function s(d){var g=d.getWrapperElement();d.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:g.style.width,height:g.style.height},g.style.width="",g.style.height="auto",g.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",d.refresh()}function u(d){var g=d.getWrapperElement();g.className=g.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var E=d.state.fullScreenRestore;g.style.width=E.width,g.style.height=E.height,window.scrollTo(E.scrollLeft,E.scrollTop),d.refresh()}})})()),Fb.exports}var Ub={exports:{}},Vb={exports:{}},zb;function dw(){return zb||(zb=1,(function(r,e){(function(n){n(fa())})(function(n){var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},u={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(d,g){var E=d.indentUnit,b={},T=g.htmlMode?s:u;for(var x in T)b[x]=T[x];for(var x in g)b[x]=g[x];var k,F;function Y(ce,ue){function we(St){return ue.tokenize=St,St(ce,ue)}var Ve=ce.next();if(Ve=="<")return ce.eat("!")?ce.eat("[")?ce.match("CDATA[")?we(te("atom","]]>")):null:ce.match("--")?we(te("comment","-->")):ce.match("DOCTYPE",!0,!0)?(ce.eatWhile(/[\w\._\-]/),we(Ee(1))):null:ce.eat("?")?(ce.eatWhile(/[\w\._\-]/),ue.tokenize=te("meta","?>"),"meta"):(k=ce.eat("/")?"closeTag":"openTag",ue.tokenize=Z,"tag bracket");if(Ve=="&"){var ot;return ce.eat("#")?ce.eat("x")?ot=ce.eatWhile(/[a-fA-F\d]/)&&ce.eat(";"):ot=ce.eatWhile(/[\d]/)&&ce.eat(";"):ot=ce.eatWhile(/[\w\.\-:]/)&&ce.eat(";"),ot?"atom":"error"}else return ce.eatWhile(/[^&<]/),null}Y.isInText=!0;function Z(ce,ue){var we=ce.next();if(we==">"||we=="/"&&ce.eat(">"))return ue.tokenize=Y,k=we==">"?"endTag":"selfcloseTag","tag bracket";if(we=="=")return k="equals",null;if(we=="<"){ue.tokenize=Y,ue.state=xe,ue.tagName=ue.tagStart=null;var Ve=ue.tokenize(ce,ue);return Ve?Ve+" tag error":"tag error"}else return/[\'\"]/.test(we)?(ue.tokenize=_e(we),ue.stringStartCol=ce.column(),ue.tokenize(ce,ue)):(ce.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function _e(ce){var ue=function(we,Ve){for(;!we.eol();)if(we.next()==ce){Ve.tokenize=Z;break}return"string"};return ue.isInAttribute=!0,ue}function te(ce,ue){return function(we,Ve){for(;!we.eol();){if(we.match(ue)){Ve.tokenize=Y;break}we.next()}return ce}}function Ee(ce){return function(ue,we){for(var Ve;(Ve=ue.next())!=null;){if(Ve=="<")return we.tokenize=Ee(ce+1),we.tokenize(ue,we);if(Ve==">")if(ce==1){we.tokenize=Y;break}else return we.tokenize=Ee(ce-1),we.tokenize(ue,we)}return"meta"}}function X(ce){return ce&&ce.toLowerCase()}function ne(ce,ue,we){this.prev=ce.context,this.tagName=ue||"",this.indent=ce.indented,this.startOfLine=we,(b.doNotIndent.hasOwnProperty(ue)||ce.context&&ce.context.noIndent)&&(this.noIndent=!0)}function oe(ce){ce.context&&(ce.context=ce.context.prev)}function he(ce,ue){for(var we;;){if(!ce.context||(we=ce.context.tagName,!b.contextGrabbers.hasOwnProperty(X(we))||!b.contextGrabbers[X(we)].hasOwnProperty(X(ue))))return;oe(ce)}}function xe(ce,ue,we){return ce=="openTag"?(we.tagStart=ue.column(),B):ce=="closeTag"?V:xe}function B(ce,ue,we){return ce=="word"?(we.tagName=ue.current(),F="tag",G):b.allowMissingTagName&&ce=="endTag"?(F="tag bracket",G(ce,ue,we)):(F="error",B)}function V(ce,ue,we){if(ce=="word"){var Ve=ue.current();return we.context&&we.context.tagName!=Ve&&b.implicitlyClosed.hasOwnProperty(X(we.context.tagName))&&oe(we),we.context&&we.context.tagName==Ve||b.matchClosing===!1?(F="tag",q):(F="tag error",ae)}else return b.allowMissingTagName&&ce=="endTag"?(F="tag bracket",q(ce,ue,we)):(F="error",ae)}function q(ce,ue,we){return ce!="endTag"?(F="error",q):(oe(we),xe)}function ae(ce,ue,we){return F="error",q(ce,ue,we)}function G(ce,ue,we){if(ce=="word")return F="attribute",ie;if(ce=="endTag"||ce=="selfcloseTag"){var Ve=we.tagName,ot=we.tagStart;return we.tagName=we.tagStart=null,ce=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(X(Ve))?he(we,Ve):(he(we,Ve),we.context=new ne(we,Ve,ot==we.indented)),xe}return F="error",G}function ie(ce,ue,we){return ce=="equals"?K:(b.allowMissing||(F="error"),G(ce,ue,we))}function K(ce,ue,we){return ce=="string"?st:ce=="word"&&b.allowUnquoted?(F="string",G):(F="error",G(ce,ue,we))}function st(ce,ue,we){return ce=="string"?st:G(ce,ue,we)}return{startState:function(ce){var ue={tokenize:Y,state:xe,indented:ce||0,tagName:null,tagStart:null,context:null};return ce!=null&&(ue.baseIndent=ce),ue},token:function(ce,ue){if(!ue.tagName&&ce.sol()&&(ue.indented=ce.indentation()),ce.eatSpace())return null;k=null;var we=ue.tokenize(ce,ue);return(we||k)&&we!="comment"&&(F=null,ue.state=ue.state(k||we,ce,ue),F&&(we=F=="error"?we+" error":F)),we},indent:function(ce,ue,we){var Ve=ce.context;if(ce.tokenize.isInAttribute)return ce.tagStart==ce.indented?ce.stringStartCol+1:ce.indented+E;if(Ve&&Ve.noIndent)return n.Pass;if(ce.tokenize!=Z&&ce.tokenize!=Y)return we?we.match(/^(\s*)/)[0].length:0;if(ce.tagName)return b.multilineTagIndentPastTag!==!1?ce.tagStart+ce.tagName.length+2:ce.tagStart+E*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(ue))return 0;var ot=ue&&/^<(\/)?([\w_:\.-]*)/.exec(ue);if(ot&&ot[1])for(;Ve;)if(Ve.tagName==ot[2]){Ve=Ve.prev;break}else if(b.implicitlyClosed.hasOwnProperty(X(Ve.tagName)))Ve=Ve.prev;else break;else if(ot)for(;Ve;){var St=b.contextGrabbers[X(Ve.tagName)];if(St&&St.hasOwnProperty(X(ot[2])))Ve=Ve.prev;else break}for(;Ve&&Ve.prev&&!Ve.startOfLine;)Ve=Ve.prev;return Ve?Ve.indent+E:ce.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(ce){ce.state==K&&(ce.state=G)},xmlCurrentTag:function(ce){return ce.tagName?{name:ce.tagName,close:ce.type=="closeTag"}:null},xmlCurrentContext:function(ce){for(var ue=[],we=ce.context;we;we=we.prev)ue.push(we.tagName);return ue.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})()),Vb.exports}var Hb={exports:{}},qb;function GO(){return qb||(qb=1,(function(r,e){(function(n){n(fa())})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var s=0;s<n.modeInfo.length;s++){var u=n.modeInfo[s];u.mimes&&(u.mime=u.mimes[0])}n.findModeByMIME=function(d){d=d.toLowerCase();for(var g=0;g<n.modeInfo.length;g++){var E=n.modeInfo[g];if(E.mime==d)return E;if(E.mimes){for(var b=0;b<E.mimes.length;b++)if(E.mimes[b]==d)return E}}if(/\+xml$/.test(d))return n.findModeByMIME("application/xml");if(/\+json$/.test(d))return n.findModeByMIME("application/json")},n.findModeByExtension=function(d){d=d.toLowerCase();for(var g=0;g<n.modeInfo.length;g++){var E=n.modeInfo[g];if(E.ext){for(var b=0;b<E.ext.length;b++)if(E.ext[b]==d)return E}}},n.findModeByFileName=function(d){for(var g=0;g<n.modeInfo.length;g++){var E=n.modeInfo[g];if(E.file&&E.file.test(d))return E}var b=d.lastIndexOf("."),T=b>-1&&d.substring(b+1,d.length);if(T)return n.findModeByExtension(T)},n.findModeByName=function(d){d=d.toLowerCase();for(var g=0;g<n.modeInfo.length;g++){var E=n.modeInfo[g];if(E.name.toLowerCase()==d)return E;if(E.alias){for(var b=0;b<E.alias.length;b++)if(E.alias[b].toLowerCase()==d)return E}}}})})()),Hb.exports}var jb;function pw(){return jb||(jb=1,(function(r,e){(function(n){n(fa(),dw(),GO())})(function(n){n.defineMode("markdown",function(s,u){var d=n.getMode(s,"text/html"),g=d.name=="null";function E(z){if(n.findModeByName){var I=n.findModeByName(z);I&&(z=I.mime||I.mimes[0])}var ge=n.getMode(s,z);return ge.name=="null"?null:ge}u.highlightFormatting===void 0&&(u.highlightFormatting=!1),u.maxBlockquoteDepth===void 0&&(u.maxBlockquoteDepth=0),u.taskLists===void 0&&(u.taskLists=!1),u.strikethrough===void 0&&(u.strikethrough=!1),u.emoji===void 0&&(u.emoji=!1),u.fencedCodeBlockHighlighting===void 0&&(u.fencedCodeBlockHighlighting=!0),u.fencedCodeBlockDefaultMode===void 0&&(u.fencedCodeBlockDefaultMode="text/plain"),u.xml===void 0&&(u.xml=!0),u.tokenTypeOverrides===void 0&&(u.tokenTypeOverrides={});var b={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var T in b)b.hasOwnProperty(T)&&u.tokenTypeOverrides[T]&&(b[T]=u.tokenTypeOverrides[T]);var x=/^([*\-_])(?:\s*\1){2,}\s*$/,k=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,F=/^\[(x| )\](?=\s)/i,Y=u.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,Z=/^ {0,3}(?:\={1,}|-{2,})\s*$/,_e=/^[^#!\[\]*_\\<>` "'(~:]+/,te=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,Ee=/^\s*\[[^\]]+?\]:.*$/,X=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,ne="    ";function oe(z,I,ge){return I.f=I.inline=ge,ge(z,I)}function he(z,I,ge){return I.f=I.block=ge,ge(z,I)}function xe(z){return!z||!/\S/.test(z.string)}function B(z){if(z.linkTitle=!1,z.linkHref=!1,z.linkText=!1,z.em=!1,z.strong=!1,z.strikethrough=!1,z.quote=0,z.indentedCode=!1,z.f==q){var I=g;if(!I){var ge=n.innerMode(d,z.htmlState);I=ge.mode.name=="xml"&&ge.state.tagStart===null&&!ge.state.context&&ge.state.tokenize.isInText}I&&(z.f=K,z.block=V,z.htmlState=null)}return z.trailingSpace=0,z.trailingSpaceNewLine=!1,z.prevLine=z.thisLine,z.thisLine={stream:null},null}function V(z,I){var ge=z.column()===I.indentation,Je=xe(I.prevLine.stream),$e=I.indentedCode,dt=I.prevLine.hr,kt=I.list!==!1,Tt=(I.listStack[I.listStack.length-1]||0)+3;I.indentedCode=!1;var Kt=I.indentation;if(I.indentationDiff===null&&(I.indentationDiff=I.indentation,kt)){for(I.list=null;Kt<I.listStack[I.listStack.length-1];)I.listStack.pop(),I.listStack.length?I.indentation=I.listStack[I.listStack.length-1]:I.list=!1;I.list!==!1&&(I.indentationDiff=Kt-I.listStack[I.listStack.length-1])}var xt=!Je&&!dt&&!I.prevLine.header&&(!kt||!$e)&&!I.prevLine.fencedCodeEnd,Ft=(I.list===!1||dt||Je)&&I.indentation<=Tt&&z.match(x),un=null;if(I.indentationDiff>=4&&($e||I.prevLine.fencedCodeEnd||I.prevLine.header||Je))return z.skipToEnd(),I.indentedCode=!0,b.code;if(z.eatSpace())return null;if(ge&&I.indentation<=Tt&&(un=z.match(Y))&&un[1].length<=6)return I.quote=0,I.header=un[1].length,I.thisLine.header=!0,u.highlightFormatting&&(I.formatting="header"),I.f=I.inline,G(I);if(I.indentation<=Tt&&z.eat(">"))return I.quote=ge?1:I.quote+1,u.highlightFormatting&&(I.formatting="quote"),z.eatSpace(),G(I);if(!Ft&&!I.setext&&ge&&I.indentation<=Tt&&(un=z.match(k))){var sn=un[1]?"ol":"ul";return I.indentation=Kt+z.current().length,I.list=!0,I.quote=0,I.listStack.push(I.indentation),I.em=!1,I.strong=!1,I.code=!1,I.strikethrough=!1,u.taskLists&&z.match(F,!1)&&(I.taskList=!0),I.f=I.inline,u.highlightFormatting&&(I.formatting=["list","list-"+sn]),G(I)}else{if(ge&&I.indentation<=Tt&&(un=z.match(te,!0)))return I.quote=0,I.fencedEndRE=new RegExp(un[1]+"+ *$"),I.localMode=u.fencedCodeBlockHighlighting&&E(un[2]||u.fencedCodeBlockDefaultMode),I.localMode&&(I.localState=n.startState(I.localMode)),I.f=I.block=ae,u.highlightFormatting&&(I.formatting="code-block"),I.code=-1,G(I);if(I.setext||(!xt||!kt)&&!I.quote&&I.list===!1&&!I.code&&!Ft&&!Ee.test(z.string)&&(un=z.lookAhead(1))&&(un=un.match(Z)))return I.setext?(I.header=I.setext,I.setext=0,z.skipToEnd(),u.highlightFormatting&&(I.formatting="header")):(I.header=un[0].charAt(0)=="="?1:2,I.setext=I.header),I.thisLine.header=!0,I.f=I.inline,G(I);if(Ft)return z.skipToEnd(),I.hr=!0,I.thisLine.hr=!0,b.hr;if(z.peek()==="[")return oe(z,I,Ve)}return oe(z,I,I.inline)}function q(z,I){var ge=d.token(z,I.htmlState);if(!g){var Je=n.innerMode(d,I.htmlState);(Je.mode.name=="xml"&&Je.state.tagStart===null&&!Je.state.context&&Je.state.tokenize.isInText||I.md_inside&&z.current().indexOf(">")>-1)&&(I.f=K,I.block=V,I.htmlState=null)}return ge}function ae(z,I){var ge=I.listStack[I.listStack.length-1]||0,Je=I.indentation<ge,$e=ge+3;if(I.fencedEndRE&&I.indentation<=$e&&(Je||z.match(I.fencedEndRE))){u.highlightFormatting&&(I.formatting="code-block");var dt;return Je||(dt=G(I)),I.localMode=I.localState=null,I.block=V,I.f=K,I.fencedEndRE=null,I.code=0,I.thisLine.fencedCodeEnd=!0,Je?he(z,I,I.block):dt}else return I.localMode?I.localMode.token(z,I.localState):(z.skipToEnd(),b.code)}function G(z){var I=[];if(z.formatting){I.push(b.formatting),typeof z.formatting=="string"&&(z.formatting=[z.formatting]);for(var ge=0;ge<z.formatting.length;ge++)I.push(b.formatting+"-"+z.formatting[ge]),z.formatting[ge]==="header"&&I.push(b.formatting+"-"+z.formatting[ge]+"-"+z.header),z.formatting[ge]==="quote"&&(!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=z.quote?I.push(b.formatting+"-"+z.formatting[ge]+"-"+z.quote):I.push("error"))}if(z.taskOpen)return I.push("meta"),I.length?I.join(" "):null;if(z.taskClosed)return I.push("property"),I.length?I.join(" "):null;if(z.linkHref?I.push(b.linkHref,"url"):(z.strong&&I.push(b.strong),z.em&&I.push(b.em),z.strikethrough&&I.push(b.strikethrough),z.emoji&&I.push(b.emoji),z.linkText&&I.push(b.linkText),z.code&&I.push(b.code),z.image&&I.push(b.image),z.imageAltText&&I.push(b.imageAltText,"link"),z.imageMarker&&I.push(b.imageMarker)),z.header&&I.push(b.header,b.header+"-"+z.header),z.quote&&(I.push(b.quote),!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=z.quote?I.push(b.quote+"-"+z.quote):I.push(b.quote+"-"+u.maxBlockquoteDepth)),z.list!==!1){var Je=(z.listStack.length-1)%3;Je?Je===1?I.push(b.list2):I.push(b.list3):I.push(b.list1)}return z.trailingSpaceNewLine?I.push("trailing-space-new-line"):z.trailingSpace&&I.push("trailing-space-"+(z.trailingSpace%2?"a":"b")),I.length?I.join(" "):null}function ie(z,I){if(z.match(_e,!0))return G(I)}function K(z,I){var ge=I.text(z,I);if(typeof ge<"u")return ge;if(I.list)return I.list=null,G(I);if(I.taskList){var Je=z.match(F,!0)[1]===" ";return Je?I.taskOpen=!0:I.taskClosed=!0,u.highlightFormatting&&(I.formatting="task"),I.taskList=!1,G(I)}if(I.taskOpen=!1,I.taskClosed=!1,I.header&&z.match(/^#+$/,!0))return u.highlightFormatting&&(I.formatting="header"),G(I);var $e=z.next();if(I.linkTitle){I.linkTitle=!1;var dt=$e;$e==="("&&(dt=")"),dt=(dt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var kt="^\\s*(?:[^"+dt+"\\\\]+|\\\\\\\\|\\\\.)"+dt;if(z.match(new RegExp(kt),!0))return b.linkHref}if($e==="`"){var Tt=I.formatting;u.highlightFormatting&&(I.formatting="code"),z.eatWhile("`");var Kt=z.current().length;if(I.code==0&&(!I.quote||Kt==1))return I.code=Kt,G(I);if(Kt==I.code){var xt=G(I);return I.code=0,xt}else return I.formatting=Tt,G(I)}else if(I.code)return G(I);if($e==="\\"&&(z.next(),u.highlightFormatting)){var Ft=G(I),un=b.formatting+"-escape";return Ft?Ft+" "+un:un}if($e==="!"&&z.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return I.imageMarker=!0,I.image=!0,u.highlightFormatting&&(I.formatting="image"),G(I);if($e==="["&&I.imageMarker&&z.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return I.imageMarker=!1,I.imageAltText=!0,u.highlightFormatting&&(I.formatting="image"),G(I);if($e==="]"&&I.imageAltText){u.highlightFormatting&&(I.formatting="image");var Ft=G(I);return I.imageAltText=!1,I.image=!1,I.inline=I.f=ce,Ft}if($e==="["&&!I.image)return I.linkText&&z.match(/^.*?\]/)||(I.linkText=!0,u.highlightFormatting&&(I.formatting="link")),G(I);if($e==="]"&&I.linkText){u.highlightFormatting&&(I.formatting="link");var Ft=G(I);return I.linkText=!1,I.inline=I.f=z.match(/\(.*?\)| ?\[.*?\]/,!1)?ce:K,Ft}if($e==="<"&&z.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){I.f=I.inline=st,u.highlightFormatting&&(I.formatting="link");var Ft=G(I);return Ft?Ft+=" ":Ft="",Ft+b.linkInline}if($e==="<"&&z.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){I.f=I.inline=st,u.highlightFormatting&&(I.formatting="link");var Ft=G(I);return Ft?Ft+=" ":Ft="",Ft+b.linkEmail}if(u.xml&&$e==="<"&&z.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var sn=z.string.indexOf(">",z.pos);if(sn!=-1){var ut=z.string.substring(z.start,sn);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ut)&&(I.md_inside=!0)}return z.backUp(1),I.htmlState=n.startState(d),he(z,I,q)}if(u.xml&&$e==="<"&&z.match(/^\/\w*?>/))return I.md_inside=!1,"tag";if($e==="*"||$e==="_"){for(var Fn=1,li=z.pos==1?" ":z.string.charAt(z.pos-2);Fn<3&&z.eat($e);)Fn++;var yn=z.peek()||" ",tn=!/\s/.test(yn)&&(!X.test(yn)||/\s/.test(li)||X.test(li)),et=!/\s/.test(li)&&(!X.test(li)||/\s/.test(yn)||X.test(yn)),mn=null,er=null;if(Fn%2&&(!I.em&&tn&&($e==="*"||!et||X.test(li))?mn=!0:I.em==$e&&et&&($e==="*"||!tn||X.test(yn))&&(mn=!1)),Fn>1&&(!I.strong&&tn&&($e==="*"||!et||X.test(li))?er=!0:I.strong==$e&&et&&($e==="*"||!tn||X.test(yn))&&(er=!1)),er!=null||mn!=null){u.highlightFormatting&&(I.formatting=mn==null?"strong":er==null?"em":"strong em"),mn===!0&&(I.em=$e),er===!0&&(I.strong=$e);var xt=G(I);return mn===!1&&(I.em=!1),er===!1&&(I.strong=!1),xt}}else if($e===" "&&(z.eat("*")||z.eat("_"))){if(z.peek()===" ")return G(I);z.backUp(1)}if(u.strikethrough){if($e==="~"&&z.eatWhile($e)){if(I.strikethrough){u.highlightFormatting&&(I.formatting="strikethrough");var xt=G(I);return I.strikethrough=!1,xt}else if(z.match(/^[^\s]/,!1))return I.strikethrough=!0,u.highlightFormatting&&(I.formatting="strikethrough"),G(I)}else if($e===" "&&z.match("~~",!0)){if(z.peek()===" ")return G(I);z.backUp(2)}}if(u.emoji&&$e===":"&&z.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){I.emoji=!0,u.highlightFormatting&&(I.formatting="emoji");var Kr=G(I);return I.emoji=!1,Kr}return $e===" "&&(z.match(/^ +$/,!1)?I.trailingSpace++:I.trailingSpace&&(I.trailingSpaceNewLine=!0)),G(I)}function st(z,I){var ge=z.next();if(ge===">"){I.f=I.inline=K,u.highlightFormatting&&(I.formatting="link");var Je=G(I);return Je?Je+=" ":Je="",Je+b.linkInline}return z.match(/^[^>]+/,!0),b.linkInline}function ce(z,I){if(z.eatSpace())return null;var ge=z.next();return ge==="("||ge==="["?(I.f=I.inline=we(ge==="("?")":"]"),u.highlightFormatting&&(I.formatting="link-string"),I.linkHref=!0,G(I)):"error"}var ue={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function we(z){return function(I,ge){var Je=I.next();if(Je===z){ge.f=ge.inline=K,u.highlightFormatting&&(ge.formatting="link-string");var $e=G(ge);return ge.linkHref=!1,$e}return I.match(ue[z]),ge.linkHref=!0,G(ge)}}function Ve(z,I){return z.match(/^([^\]\\]|\\.)*\]:/,!1)?(I.f=ot,z.next(),u.highlightFormatting&&(I.formatting="link"),I.linkText=!0,G(I)):oe(z,I,K)}function ot(z,I){if(z.match("]:",!0)){I.f=I.inline=St,u.highlightFormatting&&(I.formatting="link");var ge=G(I);return I.linkText=!1,ge}return z.match(/^([^\]\\]|\\.)+/,!0),b.linkText}function St(z,I){return z.eatSpace()?null:(z.match(/^[^\s]+/,!0),z.peek()===void 0?I.linkTitle=!0:z.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),I.f=I.inline=K,b.linkHref+" url")}var fe={startState:function(){return{f:V,prevLine:{stream:null},thisLine:{stream:null},block:V,htmlState:null,indentation:0,inline:K,text:ie,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(z){return{f:z.f,prevLine:z.prevLine,thisLine:z.thisLine,block:z.block,htmlState:z.htmlState&&n.copyState(d,z.htmlState),indentation:z.indentation,localMode:z.localMode,localState:z.localMode?n.copyState(z.localMode,z.localState):null,inline:z.inline,text:z.text,formatting:!1,linkText:z.linkText,linkTitle:z.linkTitle,linkHref:z.linkHref,code:z.code,em:z.em,strong:z.strong,strikethrough:z.strikethrough,emoji:z.emoji,header:z.header,setext:z.setext,hr:z.hr,taskList:z.taskList,list:z.list,listStack:z.listStack.slice(0),quote:z.quote,indentedCode:z.indentedCode,trailingSpace:z.trailingSpace,trailingSpaceNewLine:z.trailingSpaceNewLine,md_inside:z.md_inside,fencedEndRE:z.fencedEndRE}},token:function(z,I){if(I.formatting=!1,z!=I.thisLine.stream){if(I.header=0,I.hr=!1,z.match(/^\s*$/,!0))return B(I),null;if(I.prevLine=I.thisLine,I.thisLine={stream:z},I.taskList=!1,I.trailingSpace=0,I.trailingSpaceNewLine=!1,!I.localState&&(I.f=I.block,I.f!=q)){var ge=z.match(/^\s*/,!0)[0].replace(/\t/g,ne).length;if(I.indentation=ge,I.indentationDiff=null,ge>0)return null}}return I.f(z,I)},innerMode:function(z){return z.block==q?{state:z.htmlState,mode:d}:z.localState?{state:z.localState,mode:z.localMode}:{state:z,mode:fe}},indent:function(z,I,ge){return z.block==q&&d.indent?d.indent(z.htmlState,I,ge):z.localState&&z.localMode.indent?z.localMode.indent(z.localState,I,ge):n.Pass},blankLine:B,getType:G,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return fe},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})})()),Ub.exports}var Gb={exports:{}},Wb;function gw(){return Wb||(Wb=1,(function(r,e){(function(n){n(fa())})(function(n){n.overlayMode=function(s,u,d){return{startState:function(){return{base:n.startState(s),overlay:n.startState(u),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(g){return{base:n.copyState(s,g.base),overlay:n.copyState(u,g.overlay),basePos:g.basePos,baseCur:null,overlayPos:g.overlayPos,overlayCur:null}},token:function(g,E){return(g!=E.streamSeen||Math.min(E.basePos,E.overlayPos)<g.start)&&(E.streamSeen=g,E.basePos=E.overlayPos=g.start),g.start==E.basePos&&(E.baseCur=s.token(g,E.base),E.basePos=g.pos),g.start==E.overlayPos&&(g.pos=g.start,E.overlayCur=u.token(g,E.overlay),E.overlayPos=g.pos),g.pos=Math.min(E.basePos,E.overlayPos),E.overlayCur==null?E.baseCur:E.baseCur!=null&&E.overlay.combineTokens||d&&E.overlay.combineTokens==null?E.baseCur+" "+E.overlayCur:E.overlayCur},indent:s.indent&&function(g,E,b){return s.indent(g.base,E,b)},electricChars:s.electricChars,innerMode:function(g){return{state:g.base,mode:s}},blankLine:function(g){var E,b;return s.blankLine&&(E=s.blankLine(g.base)),u.blankLine&&(b=u.blankLine(g.overlay)),b==null?E:d&&E!=null?E+" "+b:b}}}})})()),Gb.exports}var Kb={exports:{}},Yb;function WO(){return Yb||(Yb=1,(function(r,e){(function(n){n(fa())})(function(n){n.defineOption("placeholder","",function(T,x,k){var F=k&&k!=n.Init;if(x&&!F)T.on("blur",g),T.on("change",E),T.on("swapDoc",E),n.on(T.getInputField(),"compositionupdate",T.state.placeholderCompose=function(){d(T)}),E(T);else if(!x&&F){T.off("blur",g),T.off("change",E),T.off("swapDoc",E),n.off(T.getInputField(),"compositionupdate",T.state.placeholderCompose),s(T);var Y=T.getWrapperElement();Y.className=Y.className.replace(" CodeMirror-empty","")}x&&!T.hasFocus()&&g(T)});function s(T){T.state.placeholder&&(T.state.placeholder.parentNode.removeChild(T.state.placeholder),T.state.placeholder=null)}function u(T){s(T);var x=T.state.placeholder=document.createElement("pre");x.style.cssText="height: 0; overflow: visible",x.style.direction=T.getOption("direction"),x.className="CodeMirror-placeholder CodeMirror-line-like";var k=T.getOption("placeholder");typeof k=="string"&&(k=document.createTextNode(k)),x.appendChild(k),T.display.lineSpace.insertBefore(x,T.display.lineSpace.firstChild)}function d(T){setTimeout(function(){var x=!1;if(T.lineCount()==1){var k=T.getInputField();x=k.nodeName=="TEXTAREA"?!T.getLine(0).length:!/[^\u200b]/.test(k.querySelector(".CodeMirror-line").textContent)}x?u(T):s(T)},20)}function g(T){b(T)&&u(T)}function E(T){var x=T.getWrapperElement(),k=b(T);x.className=x.className.replace(" CodeMirror-empty","")+(k?" CodeMirror-empty":""),k?u(T):s(T)}function b(T){return T.lineCount()===1&&T.getLine(0)===""}})})()),Kb.exports}var Qb={exports:{}},Xb;function KO(){return Xb||(Xb=1,(function(r,e){(function(n){n(fa())})(function(n){n.defineOption("autoRefresh",!1,function(d,g){d.state.autoRefresh&&(u(d,d.state.autoRefresh),d.state.autoRefresh=null),g&&d.display.wrapper.offsetHeight==0&&s(d,d.state.autoRefresh={delay:g.delay||250})});function s(d,g){function E(){d.display.wrapper.offsetHeight?(u(d,g),d.display.lastWrapHeight!=d.display.wrapper.clientHeight&&d.refresh()):g.timeout=setTimeout(E,g.delay)}g.timeout=setTimeout(E,g.delay),g.hurry=function(){clearTimeout(g.timeout),g.timeout=setTimeout(E,50)},n.on(window,"mouseup",g.hurry),n.on(window,"keyup",g.hurry)}function u(d,g){clearTimeout(g.timeout),n.off(window,"mouseup",g.hurry),n.off(window,"keyup",g.hurry)}})})()),Qb.exports}var $b={exports:{}},Zb;function YO(){return Zb||(Zb=1,(function(r,e){(function(n){n(fa())})(function(n){n.defineOption("styleSelectedText",!1,function(F,Y,Z){var _e=Z&&Z!=n.Init;Y&&!_e?(F.state.markedSelection=[],F.state.markedSelectionStyle=typeof Y=="string"?Y:"CodeMirror-selectedtext",x(F),F.on("cursorActivity",s),F.on("change",u)):!Y&&_e&&(F.off("cursorActivity",s),F.off("change",u),T(F),F.state.markedSelection=F.state.markedSelectionStyle=null)});function s(F){F.state.markedSelection&&F.operation(function(){k(F)})}function u(F){F.state.markedSelection&&F.state.markedSelection.length&&F.operation(function(){T(F)})}var d=8,g=n.Pos,E=n.cmpPos;function b(F,Y,Z,_e){if(E(Y,Z)!=0)for(var te=F.state.markedSelection,Ee=F.state.markedSelectionStyle,X=Y.line;;){var ne=X==Y.line?Y:g(X,0),oe=X+d,he=oe>=Z.line,xe=he?Z:g(oe,0),B=F.markText(ne,xe,{className:Ee});if(_e==null?te.push(B):te.splice(_e++,0,B),he)break;X=oe}}function T(F){for(var Y=F.state.markedSelection,Z=0;Z<Y.length;++Z)Y[Z].clear();Y.length=0}function x(F){T(F);for(var Y=F.listSelections(),Z=0;Z<Y.length;Z++)b(F,Y[Z].from(),Y[Z].to())}function k(F){if(!F.somethingSelected())return T(F);if(F.listSelections().length>1)return x(F);var Y=F.getCursor("start"),Z=F.getCursor("end"),_e=F.state.markedSelection;if(!_e.length)return b(F,Y,Z);var te=_e[0].find(),Ee=_e[_e.length-1].find();if(!te||!Ee||Z.line-Y.line<=d||E(Y,Ee.to)>=0||E(Z,te.from)<=0)return x(F);for(;E(Y,te.from)>0;)_e.shift().clear(),te=_e[0].find();for(E(Y,te.from)<0&&(te.to.line-Y.line<d?(_e.shift().clear(),b(F,Y,te.to,0)):b(F,Y,te.from,0));E(Z,Ee.to)<0;)_e.pop().clear(),Ee=_e[_e.length-1].find();E(Z,Ee.to)>0&&(Z.line-Ee.from.line<d?(_e.pop().clear(),b(F,Ee.from,Z)):b(F,Ee.to,Z))}})})()),$b.exports}var Jb={exports:{}},e1;function QO(){return e1||(e1=1,(function(r,e){(function(n){n(fa())})(function(n){var s=n.Pos;function u(X){var ne=X.flags;return ne??(X.ignoreCase?"i":"")+(X.global?"g":"")+(X.multiline?"m":"")}function d(X,ne){for(var oe=u(X),he=oe,xe=0;xe<ne.length;xe++)he.indexOf(ne.charAt(xe))==-1&&(he+=ne.charAt(xe));return oe==he?X:new RegExp(X.source,he)}function g(X){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(X.source)}function E(X,ne,oe){ne=d(ne,"g");for(var he=oe.line,xe=oe.ch,B=X.lastLine();he<=B;he++,xe=0){ne.lastIndex=xe;var V=X.getLine(he),q=ne.exec(V);if(q)return{from:s(he,q.index),to:s(he,q.index+q[0].length),match:q}}}function b(X,ne,oe){if(!g(ne))return E(X,ne,oe);ne=d(ne,"gm");for(var he,xe=1,B=oe.line,V=X.lastLine();B<=V;){for(var q=0;q<xe&&!(B>V);q++){var ae=X.getLine(B++);he=he==null?ae:he+`
`+ae}xe=xe*2,ne.lastIndex=oe.ch;var G=ne.exec(he);if(G){var ie=he.slice(0,G.index).split(`
`),K=G[0].split(`
`),st=oe.line+ie.length-1,ce=ie[ie.length-1].length;return{from:s(st,ce),to:s(st+K.length-1,K.length==1?ce+K[0].length:K[K.length-1].length),match:G}}}}function T(X,ne,oe){for(var he,xe=0;xe<=X.length;){ne.lastIndex=xe;var B=ne.exec(X);if(!B)break;var V=B.index+B[0].length;if(V>X.length-oe)break;(!he||V>he.index+he[0].length)&&(he=B),xe=B.index+1}return he}function x(X,ne,oe){ne=d(ne,"g");for(var he=oe.line,xe=oe.ch,B=X.firstLine();he>=B;he--,xe=-1){var V=X.getLine(he),q=T(V,ne,xe<0?0:V.length-xe);if(q)return{from:s(he,q.index),to:s(he,q.index+q[0].length),match:q}}}function k(X,ne,oe){if(!g(ne))return x(X,ne,oe);ne=d(ne,"gm");for(var he,xe=1,B=X.getLine(oe.line).length-oe.ch,V=oe.line,q=X.firstLine();V>=q;){for(var ae=0;ae<xe&&V>=q;ae++){var G=X.getLine(V--);he=he==null?G:G+`
`+he}xe*=2;var ie=T(he,ne,B);if(ie){var K=he.slice(0,ie.index).split(`
`),st=ie[0].split(`
`),ce=V+K.length,ue=K[K.length-1].length;return{from:s(ce,ue),to:s(ce+st.length-1,st.length==1?ue+st[0].length:st[st.length-1].length),match:ie}}}}var F,Y;String.prototype.normalize?(F=function(X){return X.normalize("NFD").toLowerCase()},Y=function(X){return X.normalize("NFD")}):(F=function(X){return X.toLowerCase()},Y=function(X){return X});function Z(X,ne,oe,he){if(X.length==ne.length)return oe;for(var xe=0,B=oe+Math.max(0,X.length-ne.length);;){if(xe==B)return xe;var V=xe+B>>1,q=he(X.slice(0,V)).length;if(q==oe)return V;q>oe?B=V:xe=V+1}}function _e(X,ne,oe,he){if(!ne.length)return null;var xe=he?F:Y,B=xe(ne).split(/\r|\n\r?/);e:for(var V=oe.line,q=oe.ch,ae=X.lastLine()+1-B.length;V<=ae;V++,q=0){var G=X.getLine(V).slice(q),ie=xe(G);if(B.length==1){var K=ie.indexOf(B[0]);if(K==-1)continue e;var oe=Z(G,ie,K,xe)+q;return{from:s(V,Z(G,ie,K,xe)+q),to:s(V,Z(G,ie,K+B[0].length,xe)+q)}}else{var st=ie.length-B[0].length;if(ie.slice(st)!=B[0])continue e;for(var ce=1;ce<B.length-1;ce++)if(xe(X.getLine(V+ce))!=B[ce])continue e;var ue=X.getLine(V+B.length-1),we=xe(ue),Ve=B[B.length-1];if(we.slice(0,Ve.length)!=Ve)continue e;return{from:s(V,Z(G,ie,st,xe)+q),to:s(V+B.length-1,Z(ue,we,Ve.length,xe))}}}}function te(X,ne,oe,he){if(!ne.length)return null;var xe=he?F:Y,B=xe(ne).split(/\r|\n\r?/);e:for(var V=oe.line,q=oe.ch,ae=X.firstLine()-1+B.length;V>=ae;V--,q=-1){var G=X.getLine(V);q>-1&&(G=G.slice(0,q));var ie=xe(G);if(B.length==1){var K=ie.lastIndexOf(B[0]);if(K==-1)continue e;return{from:s(V,Z(G,ie,K,xe)),to:s(V,Z(G,ie,K+B[0].length,xe))}}else{var st=B[B.length-1];if(ie.slice(0,st.length)!=st)continue e;for(var ce=1,oe=V-B.length+1;ce<B.length-1;ce++)if(xe(X.getLine(oe+ce))!=B[ce])continue e;var ue=X.getLine(V+1-B.length),we=xe(ue);if(we.slice(we.length-B[0].length)!=B[0])continue e;return{from:s(V+1-B.length,Z(ue,we,ue.length-B[0].length,xe)),to:s(V,Z(G,ie,st.length,xe))}}}}function Ee(X,ne,oe,he){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=X,oe=oe?X.clipPos(oe):s(0,0),this.pos={from:oe,to:oe};var xe;typeof he=="object"?xe=he.caseFold:(xe=he,he=null),typeof ne=="string"?(xe==null&&(xe=!1),this.matches=function(B,V){return(B?te:_e)(X,ne,V,xe)}):(ne=d(ne,"gm"),!he||he.multiline!==!1?this.matches=function(B,V){return(B?k:b)(X,ne,V)}:this.matches=function(B,V){return(B?x:E)(X,ne,V)})}Ee.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(X){var ne=this.doc.clipPos(X?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(ne=s(ne.line,ne.ch),X?(ne.ch--,ne.ch<0&&(ne.line--,ne.ch=(this.doc.getLine(ne.line)||"").length)):(ne.ch++,ne.ch>(this.doc.getLine(ne.line)||"").length&&(ne.ch=0,ne.line++)),n.cmpPos(ne,this.doc.clipPos(ne))!=0))return this.atOccurrence=!1;var oe=this.matches(X,ne);if(this.afterEmptyMatch=oe&&n.cmpPos(oe.from,oe.to)==0,oe)return this.pos=oe,this.atOccurrence=!0,this.pos.match||!0;var he=s(X?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:he,to:he},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(X,ne){if(this.atOccurrence){var oe=n.splitLines(X);this.doc.replaceRange(oe,this.pos.from,this.pos.to,ne),this.pos.to=s(this.pos.from.line+oe.length-1,oe[oe.length-1].length+(oe.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(X,ne,oe){return new Ee(this.doc,X,ne,oe)}),n.defineDocExtension("getSearchCursor",function(X,ne,oe){return new Ee(this,X,ne,oe)}),n.defineExtension("selectMatches",function(X,ne){for(var oe=[],he=this.getSearchCursor(X,this.getCursor("from"),ne);he.findNext()&&!(n.cmpPos(he.to(),this.getCursor("to"))>0);)oe.push({anchor:he.from(),head:he.to()});oe.length&&this.setSelections(oe,0)})})})()),Jb.exports}var t1={exports:{}},n1;function XO(){return n1||(n1=1,(function(r,e){(function(n){n(fa(),pw(),gw())})(function(n){var s=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;n.defineMode("gfm",function(u,d){var g=0;function E(k){return k.code=!1,null}var b={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(k){return{code:k.code,codeBlock:k.codeBlock,ateSpace:k.ateSpace}},token:function(k,F){if(F.combineTokens=null,F.codeBlock)return k.match(/^```+/)?(F.codeBlock=!1,null):(k.skipToEnd(),null);if(k.sol()&&(F.code=!1),k.sol()&&k.match(/^```+/))return k.skipToEnd(),F.codeBlock=!0,null;if(k.peek()==="`"){k.next();var Y=k.pos;k.eatWhile("`");var Z=1+k.pos-Y;return F.code?Z===g&&(F.code=!1):(g=Z,F.code=!0),null}else if(F.code)return k.next(),null;if(k.eatSpace())return F.ateSpace=!0,null;if((k.sol()||F.ateSpace)&&(F.ateSpace=!1,d.gitHubSpice!==!1)){if(k.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return F.combineTokens=!0,"link";if(k.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return F.combineTokens=!0,"link"}return k.match(s)&&k.string.slice(k.start-2,k.start)!="]("&&(k.start==0||/\W/.test(k.string.charAt(k.start-1)))?(F.combineTokens=!0,"link"):(k.next(),null)},blankLine:E},T={taskLists:!0,strikethrough:!0,emoji:!0};for(var x in d)T[x]=d[x];return T.name="markdown",n.overlayMode(n.getMode(u,T),b)},"markdown"),n.defineMIME("text/x-gfm","gfm")})})()),t1.exports}function $O(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wv={exports:{}};const ZO={},JO=Object.freeze(Object.defineProperty({__proto__:null,default:ZO},Symbol.toStringTag,{value:"Module"})),eM=vA(JO);var i1;function tM(){return i1||(i1=1,(function(r){var e;(function(){e=function(n,s,u,d){d=d||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=d.flags||{},this.memoized={},this.loaded=!1;var g=this,E,b,T,x,k;if(n)if(g.dictionary=n,s&&u)te();else if(typeof window<"u"&&(window.chrome&&window.chrome.runtime||window.browser&&window.browser.runtime)){var F=window.chrome&&window.chrome.runtime?window.chrome.runtime:window.browser.runtime;d.dictionaryPath?E=d.dictionaryPath:E="typo/dictionaries",s||Y(F.getURL(E+"/"+n+"/"+n+".aff"),Z),u||Y(F.getURL(E+"/"+n+"/"+n+".dic"),_e)}else d.dictionaryPath?E=d.dictionaryPath:typeof __dirname<"u"?E=__dirname+"/dictionaries":E="./dictionaries",s||Y(E+"/"+n+"/"+n+".aff",Z),u||Y(E+"/"+n+"/"+n+".dic",_e);function Y(Ee,X){var ne=g._readFile(Ee,null,d?.asyncLoad);d?.asyncLoad?ne.then(function(oe){X(oe)}):X(ne)}function Z(Ee){s=Ee,u&&te()}function _e(Ee){u=Ee,s&&te()}function te(){for(g.rules=g._parseAFF(s),g.compoundRuleCodes={},b=0,x=g.compoundRules.length;b<x;b++){var Ee=g.compoundRules[b];for(T=0,k=Ee.length;T<k;T++)g.compoundRuleCodes[Ee[T]]=[]}"ONLYINCOMPOUND"in g.flags&&(g.compoundRuleCodes[g.flags.ONLYINCOMPOUND]=[]),g.dictionaryTable=g._parseDIC(u);for(b in g.compoundRuleCodes)g.compoundRuleCodes[b].length===0&&delete g.compoundRuleCodes[b];for(b=0,x=g.compoundRules.length;b<x;b++){var X=g.compoundRules[b],ne="";for(T=0,k=X.length;T<k;T++){var oe=X[T];oe in g.compoundRuleCodes?ne+="("+g.compoundRuleCodes[oe].join("|")+")":ne+=oe}g.compoundRules[b]=new RegExp("^"+ne+"$","i")}g.loaded=!0,d?.asyncLoad&&d?.loadedCallback&&d.loadedCallback(g)}return this},e.prototype={load:function(n){for(var s in n)n.hasOwnProperty(s)&&(this[s]=n[s]);return this},_readFile:function(n,s,u){var d;if(s=s||"utf8",typeof XMLHttpRequest<"u"){var g=new XMLHttpRequest;if(g.open("GET",n,!!u),(d=g.overrideMimeType)===null||d===void 0||d.call(g,"text/plain; charset="+s),u){var E=new Promise(function(T,x){g.onload=function(){g.status===200?T(g.responseText):x(g.statusText)},g.onerror=function(){x(g.statusText)}});return g.send(null),E}else return g.send(null),g.responseText}else if(typeof $O<"u"){var b=eM;try{if(b.existsSync(n))return b.readFileSync(n,s);console.log("Path "+n+" does not exist.")}catch(T){console.log(T)}return""}return""},_parseAFF:function(n){var s={},u,d,g,E,b,T,x,k,F=n.split(/\r?\n/);for(b=0,x=F.length;b<x;b++)if(u=this._removeAffixComments(F[b]),u=u.trim(),!!u){var Y=u.split(/\s+/),Z=Y[0];if(Z==="PFX"||Z==="SFX"){var _e=Y[1],te=Y[2];g=parseInt(Y[3],10);var Ee=[];for(T=b+1,k=b+1+g;T<k;T++){d=F[T],E=d.split(/\s+/);var X=E[2],ne=E[3].split("/"),oe=ne[0];oe==="0"&&(oe="");var he=this.parseRuleCodes(ne[1]),xe=E[4],B={add:oe};he.length>0&&(B.continuationClasses=he),xe!=="."&&(Z==="SFX"?B.match=new RegExp(xe+"$"):B.match=new RegExp("^"+xe)),X!="0"&&(Z==="SFX"?B.remove=new RegExp(X+"$"):B.remove=X),Ee.push(B)}s[_e]={type:Z,combineable:te==="Y",entries:Ee},b+=g}else if(Z==="COMPOUNDRULE"){for(g=parseInt(Y[1],10),T=b+1,k=b+1+g;T<k;T++)u=F[T],E=u.split(/\s+/),this.compoundRules.push(E[1]);b+=g}else Z==="REP"?(E=u.split(/\s+/),E.length===3&&this.replacementTable.push([E[1],E[2]])):this.flags[Z]=Y[1]}return s},_removeAffixComments:function(n){return n.match(/^\s*#/)?"":n},_parseDIC:function(n){n=this._removeDicComments(n);var s=n.split(/\r?\n/),u={};function d(ie,K){u.hasOwnProperty(ie)||(u[ie]=null),K.length>0&&(u[ie]===null&&(u[ie]=[]),u[ie].push(K))}for(var g=1,E=s.length;g<E;g++){var b=s[g];if(b){var T=b.replace(/\s.*$/,""),x=T.split("/",2),k=x[0];if(x.length>1){var F=this.parseRuleCodes(x[1]);(!("NEEDAFFIX"in this.flags)||F.indexOf(this.flags.NEEDAFFIX)===-1)&&d(k,F);for(var Y=0,Z=F.length;Y<Z;Y++){var _e=F[Y],te=this.rules[_e];if(te)for(var Ee=this._applyRule(k,te),X=0,ne=Ee.length;X<ne;X++){var oe=Ee[X];if(d(oe,[]),te.combineable)for(var he=Y+1;he<Z;he++){var xe=F[he],B=this.rules[xe];if(B&&B.combineable&&te.type!=B.type)for(var V=this._applyRule(oe,B),q=0,ae=V.length;q<ae;q++){var G=V[q];d(G,[])}}}_e in this.compoundRuleCodes&&this.compoundRuleCodes[_e].push(k)}}else d(k.trim(),[])}}return u},_removeDicComments:function(n){return n=n.replace(/^\t.*$/mg,""),n},parseRuleCodes:function(n){if(n)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var s=[],u=0,d=n.length;u<d;u+=2)s.push(n.substr(u,2));return s}else return this.flags.FLAG==="num"?n.split(","):this.flags.FLAG==="UTF-8"?Array.from(n):n.split("");else return n.split("");else return[]},_applyRule:function(n,s){for(var u=s.entries,d=[],g=0,E=u.length;g<E;g++){var b=u[g];if(!b.match||n.match(b.match)){var T=n;if(b.remove&&(T=T.replace(b.remove,"")),s.type==="SFX"?T=T+b.add:T=b.add+T,d.push(T),"continuationClasses"in b)for(var x=0,k=b.continuationClasses.length;x<k;x++){var F=this.rules[b.continuationClasses[x]];F&&(d=d.concat(this._applyRule(T,F)))}}}return d},check:function(n){if(!this.loaded)throw"Dictionary not loaded.";if(!n)return!1;var s=n.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(s))return!0;if(s.toUpperCase()===s){var u=s[0]+s.substring(1).toLowerCase();if(this.hasFlag(u,"KEEPCASE"))return!1;if(this.checkExact(u)||this.checkExact(s.toLowerCase()))return!0}var d=s[0].toLowerCase()+s.substring(1);if(d!==s){if(this.hasFlag(d,"KEEPCASE"))return!1;if(this.checkExact(d))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var s=this.dictionaryTable[n],u,d;if(typeof s>"u"){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN){for(u=0,d=this.compoundRules.length;u<d;u++)if(n.match(this.compoundRules[u]))return!0}}else{if(s===null)return!0;if(typeof s=="object"){for(u=0,d=s.length;u<d;u++)if(!this.hasFlag(n,"ONLYINCOMPOUND",s[u]))return!0}}return!1},hasFlag:function(n,s,u){if(!this.loaded)throw"Dictionary not loaded.";return!!(s in this.flags&&(typeof u>"u"&&(u=Array.prototype.concat.apply([],this.dictionaryTable[n])),u&&u.indexOf(this.flags[s])!==-1))},alphabet:"",suggest:function(n,s){if(!this.loaded)throw"Dictionary not loaded.";if(s=s||5,this.memoized.hasOwnProperty(n)){var u=this.memoized[n].limit;if(s<=u||this.memoized[n].suggestions.length<u)return this.memoized[n].suggestions.slice(0,s)}if(this.check(n))return[];for(var d=0,g=this.replacementTable.length;d<g;d++){var E=this.replacementTable[d];if(n.indexOf(E[0])!==-1){var b=n.replace(E[0],E[1]);if(this.check(b))return[b]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var T=this.alphabet.split("");T.sort();for(var x={},d=0;d<T.length;d++)x[T[d]]=!0;this.alphabet="";for(var d in x)this.alphabet+=d}var k=this;function F(Z,_e){var te={},Ee,X,ne,oe,he=k.alphabet.length;for(var xe in Z)for(Ee=0,ne=xe.length+1;Ee<ne;Ee++){var B=[xe.substring(0,Ee),xe.substring(Ee)];if(B[1]&&(oe=B[0]+B[1].substring(1),(!_e||k.check(oe))&&(oe in te?te[oe]+=1:te[oe]=1)),B[1].length>1&&B[1][1]!==B[1][0]&&(oe=B[0]+B[1][1]+B[1][0]+B[1].substring(2),(!_e||k.check(oe))&&(oe in te?te[oe]+=1:te[oe]=1)),B[1]){var V=B[1].substring(0,1).toUpperCase()===B[1].substring(0,1)?"uppercase":"lowercase";for(X=0;X<he;X++){var q=k.alphabet[X];V==="uppercase"&&(q=q.toUpperCase()),q!=B[1].substring(0,1)&&(oe=B[0]+q+B[1].substring(1),(!_e||k.check(oe))&&(oe in te?te[oe]+=1:te[oe]=1))}}if(B[1])for(X=0;X<he;X++){var V=B[0].substring(-1).toUpperCase()===B[0].substring(-1)&&B[1].substring(0,1).toUpperCase()===B[1].substring(0,1)?"uppercase":"lowercase",q=k.alphabet[X];V==="uppercase"&&(q=q.toUpperCase()),oe=B[0]+q+B[1],(!_e||k.check(oe))&&(oe in te?te[oe]+=1:te[oe]=1)}}return te}function Y(Z){var _e,te=F((_e={},_e[Z]=!0,_e)),Ee=F(te,!0),X=Ee;for(var ne in te)k.check(ne)&&(ne in X?X[ne]+=te[ne]:X[ne]=te[ne]);var oe,he=[];for(oe in X)X.hasOwnProperty(oe)&&(k.hasFlag(oe,"PRIORITYSUGGEST")&&(X[oe]+=1e3),he.push([oe,X[oe]]));function xe(ae,G){var ie=ae[1],K=G[1];return ie<K?-1:ie>K?1:G[0].localeCompare(ae[0])}he.sort(xe).reverse();var B=[],V="lowercase";Z.toUpperCase()===Z?V="uppercase":Z.substr(0,1).toUpperCase()+Z.substr(1).toLowerCase()===Z&&(V="capitalized");var q=s;for(oe=0;oe<Math.min(q,he.length);oe++)V==="uppercase"?he[oe][0]=he[oe][0].toUpperCase():V==="capitalized"&&(he[oe][0]=he[oe][0].substr(0,1).toUpperCase()+he[oe][0].substr(1)),!k.hasFlag(he[oe][0],"NOSUGGEST")&&B.indexOf(he[oe][0])===-1?B.push(he[oe][0]):q++;return B}return this.memoized[n]={suggestions:Y(n),limit:s},this.memoized[n].suggestions}}})(),r.exports=e})(wv)),wv.exports}var Av,r1;function nM(){if(r1)return Av;r1=1;var r=tM();function e(n){if(n=n||{},typeof n.codeMirrorInstance!="function"||typeof n.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),n.codeMirrorInstance.defineMode("spell-checker",function(s){if(!e.aff_loading){e.aff_loading=!0;var u=new XMLHttpRequest;u.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),u.onload=function(){u.readyState===4&&u.status===200&&(e.aff_data=u.responseText,e.num_loaded++,e.num_loaded==2&&(e.typo=new r("en_US",e.aff_data,e.dic_data,{platform:"any"})))},u.send(null)}if(!e.dic_loading){e.dic_loading=!0;var d=new XMLHttpRequest;d.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),d.onload=function(){d.readyState===4&&d.status===200&&(e.dic_data=d.responseText,e.num_loaded++,e.num_loaded==2&&(e.typo=new r("en_US",e.aff_data,e.dic_data,{platform:"any"})))},d.send(null)}var g='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',E={token:function(T){var x=T.peek(),k="";if(g.includes(x))return T.next(),null;for(;(x=T.peek())!=null&&!g.includes(x);)k+=x,T.next();return e.typo&&!e.typo.check(k)?"spell-error":null}},b=n.codeMirrorInstance.getMode(s,s.backdrop||"text/plain");return n.codeMirrorInstance.overlayMode(b,E,!0)})}return e.num_loaded=0,e.aff_loading=!1,e.dic_loading=!1,e.aff_data="",e.dic_data="",e.typo,Av=e,Av}var Cv={},a1;function iM(){return a1||(a1=1,(function(r){function e(Se,Ce){for(var de=0;de<Ce.length;de++){var P=Ce[de];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(Se,b(P.key),P)}}function n(Se,Ce,de){return de&&e(Se,de),Object.defineProperty(Se,"prototype",{writable:!1}),Se}function s(){return s=Object.assign?Object.assign.bind():function(Se){for(var Ce=1;Ce<arguments.length;Ce++){var de=arguments[Ce];for(var P in de)Object.prototype.hasOwnProperty.call(de,P)&&(Se[P]=de[P])}return Se},s.apply(this,arguments)}function u(Se,Ce){if(Se){if(typeof Se=="string")return d(Se,Ce);var de=Object.prototype.toString.call(Se).slice(8,-1);if(de==="Object"&&Se.constructor&&(de=Se.constructor.name),de==="Map"||de==="Set")return Array.from(Se);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return d(Se,Ce)}}function d(Se,Ce){(Ce==null||Ce>Se.length)&&(Ce=Se.length);for(var de=0,P=new Array(Ce);de<Ce;de++)P[de]=Se[de];return P}function g(Se,Ce){var de=typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(de)return(de=de.call(Se)).next.bind(de);if(Array.isArray(Se)||(de=u(Se))||Ce){de&&(Se=de);var P=0;return function(){return P>=Se.length?{done:!0}:{done:!1,value:Se[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(Se,Ce){if(typeof Se!="object"||Se===null)return Se;var de=Se[Symbol.toPrimitive];if(de!==void 0){var P=de.call(Se,Ce);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}function b(Se){var Ce=E(Se,"string");return typeof Ce=="symbol"?Ce:String(Ce)}function T(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}r.defaults=T();function x(Se){r.defaults=Se}var k=/[&<>"']/,F=new RegExp(k.source,"g"),Y=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Z=new RegExp(Y.source,"g"),_e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},te=function(Ce){return _e[Ce]};function Ee(Se,Ce){if(Ce){if(k.test(Se))return Se.replace(F,te)}else if(Y.test(Se))return Se.replace(Z,te);return Se}var X=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ne(Se){return Se.replace(X,function(Ce,de){return de=de.toLowerCase(),de==="colon"?":":de.charAt(0)==="#"?de.charAt(1)==="x"?String.fromCharCode(parseInt(de.substring(2),16)):String.fromCharCode(+de.substring(1)):""})}var oe=/(^|[^\[])\^/g;function he(Se,Ce){Se=typeof Se=="string"?Se:Se.source,Ce=Ce||"";var de={replace:function(M,le){return le=le.source||le,le=le.replace(oe,"$1"),Se=Se.replace(M,le),de},getRegex:function(){return new RegExp(Se,Ce)}};return de}var xe=/[^\w:]/g,B=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function V(Se,Ce,de){if(Se){var P;try{P=decodeURIComponent(ne(de)).replace(xe,"").toLowerCase()}catch{return null}if(P.indexOf("javascript:")===0||P.indexOf("vbscript:")===0||P.indexOf("data:")===0)return null}Ce&&!B.test(de)&&(de=K(Ce,de));try{de=encodeURI(de).replace(/%25/g,"%")}catch{return null}return de}var q={},ae=/^[^:]+:\/*[^/]*$/,G=/^([^:]+:)[\s\S]*$/,ie=/^([^:]+:\/*[^/]*)[\s\S]*$/;function K(Se,Ce){q[" "+Se]||(ae.test(Se)?q[" "+Se]=Se+"/":q[" "+Se]=ue(Se,"/",!0)),Se=q[" "+Se];var de=Se.indexOf(":")===-1;return Ce.substring(0,2)==="//"?de?Ce:Se.replace(G,"$1")+Ce:Ce.charAt(0)==="/"?de?Ce:Se.replace(ie,"$1")+Ce:Se+Ce}var st={exec:function(){}};function ce(Se,Ce){var de=Se.replace(/\|/g,function(le,w,L){for(var W=!1,$=w;--$>=0&&L[$]==="\\";)W=!W;return W?"|":" |"}),P=de.split(/ \|/),M=0;if(P[0].trim()||P.shift(),P.length>0&&!P[P.length-1].trim()&&P.pop(),P.length>Ce)P.splice(Ce);else for(;P.length<Ce;)P.push("");for(;M<P.length;M++)P[M]=P[M].trim().replace(/\\\|/g,"|");return P}function ue(Se,Ce,de){var P=Se.length;if(P===0)return"";for(var M=0;M<P;){var le=Se.charAt(P-M-1);if(le===Ce&&!de)M++;else if(le!==Ce&&de)M++;else break}return Se.slice(0,P-M)}function we(Se,Ce){if(Se.indexOf(Ce[1])===-1)return-1;for(var de=Se.length,P=0,M=0;M<de;M++)if(Se[M]==="\\")M++;else if(Se[M]===Ce[0])P++;else if(Se[M]===Ce[1]&&(P--,P<0))return M;return-1}function Ve(Se){Se&&Se.sanitize&&!Se.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ot(Se,Ce){if(Ce<1)return"";for(var de="";Ce>1;)Ce&1&&(de+=Se),Ce>>=1,Se+=Se;return de+Se}function St(Se,Ce,de,P){var M=Ce.href,le=Ce.title?Ee(Ce.title):null,w=Se[1].replace(/\\([\[\]])/g,"$1");if(Se[0].charAt(0)!=="!"){P.state.inLink=!0;var L={type:"link",raw:de,href:M,title:le,text:w,tokens:P.inlineTokens(w)};return P.state.inLink=!1,L}return{type:"image",raw:de,href:M,title:le,text:Ee(w)}}function fe(Se,Ce){var de=Se.match(/^(\s+)(?:```)/);if(de===null)return Ce;var P=de[1];return Ce.split(`
`).map(function(M){var le=M.match(/^\s+/);if(le===null)return M;var w=le[0];return w.length>=P.length?M.slice(P.length):M}).join(`
`)}var z=(function(){function Se(de){this.options=de||r.defaults}var Ce=Se.prototype;return Ce.space=function(P){var M=this.rules.block.newline.exec(P);if(M&&M[0].length>0)return{type:"space",raw:M[0]}},Ce.code=function(P){var M=this.rules.block.code.exec(P);if(M){var le=M[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:M[0],codeBlockStyle:"indented",text:this.options.pedantic?le:ue(le,`
`)}}},Ce.fences=function(P){var M=this.rules.block.fences.exec(P);if(M){var le=M[0],w=fe(le,M[3]||"");return{type:"code",raw:le,lang:M[2]?M[2].trim().replace(this.rules.inline._escapes,"$1"):M[2],text:w}}},Ce.heading=function(P){var M=this.rules.block.heading.exec(P);if(M){var le=M[2].trim();if(/#$/.test(le)){var w=ue(le,"#");(this.options.pedantic||!w||/ $/.test(w))&&(le=w.trim())}return{type:"heading",raw:M[0],depth:M[1].length,text:le,tokens:this.lexer.inline(le)}}},Ce.hr=function(P){var M=this.rules.block.hr.exec(P);if(M)return{type:"hr",raw:M[0]}},Ce.blockquote=function(P){var M=this.rules.block.blockquote.exec(P);if(M){var le=M[0].replace(/^ *>[ \t]?/gm,""),w=this.lexer.state.top;this.lexer.state.top=!0;var L=this.lexer.blockTokens(le);return this.lexer.state.top=w,{type:"blockquote",raw:M[0],tokens:L,text:le}}},Ce.list=function(P){var M=this.rules.block.list.exec(P);if(M){var le,w,L,W,$,ee,ye,re,J,Te,me,Qe,nt=M[1].trim(),Xe=nt.length>1,We={type:"list",raw:"",ordered:Xe,start:Xe?+nt.slice(0,-1):"",loose:!1,items:[]};nt=Xe?"\\d{1,9}\\"+nt.slice(-1):"\\"+nt,this.options.pedantic&&(nt=Xe?nt:"[*+-]");for(var pt=new RegExp("^( {0,3}"+nt+")((?:[	 ][^\\n]*)?(?:\\n|$))");P&&(Qe=!1,!(!(M=pt.exec(P))||this.rules.block.hr.test(P)));){if(le=M[0],P=P.substring(le.length),re=M[2].split(`
`,1)[0].replace(/^\t+/,function(Qn){return" ".repeat(3*Qn.length)}),J=P.split(`
`,1)[0],this.options.pedantic?(W=2,me=re.trimLeft()):(W=M[2].search(/[^ ]/),W=W>4?1:W,me=re.slice(W),W+=M[1].length),ee=!1,!re&&/^ *$/.test(J)&&(le+=J+`
`,P=P.substring(J.length+1),Qe=!0),!Qe)for(var mt=new RegExp("^ {0,"+Math.min(3,W-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),At=new RegExp("^ {0,"+Math.min(3,W-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),yt=new RegExp("^ {0,"+Math.min(3,W-1)+"}(?:```|~~~)"),Bt=new RegExp("^ {0,"+Math.min(3,W-1)+"}#");P&&(Te=P.split(`
`,1)[0],J=Te,this.options.pedantic&&(J=J.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(yt.test(J)||Bt.test(J)||mt.test(J)||At.test(P)));){if(J.search(/[^ ]/)>=W||!J.trim())me+=`
`+J.slice(W);else{if(ee||re.search(/[^ ]/)>=4||yt.test(re)||Bt.test(re)||At.test(re))break;me+=`
`+J}!ee&&!J.trim()&&(ee=!0),le+=Te+`
`,P=P.substring(Te.length+1),re=J.slice(W)}We.loose||(ye?We.loose=!0:/\n *\n *$/.test(le)&&(ye=!0)),this.options.gfm&&(w=/^\[[ xX]\] /.exec(me),w&&(L=w[0]!=="[ ] ",me=me.replace(/^\[[ xX]\] +/,""))),We.items.push({type:"list_item",raw:le,task:!!w,checked:L,loose:!1,text:me}),We.raw+=le}We.items[We.items.length-1].raw=le.trimRight(),We.items[We.items.length-1].text=me.trimRight(),We.raw=We.raw.trimRight();var Yt=We.items.length;for($=0;$<Yt;$++)if(this.lexer.state.top=!1,We.items[$].tokens=this.lexer.blockTokens(We.items[$].text,[]),!We.loose){var Bn=We.items[$].tokens.filter(function(Qn){return Qn.type==="space"}),zn=Bn.length>0&&Bn.some(function(Qn){return/\n.*\n/.test(Qn.raw)});We.loose=zn}if(We.loose)for($=0;$<Yt;$++)We.items[$].loose=!0;return We}},Ce.html=function(P){var M=this.rules.block.html.exec(P);if(M){var le={type:"html",raw:M[0],pre:!this.options.sanitizer&&(M[1]==="pre"||M[1]==="script"||M[1]==="style"),text:M[0]};if(this.options.sanitize){var w=this.options.sanitizer?this.options.sanitizer(M[0]):Ee(M[0]);le.type="paragraph",le.text=w,le.tokens=this.lexer.inline(w)}return le}},Ce.def=function(P){var M=this.rules.block.def.exec(P);if(M){var le=M[1].toLowerCase().replace(/\s+/g," "),w=M[2]?M[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",L=M[3]?M[3].substring(1,M[3].length-1).replace(this.rules.inline._escapes,"$1"):M[3];return{type:"def",tag:le,raw:M[0],href:w,title:L}}},Ce.table=function(P){var M=this.rules.block.table.exec(P);if(M){var le={type:"table",header:ce(M[1]).map(function(ye){return{text:ye}}),align:M[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:M[3]&&M[3].trim()?M[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(le.header.length===le.align.length){le.raw=M[0];var w=le.align.length,L,W,$,ee;for(L=0;L<w;L++)/^ *-+: *$/.test(le.align[L])?le.align[L]="right":/^ *:-+: *$/.test(le.align[L])?le.align[L]="center":/^ *:-+ *$/.test(le.align[L])?le.align[L]="left":le.align[L]=null;for(w=le.rows.length,L=0;L<w;L++)le.rows[L]=ce(le.rows[L],le.header.length).map(function(ye){return{text:ye}});for(w=le.header.length,W=0;W<w;W++)le.header[W].tokens=this.lexer.inline(le.header[W].text);for(w=le.rows.length,W=0;W<w;W++)for(ee=le.rows[W],$=0;$<ee.length;$++)ee[$].tokens=this.lexer.inline(ee[$].text);return le}}},Ce.lheading=function(P){var M=this.rules.block.lheading.exec(P);if(M)return{type:"heading",raw:M[0],depth:M[2].charAt(0)==="="?1:2,text:M[1],tokens:this.lexer.inline(M[1])}},Ce.paragraph=function(P){var M=this.rules.block.paragraph.exec(P);if(M){var le=M[1].charAt(M[1].length-1)===`
`?M[1].slice(0,-1):M[1];return{type:"paragraph",raw:M[0],text:le,tokens:this.lexer.inline(le)}}},Ce.text=function(P){var M=this.rules.block.text.exec(P);if(M)return{type:"text",raw:M[0],text:M[0],tokens:this.lexer.inline(M[0])}},Ce.escape=function(P){var M=this.rules.inline.escape.exec(P);if(M)return{type:"escape",raw:M[0],text:Ee(M[1])}},Ce.tag=function(P){var M=this.rules.inline.tag.exec(P);if(M)return!this.lexer.state.inLink&&/^<a /i.test(M[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(M[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(M[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(M[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:M[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(M[0]):Ee(M[0]):M[0]}},Ce.link=function(P){var M=this.rules.inline.link.exec(P);if(M){var le=M[2].trim();if(!this.options.pedantic&&/^</.test(le)){if(!/>$/.test(le))return;var w=ue(le.slice(0,-1),"\\");if((le.length-w.length)%2===0)return}else{var L=we(M[2],"()");if(L>-1){var W=M[0].indexOf("!")===0?5:4,$=W+M[1].length+L;M[2]=M[2].substring(0,L),M[0]=M[0].substring(0,$).trim(),M[3]=""}}var ee=M[2],ye="";if(this.options.pedantic){var re=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ee);re&&(ee=re[1],ye=re[3])}else ye=M[3]?M[3].slice(1,-1):"";return ee=ee.trim(),/^</.test(ee)&&(this.options.pedantic&&!/>$/.test(le)?ee=ee.slice(1):ee=ee.slice(1,-1)),St(M,{href:ee&&ee.replace(this.rules.inline._escapes,"$1"),title:ye&&ye.replace(this.rules.inline._escapes,"$1")},M[0],this.lexer)}},Ce.reflink=function(P,M){var le;if((le=this.rules.inline.reflink.exec(P))||(le=this.rules.inline.nolink.exec(P))){var w=(le[2]||le[1]).replace(/\s+/g," ");if(w=M[w.toLowerCase()],!w){var L=le[0].charAt(0);return{type:"text",raw:L,text:L}}return St(le,w,le[0],this.lexer)}},Ce.emStrong=function(P,M,le){le===void 0&&(le="");var w=this.rules.inline.emStrong.lDelim.exec(P);if(w&&!(w[3]&&le.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var L=w[1]||w[2]||"";if(!L||L&&(le===""||this.rules.inline.punctuation.exec(le))){var W=w[0].length-1,$,ee,ye=W,re=0,J=w[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(J.lastIndex=0,M=M.slice(-1*P.length+W);(w=J.exec(M))!=null;)if($=w[1]||w[2]||w[3]||w[4]||w[5]||w[6],!!$){if(ee=$.length,w[3]||w[4]){ye+=ee;continue}else if((w[5]||w[6])&&W%3&&!((W+ee)%3)){re+=ee;continue}if(ye-=ee,!(ye>0)){ee=Math.min(ee,ee+ye+re);var Te=P.slice(0,W+w.index+(w[0].length-$.length)+ee);if(Math.min(W,ee)%2){var me=Te.slice(1,-1);return{type:"em",raw:Te,text:me,tokens:this.lexer.inlineTokens(me)}}var Qe=Te.slice(2,-2);return{type:"strong",raw:Te,text:Qe,tokens:this.lexer.inlineTokens(Qe)}}}}}},Ce.codespan=function(P){var M=this.rules.inline.code.exec(P);if(M){var le=M[2].replace(/\n/g," "),w=/[^ ]/.test(le),L=/^ /.test(le)&&/ $/.test(le);return w&&L&&(le=le.substring(1,le.length-1)),le=Ee(le,!0),{type:"codespan",raw:M[0],text:le}}},Ce.br=function(P){var M=this.rules.inline.br.exec(P);if(M)return{type:"br",raw:M[0]}},Ce.del=function(P){var M=this.rules.inline.del.exec(P);if(M)return{type:"del",raw:M[0],text:M[2],tokens:this.lexer.inlineTokens(M[2])}},Ce.autolink=function(P,M){var le=this.rules.inline.autolink.exec(P);if(le){var w,L;return le[2]==="@"?(w=Ee(this.options.mangle?M(le[1]):le[1]),L="mailto:"+w):(w=Ee(le[1]),L=w),{type:"link",raw:le[0],text:w,href:L,tokens:[{type:"text",raw:w,text:w}]}}},Ce.url=function(P,M){var le;if(le=this.rules.inline.url.exec(P)){var w,L;if(le[2]==="@")w=Ee(this.options.mangle?M(le[0]):le[0]),L="mailto:"+w;else{var W;do W=le[0],le[0]=this.rules.inline._backpedal.exec(le[0])[0];while(W!==le[0]);w=Ee(le[0]),le[1]==="www."?L="http://"+le[0]:L=le[0]}return{type:"link",raw:le[0],text:w,href:L,tokens:[{type:"text",raw:w,text:w}]}}},Ce.inlineText=function(P,M){var le=this.rules.inline.text.exec(P);if(le){var w;return this.lexer.state.inRawBlock?w=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(le[0]):Ee(le[0]):le[0]:w=Ee(this.options.smartypants?M(le[0]):le[0]),{type:"text",raw:le[0],text:w}}},Se})(),I={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:st,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};I._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,I._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,I.def=he(I.def).replace("label",I._label).replace("title",I._title).getRegex(),I.bullet=/(?:[*+-]|\d{1,9}[.)])/,I.listItemStart=he(/^( *)(bull) */).replace("bull",I.bullet).getRegex(),I.list=he(I.list).replace(/bull/g,I.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+I.def.source+")").getRegex(),I._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",I._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,I.html=he(I.html,"i").replace("comment",I._comment).replace("tag",I._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),I.paragraph=he(I._paragraph).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.blockquote=he(I.blockquote).replace("paragraph",I.paragraph).getRegex(),I.normal=s({},I),I.gfm=s({},I.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),I.gfm.table=he(I.gfm.table).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.gfm.paragraph=he(I._paragraph).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",I.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.pedantic=s({},I.normal,{html:he(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",I._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:st,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:he(I.normal._paragraph).replace("hr",I.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",I.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ge={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:st,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:st,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ge._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ge.punctuation=he(ge.punctuation).replace(/punctuation/g,ge._punctuation).getRegex(),ge.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ge.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ge._comment=he(I._comment).replace("(?:-->|$)","-->").getRegex(),ge.emStrong.lDelim=he(ge.emStrong.lDelim).replace(/punct/g,ge._punctuation).getRegex(),ge.emStrong.rDelimAst=he(ge.emStrong.rDelimAst,"g").replace(/punct/g,ge._punctuation).getRegex(),ge.emStrong.rDelimUnd=he(ge.emStrong.rDelimUnd,"g").replace(/punct/g,ge._punctuation).getRegex(),ge._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ge._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ge._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ge.autolink=he(ge.autolink).replace("scheme",ge._scheme).replace("email",ge._email).getRegex(),ge._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ge.tag=he(ge.tag).replace("comment",ge._comment).replace("attribute",ge._attribute).getRegex(),ge._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ge._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ge._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ge.link=he(ge.link).replace("label",ge._label).replace("href",ge._href).replace("title",ge._title).getRegex(),ge.reflink=he(ge.reflink).replace("label",ge._label).replace("ref",I._label).getRegex(),ge.nolink=he(ge.nolink).replace("ref",I._label).getRegex(),ge.reflinkSearch=he(ge.reflinkSearch,"g").replace("reflink",ge.reflink).replace("nolink",ge.nolink).getRegex(),ge.normal=s({},ge),ge.pedantic=s({},ge.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:he(/^!?\[(label)\]\((.*?)\)/).replace("label",ge._label).getRegex(),reflink:he(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ge._label).getRegex()}),ge.gfm=s({},ge.normal,{escape:he(ge.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ge.gfm.url=he(ge.gfm.url,"i").replace("email",ge.gfm._extended_email).getRegex(),ge.breaks=s({},ge.gfm,{br:he(ge.br).replace("{2,}","*").getRegex(),text:he(ge.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Je(Se){return Se.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function $e(Se){var Ce="",de,P,M=Se.length;for(de=0;de<M;de++)P=Se.charCodeAt(de),Math.random()>.5&&(P="x"+P.toString(16)),Ce+="&#"+P+";";return Ce}var dt=(function(){function Se(de){this.tokens=[],this.tokens.links=Object.create(null),this.options=de||r.defaults,this.options.tokenizer=this.options.tokenizer||new z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var P={block:I.normal,inline:ge.normal};this.options.pedantic?(P.block=I.pedantic,P.inline=ge.pedantic):this.options.gfm&&(P.block=I.gfm,this.options.breaks?P.inline=ge.breaks:P.inline=ge.gfm),this.tokenizer.rules=P}Se.lex=function(P,M){var le=new Se(M);return le.lex(P)},Se.lexInline=function(P,M){var le=new Se(M);return le.inlineTokens(P)};var Ce=Se.prototype;return Ce.lex=function(P){P=P.replace(/\r\n|\r/g,`
`),this.blockTokens(P,this.tokens);for(var M;M=this.inlineQueue.shift();)this.inlineTokens(M.src,M.tokens);return this.tokens},Ce.blockTokens=function(P,M){var le=this;M===void 0&&(M=[]),this.options.pedantic?P=P.replace(/\t/g,"    ").replace(/^ +$/gm,""):P=P.replace(/^( *)(\t+)/gm,function(ye,re,J){return re+"    ".repeat(J.length)});for(var w,L,W,$;P;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ye){return(w=ye.call({lexer:le},P,M))?(P=P.substring(w.raw.length),M.push(w),!0):!1}))){if(w=this.tokenizer.space(P)){P=P.substring(w.raw.length),w.raw.length===1&&M.length>0?M[M.length-1].raw+=`
`:M.push(w);continue}if(w=this.tokenizer.code(P)){P=P.substring(w.raw.length),L=M[M.length-1],L&&(L.type==="paragraph"||L.type==="text")?(L.raw+=`
`+w.raw,L.text+=`
`+w.text,this.inlineQueue[this.inlineQueue.length-1].src=L.text):M.push(w);continue}if(w=this.tokenizer.fences(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.heading(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.hr(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.blockquote(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.list(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.html(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.def(P)){P=P.substring(w.raw.length),L=M[M.length-1],L&&(L.type==="paragraph"||L.type==="text")?(L.raw+=`
`+w.raw,L.text+=`
`+w.raw,this.inlineQueue[this.inlineQueue.length-1].src=L.text):this.tokens.links[w.tag]||(this.tokens.links[w.tag]={href:w.href,title:w.title});continue}if(w=this.tokenizer.table(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.lheading(P)){P=P.substring(w.raw.length),M.push(w);continue}if(W=P,this.options.extensions&&this.options.extensions.startBlock&&(function(){var ye=1/0,re=P.slice(1),J=void 0;le.options.extensions.startBlock.forEach(function(Te){J=Te.call({lexer:this},re),typeof J=="number"&&J>=0&&(ye=Math.min(ye,J))}),ye<1/0&&ye>=0&&(W=P.substring(0,ye+1))})(),this.state.top&&(w=this.tokenizer.paragraph(W))){L=M[M.length-1],$&&L.type==="paragraph"?(L.raw+=`
`+w.raw,L.text+=`
`+w.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=L.text):M.push(w),$=W.length!==P.length,P=P.substring(w.raw.length);continue}if(w=this.tokenizer.text(P)){P=P.substring(w.raw.length),L=M[M.length-1],L&&L.type==="text"?(L.raw+=`
`+w.raw,L.text+=`
`+w.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=L.text):M.push(w);continue}if(P){var ee="Infinite loop on byte: "+P.charCodeAt(0);if(this.options.silent){console.error(ee);break}else throw new Error(ee)}}return this.state.top=!0,M},Ce.inline=function(P,M){return M===void 0&&(M=[]),this.inlineQueue.push({src:P,tokens:M}),M},Ce.inlineTokens=function(P,M){var le=this;M===void 0&&(M=[]);var w,L,W,$=P,ee,ye,re;if(this.tokens.links){var J=Object.keys(this.tokens.links);if(J.length>0)for(;(ee=this.tokenizer.rules.inline.reflinkSearch.exec($))!=null;)J.includes(ee[0].slice(ee[0].lastIndexOf("[")+1,-1))&&($=$.slice(0,ee.index)+"["+ot("a",ee[0].length-2)+"]"+$.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ee=this.tokenizer.rules.inline.blockSkip.exec($))!=null;)$=$.slice(0,ee.index)+"["+ot("a",ee[0].length-2)+"]"+$.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ee=this.tokenizer.rules.inline.escapedEmSt.exec($))!=null;)$=$.slice(0,ee.index+ee[0].length-2)+"++"+$.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;P;)if(ye||(re=""),ye=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(me){return(w=me.call({lexer:le},P,M))?(P=P.substring(w.raw.length),M.push(w),!0):!1}))){if(w=this.tokenizer.escape(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.tag(P)){P=P.substring(w.raw.length),L=M[M.length-1],L&&w.type==="text"&&L.type==="text"?(L.raw+=w.raw,L.text+=w.text):M.push(w);continue}if(w=this.tokenizer.link(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.reflink(P,this.tokens.links)){P=P.substring(w.raw.length),L=M[M.length-1],L&&w.type==="text"&&L.type==="text"?(L.raw+=w.raw,L.text+=w.text):M.push(w);continue}if(w=this.tokenizer.emStrong(P,$,re)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.codespan(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.br(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.del(P)){P=P.substring(w.raw.length),M.push(w);continue}if(w=this.tokenizer.autolink(P,$e)){P=P.substring(w.raw.length),M.push(w);continue}if(!this.state.inLink&&(w=this.tokenizer.url(P,$e))){P=P.substring(w.raw.length),M.push(w);continue}if(W=P,this.options.extensions&&this.options.extensions.startInline&&(function(){var me=1/0,Qe=P.slice(1),nt=void 0;le.options.extensions.startInline.forEach(function(Xe){nt=Xe.call({lexer:this},Qe),typeof nt=="number"&&nt>=0&&(me=Math.min(me,nt))}),me<1/0&&me>=0&&(W=P.substring(0,me+1))})(),w=this.tokenizer.inlineText(W,Je)){P=P.substring(w.raw.length),w.raw.slice(-1)!=="_"&&(re=w.raw.slice(-1)),ye=!0,L=M[M.length-1],L&&L.type==="text"?(L.raw+=w.raw,L.text+=w.text):M.push(w);continue}if(P){var Te="Infinite loop on byte: "+P.charCodeAt(0);if(this.options.silent){console.error(Te);break}else throw new Error(Te)}}return M},n(Se,null,[{key:"rules",get:function(){return{block:I,inline:ge}}}]),Se})(),kt=(function(){function Se(de){this.options=de||r.defaults}var Ce=Se.prototype;return Ce.code=function(P,M,le){var w=(M||"").match(/\S*/)[0];if(this.options.highlight){var L=this.options.highlight(P,w);L!=null&&L!==P&&(le=!0,P=L)}return P=P.replace(/\n$/,"")+`
`,w?'<pre><code class="'+this.options.langPrefix+Ee(w)+'">'+(le?P:Ee(P,!0))+`</code></pre>
`:"<pre><code>"+(le?P:Ee(P,!0))+`</code></pre>
`},Ce.blockquote=function(P){return`<blockquote>
`+P+`</blockquote>
`},Ce.html=function(P){return P},Ce.heading=function(P,M,le,w){if(this.options.headerIds){var L=this.options.headerPrefix+w.slug(le);return"<h"+M+' id="'+L+'">'+P+"</h"+M+`>
`}return"<h"+M+">"+P+"</h"+M+`>
`},Ce.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ce.list=function(P,M,le){var w=M?"ol":"ul",L=M&&le!==1?' start="'+le+'"':"";return"<"+w+L+`>
`+P+"</"+w+`>
`},Ce.listitem=function(P){return"<li>"+P+`</li>
`},Ce.checkbox=function(P){return"<input "+(P?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ce.paragraph=function(P){return"<p>"+P+`</p>
`},Ce.table=function(P,M){return M&&(M="<tbody>"+M+"</tbody>"),`<table>
<thead>
`+P+`</thead>
`+M+`</table>
`},Ce.tablerow=function(P){return`<tr>
`+P+`</tr>
`},Ce.tablecell=function(P,M){var le=M.header?"th":"td",w=M.align?"<"+le+' align="'+M.align+'">':"<"+le+">";return w+P+("</"+le+`>
`)},Ce.strong=function(P){return"<strong>"+P+"</strong>"},Ce.em=function(P){return"<em>"+P+"</em>"},Ce.codespan=function(P){return"<code>"+P+"</code>"},Ce.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ce.del=function(P){return"<del>"+P+"</del>"},Ce.link=function(P,M,le){if(P=V(this.options.sanitize,this.options.baseUrl,P),P===null)return le;var w='<a href="'+P+'"';return M&&(w+=' title="'+M+'"'),w+=">"+le+"</a>",w},Ce.image=function(P,M,le){if(P=V(this.options.sanitize,this.options.baseUrl,P),P===null)return le;var w='<img src="'+P+'" alt="'+le+'"';return M&&(w+=' title="'+M+'"'),w+=this.options.xhtml?"/>":">",w},Ce.text=function(P){return P},Se})(),Tt=(function(){function Se(){}var Ce=Se.prototype;return Ce.strong=function(P){return P},Ce.em=function(P){return P},Ce.codespan=function(P){return P},Ce.del=function(P){return P},Ce.html=function(P){return P},Ce.text=function(P){return P},Ce.link=function(P,M,le){return""+le},Ce.image=function(P,M,le){return""+le},Ce.br=function(){return""},Se})(),Kt=(function(){function Se(){this.seen={}}var Ce=Se.prototype;return Ce.serialize=function(P){return P.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ce.getNextSafeSlug=function(P,M){var le=P,w=0;if(this.seen.hasOwnProperty(le)){w=this.seen[P];do w++,le=P+"-"+w;while(this.seen.hasOwnProperty(le))}return M||(this.seen[P]=w,this.seen[le]=0),le},Ce.slug=function(P,M){M===void 0&&(M={});var le=this.serialize(P);return this.getNextSafeSlug(le,M.dryrun)},Se})(),xt=(function(){function Se(de){this.options=de||r.defaults,this.options.renderer=this.options.renderer||new kt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Tt,this.slugger=new Kt}Se.parse=function(P,M){var le=new Se(M);return le.parse(P)},Se.parseInline=function(P,M){var le=new Se(M);return le.parseInline(P)};var Ce=Se.prototype;return Ce.parse=function(P,M){M===void 0&&(M=!0);var le="",w,L,W,$,ee,ye,re,J,Te,me,Qe,nt,Xe,We,pt,mt,At,yt,Bt,Yt=P.length;for(w=0;w<Yt;w++){if(me=P[w],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[me.type]&&(Bt=this.options.extensions.renderers[me.type].call({parser:this},me),Bt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(me.type))){le+=Bt||"";continue}switch(me.type){case"space":continue;case"hr":{le+=this.renderer.hr();continue}case"heading":{le+=this.renderer.heading(this.parseInline(me.tokens),me.depth,ne(this.parseInline(me.tokens,this.textRenderer)),this.slugger);continue}case"code":{le+=this.renderer.code(me.text,me.lang,me.escaped);continue}case"table":{for(J="",re="",$=me.header.length,L=0;L<$;L++)re+=this.renderer.tablecell(this.parseInline(me.header[L].tokens),{header:!0,align:me.align[L]});for(J+=this.renderer.tablerow(re),Te="",$=me.rows.length,L=0;L<$;L++){for(ye=me.rows[L],re="",ee=ye.length,W=0;W<ee;W++)re+=this.renderer.tablecell(this.parseInline(ye[W].tokens),{header:!1,align:me.align[W]});Te+=this.renderer.tablerow(re)}le+=this.renderer.table(J,Te);continue}case"blockquote":{Te=this.parse(me.tokens),le+=this.renderer.blockquote(Te);continue}case"list":{for(Qe=me.ordered,nt=me.start,Xe=me.loose,$=me.items.length,Te="",L=0;L<$;L++)pt=me.items[L],mt=pt.checked,At=pt.task,We="",pt.task&&(yt=this.renderer.checkbox(mt),Xe?pt.tokens.length>0&&pt.tokens[0].type==="paragraph"?(pt.tokens[0].text=yt+" "+pt.tokens[0].text,pt.tokens[0].tokens&&pt.tokens[0].tokens.length>0&&pt.tokens[0].tokens[0].type==="text"&&(pt.tokens[0].tokens[0].text=yt+" "+pt.tokens[0].tokens[0].text)):pt.tokens.unshift({type:"text",text:yt}):We+=yt),We+=this.parse(pt.tokens,Xe),Te+=this.renderer.listitem(We,At,mt);le+=this.renderer.list(Te,Qe,nt);continue}case"html":{le+=this.renderer.html(me.text);continue}case"paragraph":{le+=this.renderer.paragraph(this.parseInline(me.tokens));continue}case"text":{for(Te=me.tokens?this.parseInline(me.tokens):me.text;w+1<Yt&&P[w+1].type==="text";)me=P[++w],Te+=`
`+(me.tokens?this.parseInline(me.tokens):me.text);le+=M?this.renderer.paragraph(Te):Te;continue}default:{var Bn='Token with "'+me.type+'" type was not found.';if(this.options.silent){console.error(Bn);return}else throw new Error(Bn)}}}return le},Ce.parseInline=function(P,M){M=M||this.renderer;var le="",w,L,W,$=P.length;for(w=0;w<$;w++){if(L=P[w],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[L.type]&&(W=this.options.extensions.renderers[L.type].call({parser:this},L),W!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(L.type))){le+=W||"";continue}switch(L.type){case"escape":{le+=M.text(L.text);break}case"html":{le+=M.html(L.text);break}case"link":{le+=M.link(L.href,L.title,this.parseInline(L.tokens,M));break}case"image":{le+=M.image(L.href,L.title,L.text);break}case"strong":{le+=M.strong(this.parseInline(L.tokens,M));break}case"em":{le+=M.em(this.parseInline(L.tokens,M));break}case"codespan":{le+=M.codespan(L.text);break}case"br":{le+=M.br();break}case"del":{le+=M.del(this.parseInline(L.tokens,M));break}case"text":{le+=M.text(L.text);break}default:{var ee='Token with "'+L.type+'" type was not found.';if(this.options.silent){console.error(ee);return}else throw new Error(ee)}}}return le},Se})(),Ft=(function(){function Se(de){this.options=de||r.defaults}var Ce=Se.prototype;return Ce.preprocess=function(P){return P},Ce.postprocess=function(P){return P},Se})();Ft.passThroughHooks=new Set(["preprocess","postprocess"]);function un(Se,Ce,de){return function(P){if(P.message+=`
Please report this to https://github.com/markedjs/marked.`,Se){var M="<p>An error occurred:</p><pre>"+Ee(P.message+"",!0)+"</pre>";if(Ce)return Promise.resolve(M);if(de){de(null,M);return}return M}if(Ce)return Promise.reject(P);if(de){de(P);return}throw P}}function sn(Se,Ce){return function(de,P,M){typeof P=="function"&&(M=P,P=null);var le=s({},P);P=s({},ut.defaults,le);var w=un(P.silent,P.async,M);if(typeof de>"u"||de===null)return w(new Error("marked(): input parameter is undefined or null"));if(typeof de!="string")return w(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(de)+", string expected"));if(Ve(P),P.hooks&&(P.hooks.options=P),M){var L=P.highlight,W;try{P.hooks&&(de=P.hooks.preprocess(de)),W=Se(de,P)}catch(J){return w(J)}var $=function(Te){var me;if(!Te)try{P.walkTokens&&ut.walkTokens(W,P.walkTokens),me=Ce(W,P),P.hooks&&(me=P.hooks.postprocess(me))}catch(Qe){Te=Qe}return P.highlight=L,Te?w(Te):M(null,me)};if(!L||L.length<3||(delete P.highlight,!W.length))return $();var ee=0;ut.walkTokens(W,function(J){J.type==="code"&&(ee++,setTimeout(function(){L(J.text,J.lang,function(Te,me){if(Te)return $(Te);me!=null&&me!==J.text&&(J.text=me,J.escaped=!0),ee--,ee===0&&$()})},0))}),ee===0&&$();return}if(P.async)return Promise.resolve(P.hooks?P.hooks.preprocess(de):de).then(function(J){return Se(J,P)}).then(function(J){return P.walkTokens?Promise.all(ut.walkTokens(J,P.walkTokens)).then(function(){return J}):J}).then(function(J){return Ce(J,P)}).then(function(J){return P.hooks?P.hooks.postprocess(J):J}).catch(w);try{P.hooks&&(de=P.hooks.preprocess(de));var ye=Se(de,P);P.walkTokens&&ut.walkTokens(ye,P.walkTokens);var re=Ce(ye,P);return P.hooks&&(re=P.hooks.postprocess(re)),re}catch(J){return w(J)}}}function ut(Se,Ce,de){return sn(dt.lex,xt.parse)(Se,Ce,de)}ut.options=ut.setOptions=function(Se){return ut.defaults=s({},ut.defaults,Se),x(ut.defaults),ut},ut.getDefaults=T,ut.defaults=r.defaults,ut.use=function(){for(var Se=ut.defaults.extensions||{renderers:{},childTokens:{}},Ce=arguments.length,de=new Array(Ce),P=0;P<Ce;P++)de[P]=arguments[P];de.forEach(function(M){var le=s({},M);if(le.async=ut.defaults.async||le.async||!1,M.extensions&&(M.extensions.forEach(function(L){if(!L.name)throw new Error("extension name required");if(L.renderer){var W=Se.renderers[L.name];W?Se.renderers[L.name]=function(){for(var $=arguments.length,ee=new Array($),ye=0;ye<$;ye++)ee[ye]=arguments[ye];var re=L.renderer.apply(this,ee);return re===!1&&(re=W.apply(this,ee)),re}:Se.renderers[L.name]=L.renderer}if(L.tokenizer){if(!L.level||L.level!=="block"&&L.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Se[L.level]?Se[L.level].unshift(L.tokenizer):Se[L.level]=[L.tokenizer],L.start&&(L.level==="block"?Se.startBlock?Se.startBlock.push(L.start):Se.startBlock=[L.start]:L.level==="inline"&&(Se.startInline?Se.startInline.push(L.start):Se.startInline=[L.start]))}L.childTokens&&(Se.childTokens[L.name]=L.childTokens)}),le.extensions=Se),M.renderer&&(function(){var L=ut.defaults.renderer||new kt,W=function(ye){var re=L[ye];L[ye]=function(){for(var J=arguments.length,Te=new Array(J),me=0;me<J;me++)Te[me]=arguments[me];var Qe=M.renderer[ye].apply(L,Te);return Qe===!1&&(Qe=re.apply(L,Te)),Qe}};for(var $ in M.renderer)W($);le.renderer=L})(),M.tokenizer&&(function(){var L=ut.defaults.tokenizer||new z,W=function(ye){var re=L[ye];L[ye]=function(){for(var J=arguments.length,Te=new Array(J),me=0;me<J;me++)Te[me]=arguments[me];var Qe=M.tokenizer[ye].apply(L,Te);return Qe===!1&&(Qe=re.apply(L,Te)),Qe}};for(var $ in M.tokenizer)W($);le.tokenizer=L})(),M.hooks&&(function(){var L=ut.defaults.hooks||new Ft,W=function(ye){var re=L[ye];Ft.passThroughHooks.has(ye)?L[ye]=function(J){if(ut.defaults.async)return Promise.resolve(M.hooks[ye].call(L,J)).then(function(me){return re.call(L,me)});var Te=M.hooks[ye].call(L,J);return re.call(L,Te)}:L[ye]=function(){for(var J=arguments.length,Te=new Array(J),me=0;me<J;me++)Te[me]=arguments[me];var Qe=M.hooks[ye].apply(L,Te);return Qe===!1&&(Qe=re.apply(L,Te)),Qe}};for(var $ in M.hooks)W($);le.hooks=L})(),M.walkTokens){var w=ut.defaults.walkTokens;le.walkTokens=function(L){var W=[];return W.push(M.walkTokens.call(this,L)),w&&(W=W.concat(w.call(this,L))),W}}ut.setOptions(le)})},ut.walkTokens=function(Se,Ce){for(var de=[],P=function(){var L=le.value;switch(de=de.concat(Ce.call(ut,L)),L.type){case"table":{for(var W=g(L.header),$;!($=W()).done;){var ee=$.value;de=de.concat(ut.walkTokens(ee.tokens,Ce))}for(var ye=g(L.rows),re;!(re=ye()).done;)for(var J=re.value,Te=g(J),me;!(me=Te()).done;){var Qe=me.value;de=de.concat(ut.walkTokens(Qe.tokens,Ce))}break}case"list":{de=de.concat(ut.walkTokens(L.items,Ce));break}default:ut.defaults.extensions&&ut.defaults.extensions.childTokens&&ut.defaults.extensions.childTokens[L.type]?ut.defaults.extensions.childTokens[L.type].forEach(function(nt){de=de.concat(ut.walkTokens(L[nt],Ce))}):L.tokens&&(de=de.concat(ut.walkTokens(L.tokens,Ce)))}},M=g(Se),le;!(le=M()).done;)P();return de},ut.parseInline=sn(dt.lexInline,xt.parseInline),ut.Parser=xt,ut.parser=xt.parse,ut.Renderer=kt,ut.TextRenderer=Tt,ut.Lexer=dt,ut.lexer=dt.lex,ut.Tokenizer=z,ut.Slugger=Kt,ut.Hooks=Ft,ut.parse=ut;var Fn=ut.options,li=ut.setOptions,yn=ut.use,tn=ut.walkTokens,et=ut.parseInline,mn=ut,er=xt.parse,Kr=dt.lex;r.Hooks=Ft,r.Lexer=dt,r.Parser=xt,r.Renderer=kt,r.Slugger=Kt,r.TextRenderer=Tt,r.Tokenizer=z,r.getDefaults=T,r.lexer=Kr,r.marked=ut,r.options=Fn,r.parse=mn,r.parseInline=et,r.parser=er,r.setOptions=li,r.use=yn,r.walkTokens=tn})(Cv)),Cv}var Dv,s1;function rM(){if(s1)return Dv;s1=1;var r=fa();HO(),qO(),jO(),pw(),gw(),WO(),KO(),YO(),QO(),XO(),dw();var e=nM(),n=iM().marked,s=/Mac/.test(navigator.platform),u=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),d={toggleBold:ne,toggleItalic:oe,drawLink:ot,toggleHeadingSmaller:V,toggleHeadingBigger:q,drawImage:St,toggleBlockquote:B,toggleOrderedList:we,toggleUnorderedList:ue,toggleCodeBlock:xe,togglePreview:Tt,toggleStrikethrough:he,toggleHeading1:ae,toggleHeading2:G,toggleHeading3:ie,toggleHeading4:K,toggleHeading5:st,toggleHeading6:ce,cleanBlock:Ve,drawTable:ge,drawHorizontalRule:Je,undo:$e,redo:dt,toggleSideBySide:kt,toggleFullScreen:X},g={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},E=function(w){for(var L in d)if(d[L]===w)return L;return null},b=function(){var w=!1;return(function(L){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(L)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(L.substr(0,4)))&&(w=!0)})(navigator.userAgent||navigator.vendor||window.opera),w};function T(w){for(var L;(L=u.exec(w))!==null;){var W=L[0];if(W.indexOf("target=")===-1){var $=W.replace(/>$/,' target="_blank">');w=w.replace(W,$)}}return w}function x(w){for(var L=new DOMParser,W=L.parseFromString(w,"text/html"),$=W.getElementsByTagName("li"),ee=0;ee<$.length;ee++)for(var ye=$[ee],re=0;re<ye.children.length;re++){var J=ye.children[re];J instanceof HTMLInputElement&&J.type==="checkbox"&&(ye.style.marginLeft="-1.5em",ye.style.listStyleType="none")}return W.documentElement.innerHTML}function k(w){return s?w=w.replace("Ctrl","Cmd"):w=w.replace("Cmd","Ctrl"),w}function F(w,L,W,$){var ee=Y(w,!1,L,W,"button",$);ee.classList.add("easymde-dropdown"),ee.onclick=function(){ee.focus()};var ye=document.createElement("div");ye.className="easymde-dropdown-content";for(var re=0;re<w.children.length;re++){var J=w.children[re],Te;typeof J=="string"&&J in mn?Te=Y(mn[J],!0,L,W,"button",$):Te=Y(J,!0,L,W,"button",$),Te.addEventListener("click",function(me){me.stopPropagation()},!1),ye.appendChild(Te)}return ee.appendChild(ye),ee}function Y(w,L,W,$,ee,ye){w=w||{};var re=document.createElement(ee);if(w.attributes)for(var J in w.attributes)Object.prototype.hasOwnProperty.call(w.attributes,J)&&re.setAttribute(J,w.attributes[J]);var Te=ye.options.toolbarButtonClassPrefix?ye.options.toolbarButtonClassPrefix+"-":"";re.className=Te+w.name,re.setAttribute("type",ee),W=W??!0,w.text&&(re.innerText=w.text),w.name&&w.name in $&&(d[w.name]=w.action),w.title&&W&&(re.title=_e(w.title,w.action,$),s&&(re.title=re.title.replace("Ctrl",""),re.title=re.title.replace("Alt",""))),w.title&&re.setAttribute("aria-label",w.title),w.noDisable&&re.classList.add("no-disable"),w.noMobile&&re.classList.add("no-mobile");var me=[];typeof w.className<"u"&&(me=w.className.split(" "));for(var Qe=[],nt=0;nt<me.length;nt++){var Xe=me[nt];Xe.match(/^fa([srlb]|(-[\w-]*)|$)/)?Qe.push(Xe):re.classList.add(Xe)}if(re.tabIndex=-1,Qe.length>0){for(var We=document.createElement("i"),pt=0;pt<Qe.length;pt++){var mt=Qe[pt];We.classList.add(mt)}re.appendChild(We)}return typeof w.icon<"u"&&(re.innerHTML=w.icon),w.action&&L&&(typeof w.action=="function"?re.onclick=function(At){At.preventDefault(),w.action(ye)}:typeof w.action=="string"&&(re.onclick=function(At){At.preventDefault(),window.open(w.action,"_blank")})),re}function Z(){var w=document.createElement("i");return w.className="separator",w.innerHTML="|",w}function _e(w,L,W){var $,ee=w;return L&&($=E(L),W[$]&&(ee+=" ("+k(W[$])+")")),ee}function te(w,L){L=L||w.getCursor("start");var W=w.getTokenAt(L);if(!W.type)return{};for(var $=W.type.split(" "),ee={},ye,re,J=0;J<$.length;J++)ye=$[J],ye==="strong"?ee.bold=!0:ye==="variable-2"?(re=w.getLine(L.line),/^\s*\d+\.\s/.test(re)?ee["ordered-list"]=!0:ee["unordered-list"]=!0):ye==="atom"?ee.quote=!0:ye==="em"?ee.italic=!0:ye==="quote"?ee.quote=!0:ye==="strikethrough"?ee.strikethrough=!0:ye==="comment"?ee.code=!0:ye==="link"&&!ee.image?ee.link=!0:ye==="image"?ee.image=!0:ye.match(/^header(-[1-6])?$/)&&(ee[ye.replace("header","heading")]=!0);return ee}var Ee="";function X(w){var L=w.codemirror;L.setOption("fullScreen",!L.getOption("fullScreen")),L.getOption("fullScreen")?(Ee=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=Ee;var W=L.getWrapperElement(),$=W.nextSibling;if($.classList.contains("editor-preview-active-side"))if(w.options.sideBySideFullscreen===!1){var ee=W.parentNode;L.getOption("fullScreen")?ee.classList.remove("sided--no-fullscreen"):ee.classList.add("sided--no-fullscreen")}else kt(w);if(w.options.onToggleFullScreen&&w.options.onToggleFullScreen(L.getOption("fullScreen")||!1),typeof w.options.maxHeight<"u"&&(L.getOption("fullScreen")?(L.getScrollerElement().style.removeProperty("height"),$.style.removeProperty("height")):(L.getScrollerElement().style.height=w.options.maxHeight,w.setPreviewMaxHeight())),w.toolbar_div.classList.toggle("fullscreen"),w.toolbarElements&&w.toolbarElements.fullscreen){var ye=w.toolbarElements.fullscreen;ye.classList.toggle("active")}}function ne(w){sn(w,"bold",w.options.blockStyles.bold)}function oe(w){sn(w,"italic",w.options.blockStyles.italic)}function he(w){sn(w,"strikethrough","~~")}function xe(w){var L=w.options.blockStyles.code;function W(Ht){if(typeof Ht!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Ht+": "+Ht;return Ht.styles&&Ht.styles[2]&&Ht.styles[2].indexOf("formatting-code-block")!==-1}function $(Ht){return Ht.state.base.base||Ht.state.base}function ee(Ht,ui,Li,zi,Ai){Li=Li||Ht.getLineHandle(ui),zi=zi||Ht.getTokenAt({line:ui,ch:1}),Ai=Ai||!!Li.text&&Ht.getTokenAt({line:ui,ch:Li.text.length-1});var da=zi.type?zi.type.split(" "):[];return Ai&&$(Ai).indentedCode?"indented":da.indexOf("comment")===-1?!1:$(zi).fencedChars||$(Ai).fencedChars||W(Li)?"fenced":"single"}function ye(Ht,ui,Li,zi){var Ai=ui.line+1,da=Li.line+1,yr=ui.line!==Li.line,Yr=zi+`
`,Hi=`
`+zi;yr&&da++,yr&&Li.ch===0&&(Hi=zi+`
`,da--),Kt(Ht,!1,[Yr,Hi]),Ht.setSelection({line:Ai,ch:0},{line:da,ch:0})}var re=w.codemirror,J=re.getCursor("start"),Te=re.getCursor("end"),me=re.getTokenAt({line:J.line,ch:J.ch||1}),Qe=re.getLineHandle(J.line),nt=ee(re,J.line,Qe,me),Xe,We,pt;if(nt==="single"){var mt=Qe.text.slice(0,J.ch).replace("`",""),At=Qe.text.slice(J.ch).replace("`","");re.replaceRange(mt+At,{line:J.line,ch:0},{line:J.line,ch:99999999999999}),J.ch--,J!==Te&&Te.ch--,re.setSelection(J,Te),re.focus()}else if(nt==="fenced")if(J.line!==Te.line||J.ch!==Te.ch){for(Xe=J.line;Xe>=0&&(Qe=re.getLineHandle(Xe),!W(Qe));Xe--);var yt=re.getTokenAt({line:Xe,ch:1}),Bt=$(yt).fencedChars,Yt,Bn,zn,Qn;W(re.getLineHandle(J.line))?(Yt="",Bn=J.line):W(re.getLineHandle(J.line-1))?(Yt="",Bn=J.line-1):(Yt=Bt+`
`,Bn=J.line),W(re.getLineHandle(Te.line))?(zn="",Qn=Te.line,Te.ch===0&&(Qn+=1)):Te.ch!==0&&W(re.getLineHandle(Te.line+1))?(zn="",Qn=Te.line+1):(zn=Bt+`
`,Qn=Te.line+1),Te.ch===0&&(Qn-=1),re.operation(function(){re.replaceRange(zn,{line:Qn,ch:0},{line:Qn+(zn?0:1),ch:0}),re.replaceRange(Yt,{line:Bn,ch:0},{line:Bn+(Yt?0:1),ch:0})}),re.setSelection({line:Bn+(Yt?1:0),ch:0},{line:Qn+(Yt?1:-1),ch:0}),re.focus()}else{var ha=J.line;if(W(re.getLineHandle(J.line))&&(ee(re,J.line+1)==="fenced"?(Xe=J.line,ha=J.line+1):(We=J.line,ha=J.line-1)),Xe===void 0)for(Xe=ha;Xe>=0&&(Qe=re.getLineHandle(Xe),!W(Qe));Xe--);if(We===void 0)for(pt=re.lineCount(),We=ha;We<pt&&(Qe=re.getLineHandle(We),!W(Qe));We++);re.operation(function(){re.replaceRange("",{line:Xe,ch:0},{line:Xe+1,ch:0}),re.replaceRange("",{line:We-1,ch:0},{line:We,ch:0})}),re.focus()}else if(nt==="indented"){if(J.line!==Te.line||J.ch!==Te.ch)Xe=J.line,We=Te.line,Te.ch===0&&We--;else{for(Xe=J.line;Xe>=0;Xe--)if(Qe=re.getLineHandle(Xe),!Qe.text.match(/^\s*$/)&&ee(re,Xe,Qe)!=="indented"){Xe+=1;break}for(pt=re.lineCount(),We=J.line;We<pt;We++)if(Qe=re.getLineHandle(We),!Qe.text.match(/^\s*$/)&&ee(re,We,Qe)!=="indented"){We-=1;break}}var kr=re.getLineHandle(We+1),Ir=kr&&re.getTokenAt({line:We+1,ch:kr.text.length-1}),ys=Ir&&$(Ir).indentedCode;ys&&re.replaceRange(`
`,{line:We+1,ch:0});for(var Ui=Xe;Ui<=We;Ui++)re.indentLine(Ui,"subtract");re.focus()}else{var Vi=J.line===Te.line&&J.ch===Te.ch&&J.ch===0,Hn=J.line!==Te.line;Vi||Hn?ye(re,J,Te,L):Kt(re,!1,["`","`"])}}function B(w){Ft(w.codemirror,"quote")}function V(w){xt(w.codemirror,"smaller")}function q(w){xt(w.codemirror,"bigger")}function ae(w){xt(w.codemirror,void 0,1)}function G(w){xt(w.codemirror,void 0,2)}function ie(w){xt(w.codemirror,void 0,3)}function K(w){xt(w.codemirror,void 0,4)}function st(w){xt(w.codemirror,void 0,5)}function ce(w){xt(w.codemirror,void 0,6)}function ue(w){var L=w.codemirror,W="*";["-","+","*"].includes(w.options.unorderedListStyle)&&(W=w.options.unorderedListStyle),Ft(L,"unordered-list",W)}function we(w){Ft(w.codemirror,"ordered-list")}function Ve(w){ut(w.codemirror)}function ot(w){var L=w.options,W="https://";if(L.promptURLs){var $=prompt(L.promptTexts.link,W);if(!$)return!1;W=fe($)}un(w,"link",L.insertTexts.link,W)}function St(w){var L=w.options,W="https://";if(L.promptURLs){var $=prompt(L.promptTexts.image,W);if(!$)return!1;W=fe($)}un(w,"image",L.insertTexts.image,W)}function fe(w){return encodeURI(w).replace(/([\\()])/g,"\\$1")}function z(w){w.openBrowseFileWindow()}function I(w,L){var W=w.codemirror,$=te(W),ee=w.options,ye=L.substr(L.lastIndexOf("/")+1),re=ye.substring(ye.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(re))Kt(W,$.image,ee.insertTexts.uploadedImage,L);else{var J=ee.insertTexts.link;J[0]="["+ye,Kt(W,$.link,J,L)}w.updateStatusBar("upload-image",w.options.imageTexts.sbOnUploaded.replace("#image_name#",ye)),setTimeout(function(){w.updateStatusBar("upload-image",w.options.imageTexts.sbInit)},1e3)}function ge(w){var L=w.codemirror,W=te(L),$=w.options;Kt(L,W.table,$.insertTexts.table)}function Je(w){var L=w.codemirror,W=te(L),$=w.options;Kt(L,W.image,$.insertTexts.horizontalRule)}function $e(w){var L=w.codemirror;L.undo(),L.focus()}function dt(w){var L=w.codemirror;L.redo(),L.focus()}function kt(w){var L=w.codemirror,W=L.getWrapperElement(),$=W.nextSibling,ee=w.toolbarElements&&w.toolbarElements["side-by-side"],ye=!1,re=W.parentNode;$.classList.contains("editor-preview-active-side")?(w.options.sideBySideFullscreen===!1&&re.classList.remove("sided--no-fullscreen"),$.classList.remove("editor-preview-active-side"),ee&&ee.classList.remove("active"),W.classList.remove("CodeMirror-sided")):(setTimeout(function(){L.getOption("fullScreen")||(w.options.sideBySideFullscreen===!1?re.classList.add("sided--no-fullscreen"):X(w)),$.classList.add("editor-preview-active-side")},1),ee&&ee.classList.add("active"),W.classList.add("CodeMirror-sided"),ye=!0);var J=W.lastChild;if(J.classList.contains("editor-preview-active")){J.classList.remove("editor-preview-active");var Te=w.toolbarElements.preview,me=w.toolbar_div;Te.classList.remove("active"),me.classList.remove("disabled-for-preview")}var Qe=function(){var Xe=w.options.previewRender(w.value(),$);Xe!=null&&($.innerHTML=Xe)};if(L.sideBySideRenderingFunction||(L.sideBySideRenderingFunction=Qe),ye){var nt=w.options.previewRender(w.value(),$);nt!=null&&($.innerHTML=nt),L.on("update",L.sideBySideRenderingFunction)}else L.off("update",L.sideBySideRenderingFunction);L.refresh()}function Tt(w){var L=w.codemirror,W=L.getWrapperElement(),$=w.toolbar_div,ee=w.options.toolbar?w.toolbarElements.preview:!1,ye=W.lastChild,re=L.getWrapperElement().nextSibling;if(re.classList.contains("editor-preview-active-side")&&kt(w),!ye||!ye.classList.contains("editor-preview-full")){if(ye=document.createElement("div"),ye.className="editor-preview-full",w.options.previewClass)if(Array.isArray(w.options.previewClass))for(var J=0;J<w.options.previewClass.length;J++)ye.classList.add(w.options.previewClass[J]);else typeof w.options.previewClass=="string"&&ye.classList.add(w.options.previewClass);W.appendChild(ye)}ye.classList.contains("editor-preview-active")?(ye.classList.remove("editor-preview-active"),ee&&(ee.classList.remove("active"),$.classList.remove("disabled-for-preview"))):(setTimeout(function(){ye.classList.add("editor-preview-active")},1),ee&&(ee.classList.add("active"),$.classList.add("disabled-for-preview")));var Te=w.options.previewRender(w.value(),ye);Te!==null&&(ye.innerHTML=Te)}function Kt(w,L,W,$){if(!w.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var ee,ye=W[0],re=W[1],J={},Te={};Object.assign(J,w.getCursor("start")),Object.assign(Te,w.getCursor("end")),$&&(ye=ye.replace("#url#",$),re=re.replace("#url#",$)),L?(ee=w.getLine(J.line),ye=ee.slice(0,J.ch),re=ee.slice(J.ch),w.replaceRange(ye+re,{line:J.line,ch:0})):(ee=w.getSelection(),w.replaceSelection(ye+ee+re),J.ch+=ye.length,J!==Te&&(Te.ch+=ye.length)),w.setSelection(J,Te),w.focus()}}function xt(w,L,W){if(!w.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var $=w.getCursor("start"),ee=w.getCursor("end"),ye=$.line;ye<=ee.line;ye++)(function(re){var J=w.getLine(re),Te=J.search(/[^#]/);L!==void 0?Te<=0?L=="bigger"?J="###### "+J:J="# "+J:Te==6&&L=="smaller"?J=J.substr(7):Te==1&&L=="bigger"?J=J.substr(2):L=="bigger"?J=J.substr(1):J="#"+J:Te<=0?J="#".repeat(W)+" "+J:Te==W?J=J.substr(Te+1):J="#".repeat(W)+" "+J.substr(Te+1),w.replaceRange(J,{line:re,ch:0},{line:re,ch:99999999999999})})(ye);w.focus()}}function Ft(w,L,W){if(!w.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var $=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,ee=/^\s*/,ye=te(w),re=w.getCursor("start"),J=w.getCursor("end"),Te={quote:/^(\s*)>\s+/,"unordered-list":$,"ordered-list":$},me=function(pt,mt){var At={quote:">","unordered-list":W,"ordered-list":"%%i."};return At[pt].replace("%%i",mt)},Qe=function(pt,mt){var At={quote:">","unordered-list":"\\"+W,"ordered-list":"\\d+."},yt=new RegExp(At[pt]);return mt&&yt.test(mt)},nt=function(pt,mt,At){var yt=$.exec(mt),Bt=me(pt,Xe);return yt!==null?(Qe(pt,yt[2])&&(Bt=""),mt=yt[1]+Bt+yt[3]+mt.replace(ee,"").replace(Te[pt],"$1")):At==!1&&(mt=Bt+" "+mt),mt},Xe=1,We=re.line;We<=J.line;We++)(function(pt){var mt=w.getLine(pt);ye[L]?mt=mt.replace(Te[L],"$1"):(L=="unordered-list"&&(mt=nt("ordered-list",mt,!0)),mt=nt(L,mt,!1),Xe+=1),w.replaceRange(mt,{line:pt,ch:0},{line:pt,ch:99999999999999})})(We);w.focus()}}function un(w,L,W,$){if(!(!w.codemirror||w.isPreviewActive())){var ee=w.codemirror,ye=te(ee),re=ye[L];if(!re){Kt(ee,re,W,$);return}var J=ee.getCursor("start"),Te=ee.getCursor("end"),me=ee.getLine(J.line),Qe=me.slice(0,J.ch),nt=me.slice(J.ch);L=="link"?Qe=Qe.replace(/(.*)[^!]\[/,"$1"):L=="image"&&(Qe=Qe.replace(/(.*)!\[$/,"$1")),nt=nt.replace(/]\(.*?\)/,""),ee.replaceRange(Qe+nt,{line:J.line,ch:0},{line:J.line,ch:99999999999999}),J.ch-=W[0].length,J!==Te&&(Te.ch-=W[0].length),ee.setSelection(J,Te),ee.focus()}}function sn(w,L,W,$){if(!(!w.codemirror||w.isPreviewActive())){$=typeof $>"u"?W:$;var ee=w.codemirror,ye=te(ee),re,J=W,Te=$,me=ee.getCursor("start"),Qe=ee.getCursor("end");ye[L]?(re=ee.getLine(me.line),J=re.slice(0,me.ch),Te=re.slice(me.ch),L=="bold"?(J=J.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),Te=Te.replace(/(\*\*|__)/,"")):L=="italic"?(J=J.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),Te=Te.replace(/(\*|_)/,"")):L=="strikethrough"&&(J=J.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),Te=Te.replace(/(\*\*|~~)/,"")),ee.replaceRange(J+Te,{line:me.line,ch:0},{line:me.line,ch:99999999999999}),L=="bold"||L=="strikethrough"?(me.ch-=2,me!==Qe&&(Qe.ch-=2)):L=="italic"&&(me.ch-=1,me!==Qe&&(Qe.ch-=1))):(re=ee.getSelection(),L=="bold"?(re=re.split("**").join(""),re=re.split("__").join("")):L=="italic"?(re=re.split("*").join(""),re=re.split("_").join("")):L=="strikethrough"&&(re=re.split("~~").join("")),ee.replaceSelection(J+re+Te),me.ch+=W.length,Qe.ch=me.ch+re.length),ee.setSelection(me,Qe),ee.focus()}}function ut(w){if(!w.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var L=w.getCursor("start"),W=w.getCursor("end"),$,ee=L.line;ee<=W.line;ee++)$=w.getLine(ee),$=$.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),w.replaceRange($,{line:ee,ch:0},{line:ee,ch:99999999999999})}function Fn(w,L){if(Math.abs(w)<1024)return""+w+L[0];var W=0;do w/=1024,++W;while(Math.abs(w)>=1024&&W<L.length);return""+w.toFixed(1)+L[W]}function li(w,L){for(var W in L)Object.prototype.hasOwnProperty.call(L,W)&&(L[W]instanceof Array?w[W]=L[W].concat(w[W]instanceof Array?w[W]:[]):L[W]!==null&&typeof L[W]=="object"&&L[W].constructor===Object?w[W]=li(w[W]||{},L[W]):w[W]=L[W]);return w}function yn(w){for(var L=1;L<arguments.length;L++)w=li(w,arguments[L]);return w}function tn(w){var L=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,W=w.match(L),$=0;if(W===null)return $;for(var ee=0;ee<W.length;ee++)W[ee].charCodeAt(0)>=19968?$+=W[ee].length:$+=1;return $}var et={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},mn={bold:{name:"bold",action:ne,className:et.bold,title:"Bold",default:!0},italic:{name:"italic",action:oe,className:et.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:he,className:et.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:V,className:et.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:V,className:et["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:q,className:et["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:ae,className:et["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:G,className:et["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:ie,className:et["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:xe,className:et.code,title:"Code"},quote:{name:"quote",action:B,className:et.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:ue,className:et["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:we,className:et["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Ve,className:et["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:ot,className:et.link,title:"Create Link",default:!0},image:{name:"image",action:St,className:et.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:z,className:et["upload-image"],title:"Import an image"},table:{name:"table",action:ge,className:et.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:Je,className:et["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Tt,className:et.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:kt,className:et["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:X,className:et.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:et.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:$e,className:et.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:dt,className:et.redo,noDisable:!0,title:"Redo"}},er={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},Kr={link:"URL for the link:",image:"URL of the image:"},Se={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},Ce={bold:"**",code:"```",italic:"*"},de={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},P={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function M(w){w=w||{},w.parent=this;var L=!0;if(w.autoDownloadFontAwesome===!1&&(L=!1),w.autoDownloadFontAwesome!==!0)for(var W=document.styleSheets,$=0;$<W.length;$++)W[$].href&&W[$].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(L=!1);if(L){var ee=document.createElement("link");ee.rel="stylesheet",ee.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(ee)}if(w.element)this.element=w.element;else if(w.element===null){console.log("EasyMDE: Error. No element was found.");return}if(w.toolbar===void 0){w.toolbar=[];for(var ye in mn)Object.prototype.hasOwnProperty.call(mn,ye)&&(ye.indexOf("separator-")!=-1&&w.toolbar.push("|"),(mn[ye].default===!0||w.showIcons&&w.showIcons.constructor===Array&&w.showIcons.indexOf(ye)!=-1)&&w.toolbar.push(ye))}if(Object.prototype.hasOwnProperty.call(w,"previewClass")||(w.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(w,"status")||(w.status=["autosave","lines","words","cursor"],w.uploadImage&&w.status.unshift("upload-image")),w.previewRender||(w.previewRender=function(J){return this.parent.markdown(J)}),w.parsingConfig=yn({highlightFormatting:!0},w.parsingConfig||{}),w.insertTexts=yn({},er,w.insertTexts||{}),w.promptTexts=yn({},Kr,w.promptTexts||{}),w.blockStyles=yn({},Ce,w.blockStyles||{}),w.autosave!=null&&(w.autosave.timeFormat=yn({},Se,w.autosave.timeFormat||{})),w.iconClassMap=yn({},et,w.iconClassMap||{}),w.shortcuts=yn({},g,w.shortcuts||{}),w.maxHeight=w.maxHeight||void 0,w.direction=w.direction||"ltr",typeof w.maxHeight<"u"?w.minHeight=w.maxHeight:w.minHeight=w.minHeight||"300px",w.errorCallback=w.errorCallback||function(J){alert(J)},w.uploadImage=w.uploadImage||!1,w.imageMaxSize=w.imageMaxSize||2097152,w.imageAccept=w.imageAccept||"image/png, image/jpeg, image/gif, image/avif",w.imageTexts=yn({},de,w.imageTexts||{}),w.errorMessages=yn({},P,w.errorMessages||{}),w.imagePathAbsolute=w.imagePathAbsolute||!1,w.imageCSRFName=w.imageCSRFName||"csrfmiddlewaretoken",w.imageCSRFHeader=w.imageCSRFHeader||!1,w.imageInputName=w.imageInputName||"image",w.autosave!=null&&w.autosave.unique_id!=null&&w.autosave.unique_id!=""&&(w.autosave.uniqueId=w.autosave.unique_id),w.overlayMode&&w.overlayMode.combine===void 0&&(w.overlayMode.combine=!0),this.options=w,this.render(),w.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(w.initialValue),w.uploadImage){var re=this;this.codemirror.on("dragenter",function(J,Te){re.updateStatusBar("upload-image",re.options.imageTexts.sbOnDragEnter),Te.stopPropagation(),Te.preventDefault()}),this.codemirror.on("dragend",function(J,Te){re.updateStatusBar("upload-image",re.options.imageTexts.sbInit),Te.stopPropagation(),Te.preventDefault()}),this.codemirror.on("dragleave",function(J,Te){re.updateStatusBar("upload-image",re.options.imageTexts.sbInit),Te.stopPropagation(),Te.preventDefault()}),this.codemirror.on("dragover",function(J,Te){re.updateStatusBar("upload-image",re.options.imageTexts.sbOnDragEnter),Te.stopPropagation(),Te.preventDefault()}),this.codemirror.on("drop",function(J,Te){Te.stopPropagation(),Te.preventDefault(),w.imageUploadFunction?re.uploadImagesUsingCustomFunction(w.imageUploadFunction,Te.dataTransfer.files):re.uploadImages(Te.dataTransfer.files)}),this.codemirror.on("paste",function(J,Te){w.imageUploadFunction?re.uploadImagesUsingCustomFunction(w.imageUploadFunction,Te.clipboardData.files):re.uploadImages(Te.clipboardData.files)})}}M.prototype.uploadImages=function(w,L,W){if(w.length!==0){for(var $=[],ee=0;ee<w.length;ee++)$.push(w[ee].name),this.uploadImage(w[ee],L,W);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",$.join(", ")))}},M.prototype.uploadImagesUsingCustomFunction=function(w,L){if(L.length!==0){for(var W=[],$=0;$<L.length;$++)W.push(L[$].name),this.uploadImageUsingCustomFunction(w,L[$]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",W.join(", ")))}},M.prototype.updateStatusBar=function(w,L){if(this.gui.statusbar){var W=this.gui.statusbar.getElementsByClassName(w);W.length===1?this.gui.statusbar.getElementsByClassName(w)[0].textContent=L:W.length===0?console.log("EasyMDE: status bar item "+w+" was not found."):console.log("EasyMDE: Several status bar items named "+w+" was found.")}},M.prototype.markdown=function(w){if(n){var L;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?L=this.options.renderingConfig.markedOptions:L={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?L.breaks=!1:L.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var W=this.options.renderingConfig.hljs||window.hljs;W&&(L.highlight=function(ee,ye){return ye&&W.getLanguage(ye)?W.highlight(ye,ee).value:W.highlightAuto(ee).value})}n.use(L);var $=n.parse(w);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&($=this.options.renderingConfig.sanitizerFunction.call(this,$)),$=T($),$=x($),$}},M.prototype.render=function(w){if(w||(w=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===w)return;this.element=w;var L=this.options,W=this,$={};for(var ee in L.shortcuts)L.shortcuts[ee]!==null&&d[ee]!==null&&(function(At){$[k(L.shortcuts[At])]=function(){var yt=d[At];typeof yt=="function"?yt(W):typeof yt=="string"&&window.open(yt,"_blank")}})(ee);$.Enter="newlineAndIndentContinueMarkdownList",$.Tab="tabAndIndentMarkdownList",$["Shift-Tab"]="shiftTabAndUnindentMarkdownList",$.Esc=function(At){At.getOption("fullScreen")&&X(W)},this.documentOnKeyDown=function(At){At=At||window.event,At.keyCode==27&&W.codemirror.getOption("fullScreen")&&X(W)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var ye,re;L.overlayMode?(r.defineMode("overlay-mode",function(At){return r.overlayMode(r.getMode(At,L.spellChecker!==!1?"spell-checker":"gfm"),L.overlayMode.mode,L.overlayMode.combine)}),ye="overlay-mode",re=L.parsingConfig,re.gitHubSpice=!1):(ye=L.parsingConfig,ye.name="gfm",ye.gitHubSpice=!1),L.spellChecker!==!1&&(ye="spell-checker",re=L.parsingConfig,re.name="gfm",re.gitHubSpice=!1,typeof L.spellChecker=="function"?L.spellChecker({codeMirrorInstance:r}):e({codeMirrorInstance:r}));function J(At,yt,Bt){return{addNew:!1}}if(this.codemirror=r.fromTextArea(w,{mode:ye,backdrop:re,theme:L.theme!=null?L.theme:"easymde",tabSize:L.tabSize!=null?L.tabSize:2,indentUnit:L.tabSize!=null?L.tabSize:2,indentWithTabs:L.indentWithTabs!==!1,lineNumbers:L.lineNumbers===!0,autofocus:L.autofocus===!0,extraKeys:$,direction:L.direction,lineWrapping:L.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:L.placeholder||w.getAttribute("placeholder")||"",styleSelectedText:L.styleSelectedText!=null?L.styleSelectedText:!b(),scrollbarStyle:L.scrollbarStyle!=null?L.scrollbarStyle:"native",configureMouse:J,inputStyle:L.inputStyle!=null?L.inputStyle:b()?"contenteditable":"textarea",spellcheck:L.nativeSpellcheck!=null?L.nativeSpellcheck:!0,autoRefresh:L.autoRefresh!=null?L.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=L.minHeight,typeof L.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=L.maxHeight),L.forceSync===!0){var Te=this.codemirror;Te.on("change",function(){Te.save()})}this.gui={};var me=document.createElement("div");me.classList.add("EasyMDEContainer"),me.setAttribute("role","application");var Qe=this.codemirror.getWrapperElement();Qe.parentNode.insertBefore(me,Qe),me.appendChild(Qe),L.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),L.status!==!1&&(this.gui.statusbar=this.createStatusbar()),L.autosave!=null&&L.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(W._autosave_timeout),W._autosave_timeout=setTimeout(function(){W.autosave()},W.options.autosave.submit_delay||W.options.autosave.delay||1e3)}));function nt(At,yt){var Bt,Yt=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return At<Yt?Bt=yt+"px":Bt=yt/At*100+"%",Bt}var Xe=this;function We(At,yt){var Bt=new URL(yt.url,document.baseURI).href;At.setAttribute("data-img-src",Bt),At.setAttribute("style","--bg-image:url("+Bt+");--width:"+yt.naturalWidth+"px;--height:"+nt(yt.naturalWidth,yt.naturalHeight)),Xe.codemirror.setSize()}function pt(){L.previewImagesInEditor&&me.querySelectorAll(".cm-image-marker").forEach(function(At){var yt=At.parentElement;if(yt.innerText.match(/^!\[.*?\]\(.*\)/g)&&!yt.hasAttribute("data-img-src")){var Bt=yt.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Bt&&Bt.length>=2){var Yt=Bt[1];if(L.imagesPreviewHandler){var Bn=L.imagesPreviewHandler(Bt[1]);typeof Bn=="string"&&(Yt=Bn)}if(window.EMDEimagesCache[Yt])We(yt,window.EMDEimagesCache[Yt]);else{window.EMDEimagesCache[Yt]={};var zn=document.createElement("img");zn.onload=function(){window.EMDEimagesCache[Yt]={naturalWidth:zn.naturalWidth,naturalHeight:zn.naturalHeight,url:Yt},We(yt,window.EMDEimagesCache[Yt])},zn.src=Yt}}}})}this.codemirror.on("update",function(){pt()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(L.autofocus===!0||w.autofocus)&&this.codemirror.focus();var mt=this.codemirror;setTimeout((function(){mt.refresh()}).bind(mt),0)},M.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function le(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return M.prototype.autosave=function(){if(le()){var w=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(w.element.form!=null&&w.element.form!=null&&w.element.form.addEventListener("submit",function(){clearTimeout(w.autosaveTimeoutId),w.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+w.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var L=w.value();L!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,L):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var W=document.getElementById("autosaved");if(W!=null&&W!=null&&W!=""){var $=new Date,ee=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format($),ye=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;W.innerHTML=ye+ee}}else console.log("EasyMDE: localStorage not available, cannot autosave")},M.prototype.clearAutosavedValue=function(){if(le()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},M.prototype.openBrowseFileWindow=function(w,L){var W=this,$=this.gui.toolbar.getElementsByClassName("imageInput")[0];$.click();function ee(ye){W.options.imageUploadFunction?W.uploadImagesUsingCustomFunction(W.options.imageUploadFunction,ye.target.files):W.uploadImages(ye.target.files,w,L),$.removeEventListener("change",ee)}$.addEventListener("change",ee)},M.prototype.uploadImage=function(w,L,W){var $=this;L=L||function(me){I($,me)};function ee(Te){$.updateStatusBar("upload-image",Te),setTimeout(function(){$.updateStatusBar("upload-image",$.options.imageTexts.sbInit)},1e4),W&&typeof W=="function"&&W(Te),$.options.errorCallback(Te)}function ye(Te){var me=$.options.imageTexts.sizeUnits.split(",");return Te.replace("#image_name#",w.name).replace("#image_size#",Fn(w.size,me)).replace("#image_max_size#",Fn($.options.imageMaxSize,me))}if(w.size>this.options.imageMaxSize){ee(ye(this.options.errorMessages.fileTooLarge));return}var re=new FormData;re.append("image",w),$.options.imageCSRFToken&&!$.options.imageCSRFHeader&&re.append($.options.imageCSRFName,$.options.imageCSRFToken);var J=new XMLHttpRequest;J.upload.onprogress=function(Te){if(Te.lengthComputable){var me=""+Math.round(Te.loaded*100/Te.total);$.updateStatusBar("upload-image",$.options.imageTexts.sbProgress.replace("#file_name#",w.name).replace("#progress#",me))}},J.open("POST",this.options.imageUploadEndpoint),$.options.imageCSRFToken&&$.options.imageCSRFHeader&&J.setRequestHeader($.options.imageCSRFName,$.options.imageCSRFToken),J.onload=function(){try{var Te=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),ee(ye($.options.errorMessages.importError));return}this.status===200&&Te&&!Te.error&&Te.data&&Te.data.filePath?L(($.options.imagePathAbsolute?"":window.location.origin+"/")+Te.data.filePath):Te.error&&Te.error in $.options.errorMessages?ee(ye($.options.errorMessages[Te.error])):Te.error?ee(ye(Te.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),ee(ye($.options.errorMessages.importError)))},J.onerror=function(Te){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+Te.target.status+" ("+Te.target.statusText+")"),ee($.options.errorMessages.importError)},J.send(re)},M.prototype.uploadImageUsingCustomFunction=function(w,L){var W=this;function $(re){I(W,re)}function ee(re){var J=ye(re);W.updateStatusBar("upload-image",J),setTimeout(function(){W.updateStatusBar("upload-image",W.options.imageTexts.sbInit)},1e4),W.options.errorCallback(J)}function ye(re){var J=W.options.imageTexts.sizeUnits.split(",");return re.replace("#image_name#",L.name).replace("#image_size#",Fn(L.size,J)).replace("#image_max_size#",Fn(W.options.imageMaxSize,J))}w.apply(this,[L,$,ee])},M.prototype.setPreviewMaxHeight=function(){var w=this.codemirror,L=w.getWrapperElement(),W=L.nextSibling,$=parseInt(window.getComputedStyle(L).paddingTop),ee=parseInt(window.getComputedStyle(L).borderTopWidth),ye=parseInt(this.options.maxHeight),re=ye+$*2+ee*2,J=re.toString()+"px";W.style.height=J},M.prototype.createSideBySide=function(){var w=this.codemirror,L=w.getWrapperElement(),W=L.nextSibling;if(!W||!W.classList.contains("editor-preview-side")){if(W=document.createElement("div"),W.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var $=0;$<this.options.previewClass.length;$++)W.classList.add(this.options.previewClass[$]);else typeof this.options.previewClass=="string"&&W.classList.add(this.options.previewClass);L.parentNode.insertBefore(W,L.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return W;var ee=!1,ye=!1;return w.on("scroll",function(re){if(ee){ee=!1;return}ye=!0;var J=re.getScrollInfo().height-re.getScrollInfo().clientHeight,Te=parseFloat(re.getScrollInfo().top)/J,me=(W.scrollHeight-W.clientHeight)*Te;W.scrollTop=me}),W.onscroll=function(){if(ye){ye=!1;return}ee=!0;var re=W.scrollHeight-W.clientHeight,J=parseFloat(W.scrollTop)/re,Te=(w.getScrollInfo().height-w.getScrollInfo().clientHeight)*J;w.scrollTo(0,Te)},W},M.prototype.createToolbar=function(w){if(w=w||this.options.toolbar,!(!w||w.length===0)){var L;for(L=0;L<w.length;L++)mn[w[L]]!=null&&(w[L]=mn[w[L]]);var W=document.createElement("div");W.className="editor-toolbar",W.setAttribute("role","toolbar");var $=this,ee={};for($.toolbar=w,L=0;L<w.length;L++)if(!(w[L].name=="guide"&&$.options.toolbarGuideIcon===!1)&&!($.options.hideIcons&&$.options.hideIcons.indexOf(w[L].name)!=-1)&&!((w[L].name=="fullscreen"||w[L].name=="side-by-side")&&b())){if(w[L]==="|"){for(var ye=!1,re=L+1;re<w.length;re++)w[re]!=="|"&&(!$.options.hideIcons||$.options.hideIcons.indexOf(w[re].name)==-1)&&(ye=!0);if(!ye)continue}(function(me){var Qe;if(me==="|"?Qe=Z():me.children?Qe=F(me,$.options.toolbarTips,$.options.shortcuts,$):Qe=Y(me,!0,$.options.toolbarTips,$.options.shortcuts,"button",$),ee[me.name||me]=Qe,W.appendChild(Qe),me.name==="upload-image"){var nt=document.createElement("input");nt.className="imageInput",nt.type="file",nt.multiple=!0,nt.name=$.options.imageInputName,nt.accept=$.options.imageAccept,nt.style.display="none",nt.style.opacity=0,W.appendChild(nt)}})(w[L])}$.toolbar_div=W,$.toolbarElements=ee;var J=this.codemirror;J.on("cursorActivity",function(){var me=te(J);for(var Qe in ee)(function(nt){var Xe=ee[nt];me[nt]?Xe.classList.add("active"):nt!="fullscreen"&&nt!="side-by-side"&&Xe.classList.remove("active")})(Qe)});var Te=J.getWrapperElement();return Te.parentNode.insertBefore(W,Te),W}},M.prototype.createStatusbar=function(w){w=w||this.options.status;var L=this.options,W=this.codemirror;if(!(!w||w.length===0)){var $=[],ee,ye,re,J;for(ee=0;ee<w.length;ee++)if(ye=void 0,re=void 0,J=void 0,typeof w[ee]=="object")$.push({className:w[ee].className,defaultValue:w[ee].defaultValue,onUpdate:w[ee].onUpdate,onActivity:w[ee].onActivity});else{var Te=w[ee];Te==="words"?(J=function(We){We.innerHTML=tn(W.getValue())},ye=function(We){We.innerHTML=tn(W.getValue())}):Te==="lines"?(J=function(We){We.innerHTML=W.lineCount()},ye=function(We){We.innerHTML=W.lineCount()}):Te==="cursor"?(J=function(We){We.innerHTML="1:1"},re=function(We){var pt=W.getCursor(),mt=pt.line+1,At=pt.ch+1;We.innerHTML=mt+":"+At}):Te==="autosave"?J=function(We){L.autosave!=null&&L.autosave.enabled===!0&&We.setAttribute("id","autosaved")}:Te==="upload-image"&&(J=function(We){We.innerHTML=L.imageTexts.sbInit}),$.push({className:Te,defaultValue:J,onUpdate:ye,onActivity:re})}var me=document.createElement("div");for(me.className="editor-statusbar",ee=0;ee<$.length;ee++){var Qe=$[ee],nt=document.createElement("span");nt.className=Qe.className,typeof Qe.defaultValue=="function"&&Qe.defaultValue(nt),typeof Qe.onUpdate=="function"&&this.codemirror.on("update",(function(We,pt){return function(){pt.onUpdate(We)}})(nt,Qe)),typeof Qe.onActivity=="function"&&this.codemirror.on("cursorActivity",(function(We,pt){return function(){pt.onActivity(We)}})(nt,Qe)),me.appendChild(nt)}var Xe=this.codemirror.getWrapperElement();return Xe.parentNode.insertBefore(me,Xe.nextSibling),me}},M.prototype.value=function(w){var L=this.codemirror;if(w===void 0)return L.getValue();if(L.getDoc().setValue(w),this.isPreviewActive()){var W=L.getWrapperElement(),$=W.lastChild,ee=this.options.previewRender(w,$);ee!==null&&($.innerHTML=ee)}return this},M.toggleBold=ne,M.toggleItalic=oe,M.toggleStrikethrough=he,M.toggleBlockquote=B,M.toggleHeadingSmaller=V,M.toggleHeadingBigger=q,M.toggleHeading1=ae,M.toggleHeading2=G,M.toggleHeading3=ie,M.toggleHeading4=K,M.toggleHeading5=st,M.toggleHeading6=ce,M.toggleCodeBlock=xe,M.toggleUnorderedList=ue,M.toggleOrderedList=we,M.cleanBlock=Ve,M.drawLink=ot,M.drawImage=St,M.drawUploadedImage=z,M.drawTable=ge,M.drawHorizontalRule=Je,M.undo=$e,M.redo=dt,M.togglePreview=Tt,M.toggleSideBySide=kt,M.toggleFullScreen=X,M.prototype.toggleBold=function(){ne(this)},M.prototype.toggleItalic=function(){oe(this)},M.prototype.toggleStrikethrough=function(){he(this)},M.prototype.toggleBlockquote=function(){B(this)},M.prototype.toggleHeadingSmaller=function(){V(this)},M.prototype.toggleHeadingBigger=function(){q(this)},M.prototype.toggleHeading1=function(){ae(this)},M.prototype.toggleHeading2=function(){G(this)},M.prototype.toggleHeading3=function(){ie(this)},M.prototype.toggleHeading4=function(){K(this)},M.prototype.toggleHeading5=function(){st(this)},M.prototype.toggleHeading6=function(){ce(this)},M.prototype.toggleCodeBlock=function(){xe(this)},M.prototype.toggleUnorderedList=function(){ue(this)},M.prototype.toggleOrderedList=function(){we(this)},M.prototype.cleanBlock=function(){Ve(this)},M.prototype.drawLink=function(){ot(this)},M.prototype.drawImage=function(){St(this)},M.prototype.drawUploadedImage=function(){z(this)},M.prototype.drawTable=function(){ge(this)},M.prototype.drawHorizontalRule=function(){Je(this)},M.prototype.undo=function(){$e(this)},M.prototype.redo=function(){dt(this)},M.prototype.togglePreview=function(){Tt(this)},M.prototype.toggleSideBySide=function(){kt(this)},M.prototype.toggleFullScreen=function(){X(this)},M.prototype.isPreviewActive=function(){var w=this.codemirror,L=w.getWrapperElement(),W=L.lastChild;return W.classList.contains("editor-preview-active")},M.prototype.isSideBySideActive=function(){var w=this.codemirror,L=w.getWrapperElement(),W=L.nextSibling;return W.classList.contains("editor-preview-active-side")},M.prototype.isFullscreenActive=function(){var w=this.codemirror;return w.getOption("fullScreen")},M.prototype.getState=function(){var w=this.codemirror;return te(w)},M.prototype.toTextArea=function(){var w=this.codemirror,L=w.getWrapperElement(),W=L.parentNode;W&&(this.gui.toolbar&&W.removeChild(this.gui.toolbar),this.gui.statusbar&&W.removeChild(this.gui.statusbar),this.gui.sideBySide&&W.removeChild(this.gui.sideBySide)),W.parentNode.insertBefore(L,W),W.remove(),w.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},Dv=M,Dv}var aM=rM();const sM=ay(aM);var oM=0,lM=()=>`simplemde-editor-${++oM}`,uM=({options:r,id:e,currentValueRef:n,textRef:s})=>{const[u,d]=De.useState(null),g=De.useCallback((T,x,k)=>{const F=r?.imageUploadFunction;F&&F(T,Z=>{x(Z)},k)},[r?.imageUploadFunction]),E=De.useRef(u);E.current=u,De.useEffect(()=>{let T;if(s){const x={element:s,initialValue:n.current},k=r?.imageUploadFunction?g:void 0;T=new sM(Object.assign({},x,r,{imageUploadFunction:k})),d(T)}return()=>{T?.toTextArea(),T?.cleanup()}},[s,n,e,g,r]);const b=De.useMemo(()=>u?.codemirror,[u?.codemirror]);return{editor:u,codemirror:b}},mw=ng.forwardRef((r,e)=>{const{events:n,value:s,options:u,children:d,extraKeys:g,getLineAndCursor:E,getMdeInstance:b,getCodemirrorInstance:T,onChange:x,id:k,placeholder:F,textareaProps:Y,...Z}=r,_e=De.useMemo(()=>k??lM(),[k]),te=De.useRef(null),Ee=De.useRef(!0),X=De.useRef(s);X.current=s;const[ne,oe]=De.useState(null),{editor:he,codemirror:xe}=uM({options:u,id:_e,currentValueRef:X,textRef:ne});De.useEffect(()=>{Ee.current&&he?.value(s??""),Ee.current=!0},[he,s]);const B=De.useCallback((ae,G)=>{he?.value()!==X.current&&(Ee.current=!1,x?.(he?.value()??"",G))},[he,x]);De.useEffect(()=>{u?.autofocus&&(xe?.focus(),xe?.setCursor(xe?.lineCount(),0))},[xe,u?.autofocus]);const V=De.useCallback(()=>{xe&&E?.(xe.getDoc().getCursor())},[xe,E]);De.useEffect(()=>{V()},[V]),De.useEffect(()=>{he&&b?.(he)},[he,b]),De.useEffect(()=>{xe&&T?.(xe)},[xe,T,b]),De.useEffect(()=>{g&&xe&&xe.setOption("extraKeys",Object.assign({},xe.getOption("extraKeys"),g))},[xe,g]),De.useEffect(()=>{var ae;const G=(ae=te.current)==null?void 0:ae.getElementsByClassName("editor-toolbarNode")[0],ie=xe&&B;return ie?(G?.addEventListener("click",ie),()=>{G?.removeEventListener("click",ie)}):()=>{}},[xe,B]),De.useEffect(()=>(xe?.on("change",B),xe?.on("cursorActivity",V),()=>{xe?.off("change",B),xe?.off("cursorActivity",V)}),[xe,V,B]);const q=De.useRef(n);return De.useEffect(()=>(n!==q.current&&q.current&&Object.entries(q.current).forEach(([G,ie])=>{ie&&xe?.off(G,ie)}),n&&Object.entries(n).forEach(([G,ie])=>{ie&&xe?.on(G,ie)}),q.current=n,()=>{n&&Object.entries(n).forEach(([G,ie])=>{ie&&xe?.off(G,ie)})}),[xe,n]),ng.createElement("div",{id:`${_e}-wrapper`,...Z,ref:ae=>{typeof e=="function"?e(ae):e&&(e.current=ae),te.current=ae}},ng.createElement("textarea",{...Y,id:_e,placeholder:F,ref:oe,style:{display:"none"}}))});mw.displayName="SimpleMdeReact";var cM=mw;const fM=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hM=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),o1=r=>{const e=hM(r);return e.charAt(0).toUpperCase()+e.slice(1)},vw=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),dM=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gM=De.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:g,...E},b)=>De.createElement("svg",{ref:b,...pM,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:vw("lucide",u),...!d&&!dM(E)&&{"aria-hidden":"true"},...E},[...g.map(([T,x])=>De.createElement(T,x)),...Array.isArray(d)?d:[d]]));const Js=(r,e)=>{const n=De.forwardRef(({className:s,...u},d)=>De.createElement(gM,{ref:d,iconNode:e,className:vw(`lucide-${fM(o1(r))}`,`lucide-${r}`,s),...u}));return n.displayName=o1(r),n};const mM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vM=Js("book-open",mM);const yM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_M=Js("calendar",yM);const EM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],bM=Js("loader",EM);const TM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SM=Js("log-out",TM);const wM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AM=Js("plus",wM);const CM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],DM=Js("save",CM);const xM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],RM=Js("search",xM);const kM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yw=Js("tag",kM);const IM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NM=Js("users",IM);const LM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],OM=Js("x",LM),MM={async uploadFile(r,e="attachments"){try{const n=`${Date.now()}_${r.name}`,s=NO(BO,`${e}/${n}`),u=await kO(s,r);return{url:await IO(u.ref),filename:r.name,path:u.ref.fullPath}}catch(n){throw console.error("Error uploading file: ",n),n}}};function _w({initialData:r={},onSave:e,onCancel:n,onDelete:s}){const[u,d]=De.useState(r.title||""),[g,E]=De.useState(r.markdown||""),[b,T]=De.useState(r.subject||"General"),[x,k]=De.useState(r.tags?.join(", ")||""),[F,Y]=De.useState(r.sharedWith?.join(", ")||""),[Z,_e]=De.useState(!1),te=De.useCallback(oe=>{E(oe)},[]),Ee=async()=>{if(!u.trim())return alert("Please enter a title");_e(!0);const oe={title:u,markdown:g,subject:b,tags:x.split(",").map(he=>he.trim()).filter(he=>he),sharedWith:F.split(",").map(he=>he.trim()).filter(he=>he),content:g};try{await e(oe)}catch(he){console.error("Failed to save",he)}finally{_e(!1)}},X=async(oe,he,xe)=>{try{const{url:B}=await MM.uploadFile(oe,"images");he(B)}catch(B){console.error("Image upload failed",B),xe(B.message)}},ne=De.useMemo(()=>({autofocus:!0,spellChecker:!1,placeholder:"Start taking notes...",status:!1,uploadImage:!0,imageUploadFunction:(oe,he,xe)=>{X(oe,he,xe)},toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list","|","link","image","|","preview","side-by-side","fullscreen"]}),[]);return Ge.jsxs("div",{className:"note-editor-container",children:[Ge.jsxs("div",{className:"note-editor-header",children:[Ge.jsx("input",{type:"text",className:"note-title-input",placeholder:"Note Title",value:u,onChange:oe=>d(oe.target.value)}),Ge.jsxs("div",{className:"note-actions",children:[Ge.jsxs("button",{className:"btn-secondary",onClick:n,disabled:Z,children:[Ge.jsx(OM,{size:18})," Cancel"]}),r.id&&Ge.jsx("button",{className:"btn-danger",onClick:()=>s(r.id),disabled:Z,children:"Delete"}),Ge.jsxs("button",{className:"btn-primary",onClick:Ee,disabled:Z,children:[Ge.jsx(DM,{size:18})," ",Z?"Saving...":"Save Note"]})]})]}),Ge.jsxs("div",{className:"note-meta-controls",children:[Ge.jsxs("div",{className:"form-group-inline",children:[Ge.jsx("label",{children:"Subject:"}),Ge.jsxs("select",{value:b,onChange:oe=>T(oe.target.value),className:"meta-select",children:[Ge.jsx("option",{value:"General",children:"General"}),Ge.jsx("option",{value:"Web Technologies",children:"Web Technologies"}),Ge.jsx("option",{value:"Mobile Dev",children:"Mobile Dev"}),Ge.jsx("option",{value:"Cloud Computing",children:"Cloud Computing"}),Ge.jsx("option",{value:"Data Structures",children:"Data Structures"})]})]}),Ge.jsxs("div",{className:"form-group-inline",children:[Ge.jsx("label",{children:Ge.jsx(yw,{size:14})}),Ge.jsx("input",{type:"text",placeholder:"Tags (comma separated)",value:x,onChange:oe=>k(oe.target.value),className:"meta-input"})]}),Ge.jsxs("div",{className:"form-group-inline",children:[Ge.jsx("label",{children:Ge.jsx(NM,{size:14})}),Ge.jsx("input",{type:"text",placeholder:"Share with emails (comma separated)",value:F,onChange:oe=>Y(oe.target.value),className:"meta-input",style:{minWidth:"250px"}})]})]}),Ge.jsx("div",{className:"editor-wrapper",children:Ge.jsx(cM,{value:g,onChange:te,options:ne})})]})}function PM({note:r,onClick:e}){const n=r.updatedAt?.toDate().toLocaleDateString()||"Just now";return Ge.jsxs("div",{className:"note-card",onClick:()=>e(r),children:[Ge.jsxs("div",{className:"note-card-header",children:[Ge.jsx("span",{className:"note-subject",children:r.subject}),Ge.jsxs("span",{className:"note-date",children:[Ge.jsx(_M,{size:12})," ",n]})]}),Ge.jsx("h3",{className:"note-title",children:r.title}),Ge.jsx("p",{className:"note-preview",children:r.markdown?r.markdown.substring(0,100)+(r.markdown.length>100?"...":""):"No additional text"}),Ge.jsx("div",{className:"note-tags",children:r.tags&&r.tags.map((s,u)=>Ge.jsxs("span",{className:"note-tag",children:[Ge.jsx(yw,{size:10})," ",s]},u))})]})}function FM(){const{currentUser:r,logout:e}=om(),n=Pg(),[s,u]=De.useState([]),[d,g]=De.useState(!0),[E,b]=De.useState(!1),[T,x]=De.useState(null),[k,F]=De.useState("");De.useEffect(()=>{async function ne(){if(r)try{const oe=await Ef.getUserNotes(r.uid,r.email);u(oe)}catch(oe){console.error("Failed to load notes",oe)}finally{g(!1)}}ne()},[r,E]);async function Y(){try{await e(),n("/login")}catch(ne){console.error("Failed to log out",ne)}}const Z=()=>{x(null),b(!0)},_e=ne=>{x(ne),b(!0)},te=async ne=>{try{T?await Ef.updateNote(T.id,ne):await Ef.createNote(r.uid,ne),b(!1)}catch(oe){console.error("Error saving note",oe),alert("Failed to save note. Please try again.")}},Ee=async ne=>{if(window.confirm("Are you sure you want to delete this note?"))try{await Ef.deleteNote(ne),x(null),b(!1)}catch(oe){console.error("Failed to delete note",oe),alert("Failed to delete note.")}},X=s.filter(ne=>ne.title.toLowerCase().includes(k.toLowerCase())||ne.subject.toLowerCase().includes(k.toLowerCase())||ne.tags?.some(oe=>oe.toLowerCase().includes(k.toLowerCase())));return d?Ge.jsxs("div",{className:"loading-screen",children:[Ge.jsx(bM,{className:"spin"})," Loading your notes..."]}):Ge.jsxs("div",{className:"dashboard-container",children:[Ge.jsxs("header",{className:"dashboard-header",children:[Ge.jsxs("div",{className:"logo-section",children:[Ge.jsx("h1",{children:"My Notes"}),Ge.jsx("span",{className:"user-email",children:r?.email})]}),Ge.jsx("div",{className:"header-actions",children:Ge.jsx("button",{onClick:Y,className:"btn-icon",children:Ge.jsx(SM,{size:20})})})]}),Ge.jsx("main",{className:"dashboard-main",children:E?Ge.jsx(_w,{initialData:T||{},onSave:te,onCancel:()=>b(!1),onDelete:Ee}):Ge.jsxs(Ge.Fragment,{children:[Ge.jsxs("div",{className:"dashboard-toolbar",children:[Ge.jsxs("div",{className:"search-bar",children:[Ge.jsx(RM,{size:18,className:"search-icon"}),Ge.jsx("input",{type:"text",placeholder:"Search notes by title, subject or tag...",value:k,onChange:ne=>F(ne.target.value)})]}),Ge.jsxs("button",{onClick:Z,className:"btn-primary create-btn",children:[Ge.jsx(AM,{size:18})," New Note"]}),Ge.jsxs("button",{onClick:()=>n("/study"),className:"btn-secondary create-btn",children:[Ge.jsx(vM,{size:18})," Study Mode"]})]}),X.length===0?Ge.jsx("div",{className:"empty-state",children:Ge.jsx("p",{children:"No notes found. Create your first note!"})}):Ge.jsx("div",{className:"notes-grid",children:X.map(ne=>Ge.jsx(PM,{note:ne,onClick:_e},ne.id))})]})})]})}function BM(){const{state:r}=jo(),{currentUser:e}=om(),[n,s]=De.useState(""),[u,d]=De.useState(""),g=T=>{const x=T.target.value;s(x);const k=E(x);k&&d(k)},E=T=>{const x=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,k=T.match(x);return k&&k[2].length===11?k[2]:null},b=async T=>{try{r?.note?.id?await Ef.updateNote(r.note.id,T):await Ef.createNote(e.uid,T),alert("Note saved!")}catch(x){console.error("Error saving note",x),alert("Failed to save note.")}};return Ge.jsxs("div",{className:"study-mode-container",children:[Ge.jsxs("div",{className:"video-pane",children:[Ge.jsx("div",{className:"video-input-container",children:Ge.jsx("input",{type:"text",placeholder:"Paste YouTube Link here...",value:n,onChange:g,className:"video-url-input"})}),u?Ge.jsx("div",{className:"video-player-wrapper",children:Ge.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${u}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})}):Ge.jsx("div",{className:"video-placeholder",children:Ge.jsx("p",{children:"Enter a YouTube URL to start watching."})})]}),Ge.jsx("div",{className:"notes-pane",children:Ge.jsx(_w,{initialData:r?.note||{},onSave:b,onCancel:()=>{},onDelete:()=>{}})})]})}function UM(){return Ge.jsx(UO,{children:Ge.jsx("div",{className:"app-container",children:Ge.jsxs(AC,{children:[Ge.jsx(Zh,{path:"/login",element:Ge.jsx(VO,{})}),Ge.jsx(Zh,{path:"/",element:Ge.jsx(Ib,{children:Ge.jsx(FM,{})})}),Ge.jsx(Zh,{path:"/study",element:Ge.jsx(Ib,{children:Ge.jsx(BM,{})})}),Ge.jsx(Zh,{path:"*",element:Ge.jsx(T1,{to:"/",replace:!0})})]})})})}xA.createRoot(document.getElementById("root")).render(Ge.jsx(ng.StrictMode,{children:Ge.jsx(QC,{children:Ge.jsx(UM,{})})}));
